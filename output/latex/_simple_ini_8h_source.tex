\hypertarget{_simple_ini_8h_source}{}\doxysection{Simple\+Ini.\+h}
\label{_simple_ini_8h_source}\index{AseSprite/aseprite/third\_party/simpleini/SimpleIni.h@{AseSprite/aseprite/third\_party/simpleini/SimpleIni.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00195\ \textcolor{preprocessor}{\#ifndef\ INCLUDED\_SimpleIni\_h}}
\DoxyCodeLine{00196\ \textcolor{preprocessor}{\#define\ INCLUDED\_SimpleIni\_h}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)\ \&\&\ (\_MSC\_VER\ >=\ 1020)}}
\DoxyCodeLine{00199\ \textcolor{preprocessor}{\#\ pragma\ once}}
\DoxyCodeLine{00200\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \textcolor{comment}{//\ Disable\ these\ warnings\ in\ MSVC:}}
\DoxyCodeLine{00203\ \textcolor{comment}{//\ \ 4127\ "{}conditional\ expression\ is\ constant"{}\ as\ the\ conversion\ classes\ trigger}}
\DoxyCodeLine{00204\ \textcolor{comment}{//\ \ it\ with\ the\ statement\ if\ (sizeof(SI\_CHAR)\ ==\ sizeof(char)).\ This\ test\ will}}
\DoxyCodeLine{00205\ \textcolor{comment}{//\ \ be\ optimized\ away\ in\ a\ release\ build.}}
\DoxyCodeLine{00206\ \textcolor{comment}{//\ \ 4503\ 'insert'\ :\ decorated\ name\ length\ exceeded,\ name\ was\ truncated}}
\DoxyCodeLine{00207\ \textcolor{comment}{//\ \ 4702\ "{}unreachable\ code"{}\ as\ the\ MS\ STL\ header\ causes\ it\ in\ release\ mode.}}
\DoxyCodeLine{00208\ \textcolor{comment}{//\ \ Again,\ the\ code\ causing\ the\ warning\ will\ be\ cleaned\ up\ by\ the\ compiler.}}
\DoxyCodeLine{00209\ \textcolor{comment}{//\ \ 4786\ "{}identifier\ truncated\ to\ 256\ characters"{}\ as\ this\ is\ thrown\ hundreds}}
\DoxyCodeLine{00210\ \textcolor{comment}{//\ \ of\ times\ VC6\ as\ soon\ as\ STL\ is\ used.}}
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{00212\ \textcolor{preprocessor}{\#\ pragma\ warning\ (push)}}
\DoxyCodeLine{00213\ \textcolor{preprocessor}{\#\ pragma\ warning\ (disable:\ 4127\ 4503\ 4702\ 4786)}}
\DoxyCodeLine{00214\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \textcolor{preprocessor}{\#include\ <cstring>}}
\DoxyCodeLine{00217\ \textcolor{preprocessor}{\#include\ <cstdlib>}}
\DoxyCodeLine{00218\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00219\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00220\ \textcolor{preprocessor}{\#include\ <list>}}
\DoxyCodeLine{00221\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00222\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \textcolor{preprocessor}{\#ifdef\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{00225\ \textcolor{preprocessor}{\#\ include\ <iostream>}}
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#ifdef\ \_DEBUG}}
\DoxyCodeLine{00229\ \textcolor{preprocessor}{\#\ ifndef\ assert}}
\DoxyCodeLine{00230\ \textcolor{preprocessor}{\#\ \ include\ <cassert>}}
\DoxyCodeLine{00231\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{00232\ \textcolor{preprocessor}{\#\ define\ SI\_ASSERT(x)\ \ \ assert(x)}}
\DoxyCodeLine{00233\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00234\ \textcolor{preprocessor}{\#\ define\ SI\_ASSERT(x)}}
\DoxyCodeLine{00235\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \textcolor{keyword}{enum}\ SI\_Error\ \{}
\DoxyCodeLine{00238\ \ \ \ \ SI\_OK\ \ \ \ \ \ \ =\ \ 0,\ \ \ }
\DoxyCodeLine{00239\ \ \ \ \ SI\_UPDATED\ \ =\ \ 1,\ \ \ }
\DoxyCodeLine{00240\ \ \ \ \ SI\_INSERTED\ =\ \ 2,\ \ \ }
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{comment}{//\ note:\ test\ for\ any\ error\ with\ (retval\ <\ 0)}}
\DoxyCodeLine{00243\ \ \ \ \ SI\_FAIL\ \ \ \ \ =\ -\/1,\ \ \ }
\DoxyCodeLine{00244\ \ \ \ \ SI\_NOMEM\ \ \ \ =\ -\/2,\ \ \ }
\DoxyCodeLine{00245\ \ \ \ \ SI\_FILE\ \ \ \ \ =\ -\/3\ \ \ \ }
\DoxyCodeLine{00246\ \};}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \textcolor{preprocessor}{\#define\ SI\_UTF8\_SIGNATURE\ \ \ \ \ "{}\(\backslash\)xEF\(\backslash\)xBB\(\backslash\)xBF"{}}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{00251\ \textcolor{preprocessor}{\#\ define\ SI\_NEWLINE\_A\ \ \ "{}\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{00252\ \textcolor{preprocessor}{\#\ define\ SI\_NEWLINE\_W\ \ \ L"{}\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{00253\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_WIN32}}
\DoxyCodeLine{00254\ \textcolor{preprocessor}{\#\ define\ SI\_NEWLINE\_A\ \ \ "{}\(\backslash\)n"{}}}
\DoxyCodeLine{00255\ \textcolor{preprocessor}{\#\ define\ SI\_NEWLINE\_W\ \ \ L"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_WIN32}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \textcolor{preprocessor}{\#if\ defined(SI\_CONVERT\_ICU)}}
\DoxyCodeLine{00259\ \textcolor{preprocessor}{\#\ include\ <unicode/ustring.h>}}
\DoxyCodeLine{00260\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \textcolor{preprocessor}{\#if\ defined(\_WIN32)}}
\DoxyCodeLine{00263\ \textcolor{preprocessor}{\#\ define\ SI\_HAS\_WIDE\_FILE}}
\DoxyCodeLine{00264\ \textcolor{preprocessor}{\#\ define\ SI\_WCHAR\_T\ \ \ \ \ wchar\_t}}
\DoxyCodeLine{00265\ \textcolor{preprocessor}{\#elif\ defined(SI\_CONVERT\_ICU)}}
\DoxyCodeLine{00266\ \textcolor{preprocessor}{\#\ define\ SI\_HAS\_WIDE\_FILE}}
\DoxyCodeLine{00267\ \textcolor{preprocessor}{\#\ define\ SI\_WCHAR\_T\ \ \ \ \ UChar}}
\DoxyCodeLine{00268\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00272\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MAIN\ TEMPLATE\ CLASS}}
\DoxyCodeLine{00273\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00294\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{00295\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}}
\DoxyCodeLine{00296\ \{}
\DoxyCodeLine{00297\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00298\ \ \ \ \ \textcolor{keyword}{typedef}\ SI\_CHAR\ SI\_CHAR\_T;}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \{}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pItem;}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pComment;}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ nOrder;}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}(\textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pszItem\ =\ NULL,\ \textcolor{keywordtype}{int}\ a\_nOrder\ =\ 0)}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ :\ pItem(a\_pszItem)}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ pComment(NULL)}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ nOrder(a\_nOrder)}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \{\ \}}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}(\textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pszItem,\ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pszComment,\ \textcolor{keywordtype}{int}\ a\_nOrder)}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ :\ pItem(a\_pszItem)}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ pComment(a\_pszComment)}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ nOrder(a\_nOrder)}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \{\ \}}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \&\ rhs)\ \{\ operator=(rhs);\ \}}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \&\ rhs)\ \{}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ pItem\ \ \ \ =\ rhs.pItem;}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ pComment\ =\ rhs.pComment;}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ nOrder\ \ \ =\ rhs.nOrder;}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)\ \&\&\ \_MSC\_VER\ <=\ 1200}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ operator<(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \&\ rhs)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry_1_1_load_order}{LoadOrder}}()(*\textcolor{keyword}{this},\ rhs);\ \}}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ operator>(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \&\ rhs)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry_1_1_load_order}{LoadOrder}}()(rhs,\ *\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{00328\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry_1_1_key_order}{KeyOrder}}\ \{}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ operator()(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \&\ lhs,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \&\ rhs)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ SI\_STRLESS\ isLess\ =\ SI\_STRLESS();}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isLess(lhs.pItem,\ rhs.pItem);}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry_1_1_load_order}{LoadOrder}}\ \{}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ operator()(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \&\ lhs,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}\ \&\ rhs)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lhs.nOrder\ !=\ rhs.nOrder)\ \{}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lhs.nOrder\ <\ rhs.nOrder;}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry_1_1_key_order}{KeyOrder}}()(lhs.pItem,\ rhs.pItem);}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00347\ \ \ \ \ \};}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{keyword}{typedef}\ std::multimap<Entry,const\ SI\_CHAR\ *,typename\ Entry::KeyOrder>\ \mbox{\hyperlink{class_c_simple_ini_templ_ae7f0e11d84617214bd479de6332c80e6}{TKeyVal}};}
\DoxyCodeLine{00351\ }
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keyword}{typedef}\ std::map<Entry,TKeyVal,typename\ Entry::KeyOrder>\ \mbox{\hyperlink{class_c_simple_ini_templ_a2e7963455f680abd0d6901786495a665}{TSection}};}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{keyword}{typedef}\ std::list<Entry>\ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}};}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00363\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}\ \{}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}()\ \{\ \}}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{\string~OutputWriter}}()\ \{\ \}}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Write(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ a\_pBuf)\ =\ 0;}
\DoxyCodeLine{00368\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}\ \&);\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ disable}}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}\ \&);\ \textcolor{comment}{//\ disable}}
\DoxyCodeLine{00371\ \ \ \ \ \};}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_c_simple_ini_templ_1_1_file_writer}{FileWriter}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}\ \{}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ FILE\ *\ m\_file;}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_file_writer}{FileWriter}}(FILE\ *\ a\_file)\ :\ m\_file(a\_file)\ \{\ \}}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ Write(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ a\_pBuf)\ \{}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ fputs(a\_pBuf,\ m\_file);}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_file_writer}{FileWriter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_file_writer}{FileWriter}}\ \&);\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ disable}}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_file_writer}{FileWriter}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_file_writer}{FileWriter}}\ \&);\ \textcolor{comment}{//\ disable}}
\DoxyCodeLine{00384\ \ \ \ \ \};}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_c_simple_ini_templ_1_1_string_writer}{StringWriter}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}\ \{}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ std::string\ \&\ m\_string;}
\DoxyCodeLine{00389\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_string_writer}{StringWriter}}(std::string\ \&\ a\_string)\ :\ m\_string(a\_string)\ \{\ \}}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ Write(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ a\_pBuf)\ \{}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ m\_string.append(a\_pBuf);}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_string_writer}{StringWriter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_string_writer}{StringWriter}}\ \&);\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ disable}}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_string_writer}{StringWriter}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_string_writer}{StringWriter}}\ \&);\ \textcolor{comment}{//\ disable}}
\DoxyCodeLine{00397\ \ \ \ \ \};}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \textcolor{preprocessor}{\#ifdef\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{keyword}{class\ }StreamWriter\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}\ \{}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ std::ostream\ \&\ m\_ostream;}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ StreamWriter(std::ostream\ \&\ a\_ostream)\ :\ m\_ostream(a\_ostream)\ \{\ \}}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ Write(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ a\_pBuf)\ \{}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ m\_ostream\ <<\ a\_pBuf;}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ StreamWriter(\textcolor{keyword}{const}\ StreamWriter\ \&);\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ disable}}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ StreamWriter\ \&\ operator=(\textcolor{keyword}{const}\ StreamWriter\ \&);\ \textcolor{comment}{//\ disable}}
\DoxyCodeLine{00411\ \ \ \ \ \};}
\DoxyCodeLine{00412\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_c_simple_ini_templ_1_1_converter}{Converter}}\ :\ \textcolor{keyword}{private}\ SI\_CONVERTER\ \{}
\DoxyCodeLine{00418\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_converter}{Converter}}(\textcolor{keywordtype}{bool}\ a\_bStoreIsUtf8)\ :\ SI\_CONVERTER(a\_bStoreIsUtf8)\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ m\_scratch.resize(1024);}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_converter}{Converter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_converter}{Converter}}\ \&\ rhs)\ \{\ operator=(rhs);\ \}}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_converter}{Converter}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_converter}{Converter}}\ \&\ rhs)\ \{}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ m\_scratch\ =\ rhs.m\_scratch;}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ ConvertToStore(\textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pszString)\ \{}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ uLen\ =\ SI\_CONVERTER::SizeToStore(a\_pszString);}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (uLen\ ==\ (\textcolor{keywordtype}{size\_t})(-\/1))\ \{}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (uLen\ >\ m\_scratch.size())\ \{}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_scratch.resize(m\_scratch.size()\ *\ 2);}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_CONVERTER::ConvertToStore(}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_pszString,}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(m\_scratch.data()),}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_scratch.size());}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ Data()\ \{\ \textcolor{keywordflow}{return}\ m\_scratch.data();\ \}}
\DoxyCodeLine{00441\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ std::string\ m\_scratch;}
\DoxyCodeLine{00443\ \ \ \ \ \};}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00446\ \ \ \ \ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00454\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_af878d0a2aa780255b621e95f58f691d8}{CSimpleIniTempl}}(}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ a\_bIsUtf8\ \ \ \ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ a\_bMultiKey\ \ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ a\_bMultiLine\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00461\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a8c933adc1d46bb663caeb6f9dee5aa12}{\string~CSimpleIniTempl}}();}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00464\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_c_simple_ini_templ_a89b34d38be4518e9ed91c634a41b8055}{Reset}}();}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_a54bbe9727db17b368a0a75abd5e52d1c}{IsEmpty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_data.empty();\ \}}
\DoxyCodeLine{00468\ }
\DoxyCodeLine{00469\ \ \ \ \ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00486\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_c_simple_ini_templ_aa9a15a66de893571014f661f89cb4d4b}{SetUnicode}}(\textcolor{keywordtype}{bool}\ a\_bIsUtf8\ =\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_pData)\ m\_bStoreIsUtf8\ =\ a\_bIsUtf8;}
\DoxyCodeLine{00488\ \ \ \ \ \}}
\DoxyCodeLine{00489\ }
\DoxyCodeLine{00491\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_a40b4ee04251bd343ada5c4a4c508cd43}{IsUnicode}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_bStoreIsUtf8;\ \}}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00511\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_c_simple_ini_templ_ac3cfaf072a64f960bdcb7ddf2edc52b6}{SetMultiKey}}(\textcolor{keywordtype}{bool}\ a\_bAllowMultiKey\ =\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ m\_bAllowMultiKey\ =\ a\_bAllowMultiKey;}
\DoxyCodeLine{00513\ \ \ \ \ \}}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00516\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_a494b30fbdda5e78afdb25451743df935}{IsMultiKey}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_bAllowMultiKey;\ \}}
\DoxyCodeLine{00517\ }
\DoxyCodeLine{00525\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_c_simple_ini_templ_aa7214b76600790053a5c715e9730aab0}{SetMultiLine}}(\textcolor{keywordtype}{bool}\ a\_bAllowMultiLine\ =\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ m\_bAllowMultiLine\ =\ a\_bAllowMultiLine;}
\DoxyCodeLine{00527\ \ \ \ \ \}}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00530\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_afadd3818363ec7e66ca369ef486ec979}{IsMultiLine}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_bAllowMultiLine;\ \}}
\DoxyCodeLine{00531\ }
\DoxyCodeLine{00538\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_c_simple_ini_templ_ae3c0eae2dcd84a42c99bb86ae103662c}{SetSpaces}}(\textcolor{keywordtype}{bool}\ a\_bSpaces\ =\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ m\_bSpaces\ =\ a\_bSpaces;}
\DoxyCodeLine{00540\ \ \ \ \ \}}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00543\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_a92203e0c21f8d71e5d1621a18ee0be50}{UsingSpaces}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_bSpaces;\ \}}
\DoxyCodeLine{00544\ \ \ \ \ }
\DoxyCodeLine{00545\ \ \ \ \ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00557\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_aebb6e5fff76efc05ca6cc4b7b56481a3}{LoadFile}}(}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ a\_pszFile}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00561\ \textcolor{preprocessor}{\#ifdef\ SI\_HAS\_WIDE\_FILE}}
\DoxyCodeLine{00568\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_aebb6e5fff76efc05ca6cc4b7b56481a3}{LoadFile}}(}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_WCHAR\_T\ *\ a\_pwszFile}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00571\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_HAS\_WIDE\_FILE}}
\DoxyCodeLine{00572\ }
\DoxyCodeLine{00580\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_a7ccb65e82fa347b42b59330968f826ae}{LoadFile}}(}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ FILE\ *\ a\_fpFile}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00583\ }
\DoxyCodeLine{00584\ \textcolor{preprocessor}{\#ifdef\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{00591\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_a174244fd3e09ff78da05fe46be86e714}{LoadData}}(}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ std::istream\ \&\ a\_istream}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00594\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00602\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_a174244fd3e09ff78da05fe46be86e714}{LoadData}}(\textcolor{keyword}{const}\ std::string\ \&\ a\_strData)\ \{}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_c_simple_ini_templ_a174244fd3e09ff78da05fe46be86e714}{LoadData}}(a\_strData.c\_str(),\ a\_strData.size());}
\DoxyCodeLine{00604\ \ \ \ \ \}}
\DoxyCodeLine{00605\ }
\DoxyCodeLine{00613\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_aa797cf47cec05906f07d5065882af4d3}{LoadData}}(}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pData,}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uDataLen}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00618\ \ \ \ \ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00634\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_af00e754689a94cbe87b387f99f7a5d01}{SaveFile}}(}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pszFile,}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bAddSignature\ =\ \textcolor{keyword}{true}}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00638\ }
\DoxyCodeLine{00639\ \textcolor{preprocessor}{\#ifdef\ SI\_HAS\_WIDE\_FILE}}
\DoxyCodeLine{00650\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_af00e754689a94cbe87b387f99f7a5d01}{SaveFile}}(}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_WCHAR\_T\ *\ \ a\_pwszFile,}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_bAddSignature\ =\ \textcolor{keyword}{true}}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00654\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_WIN32}}
\DoxyCodeLine{00655\ }
\DoxyCodeLine{00668\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_a3c3f677c1515e08751cb52a1dfaf1a93}{SaveFile}}(}
\DoxyCodeLine{00669\ \ \ \ \ \ \ \ \ FILE\ *\ \ a\_pFile,}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ a\_bAddSignature\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00672\ }
\DoxyCodeLine{00704\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_a6ec10daab297e92cdffe024ba5e6d999}{Save}}(}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ OutputWriter\ \&\ \ a\_oOutput,}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bAddSignature\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00708\ }
\DoxyCodeLine{00709\ \textcolor{preprocessor}{\#ifdef\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{00721\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_a6ec10daab297e92cdffe024ba5e6d999}{Save}}(}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \ \ std::ostream\ \&\ \ a\_ostream,}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bAddSignature\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00725\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00726\ \ \ \ \ \ \ \ \ StreamWriter\ writer(a\_ostream);}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_c_simple_ini_templ_a6ec10daab297e92cdffe024ba5e6d999}{Save}}(writer,\ a\_bAddSignature);}
\DoxyCodeLine{00728\ \ \ \ \ \}}
\DoxyCodeLine{00729\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{00730\ }
\DoxyCodeLine{00742\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_a9fc5894f12a31b8496a9627cd0f42139}{Save}}(}
\DoxyCodeLine{00743\ \ \ \ \ \ \ \ \ std::string\ \&\ \ \ a\_sBuffer,}
\DoxyCodeLine{00744\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bAddSignature\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{00746\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_string_writer}{StringWriter}}\ writer(a\_sBuffer);}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_c_simple_ini_templ_a6ec10daab297e92cdffe024ba5e6d999}{Save}}(writer,\ a\_bAddSignature);}
\DoxyCodeLine{00749\ \ \ \ \ \}}
\DoxyCodeLine{00750\ }
\DoxyCodeLine{00751\ \ \ \ \ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00769\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_c_simple_ini_templ_a7fe8a8b70b0ef000c591011a8332ebd5}{GetAllSections}}(}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ \&\ a\_names}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00772\ }
\DoxyCodeLine{00790\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_a08cadb6624a6c459703efaadb25d31c9}{GetAllKeys}}(}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ \&\ \ a\_names}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00794\ }
\DoxyCodeLine{00811\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_adda5ee7f422695f7e67be2d066e303bf}{GetAllValues}}(}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ \&\ \ a\_values}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00816\ }
\DoxyCodeLine{00826\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_c_simple_ini_templ_a0a9c089eabb5faf764c4af449f7b1846}{GetSectionSize}}(}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection}
\DoxyCodeLine{00828\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00829\ }
\DoxyCodeLine{00844\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_ae7f0e11d84617214bd479de6332c80e6}{TKeyVal}}\ *\ \mbox{\hyperlink{class_c_simple_ini_templ_a56a6838556328ab8bfaa7ded9edb9c8a}{GetSection}}(}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00847\ }
\DoxyCodeLine{00865\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ \mbox{\hyperlink{class_c_simple_ini_templ_a74e3f5d22f50b70b2a20c89ec7e2c737}{GetValue}}(}
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{00867\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pDefault\ \ \ \ \ =\ NULL,}
\DoxyCodeLine{00869\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ *\ \ \ \ \ \ \ \ \ \ a\_pHasMultiple\ =\ NULL}
\DoxyCodeLine{00870\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00871\ }
\DoxyCodeLine{00885\ \ \ \ \ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{class_c_simple_ini_templ_a7fa211c1c768497520eab7f2014ae786}{GetLongValue}}(}
\DoxyCodeLine{00886\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{00887\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \ \ \ \ \ \ \ \ \ \ \ a\_nDefault\ \ \ \ \ =\ 0,}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ *\ \ \ \ \ \ \ \ \ \ a\_pHasMultiple\ =\ NULL}
\DoxyCodeLine{00890\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00891\ }
\DoxyCodeLine{00905\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_c_simple_ini_templ_aab58a949481926cf1d42fcbf9552d77b}{GetDoubleValue}}(}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ a\_nDefault\ \ \ \ \ =\ 0,}
\DoxyCodeLine{00909\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ *\ \ \ \ \ \ \ \ \ \ a\_pHasMultiple\ =\ NULL}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00911\ }
\DoxyCodeLine{00930\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_a76b3165ce01224f82daee5ef63b3c96d}{GetBoolValue}}(}
\DoxyCodeLine{00931\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{00932\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{00933\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bDefault\ \ \ \ \ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ *\ \ \ \ \ \ \ \ \ \ a\_pHasMultiple\ =\ NULL}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{00936\ }
\DoxyCodeLine{00966\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_aa2014a3dc8fdd638316cf1d3611796ab}{SetValue}}(}
\DoxyCodeLine{00967\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{00969\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pValue,}
\DoxyCodeLine{00970\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pComment\ \ \ \ \ \ =\ NULL,}
\DoxyCodeLine{00971\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bForceReplace\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{00972\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00973\ \ \ \ \ \{}
\DoxyCodeLine{00974\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ AddEntry(a\_pSection,\ a\_pKey,\ a\_pValue,\ a\_pComment,\ a\_bForceReplace,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00975\ \ \ \ \ \}}
\DoxyCodeLine{00976\ }
\DoxyCodeLine{01000\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_ab2238be407232e4bba0f1343e4793e4e}{SetLongValue}}(}
\DoxyCodeLine{01001\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{01002\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{01003\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \ \ \ \ \ \ \ \ \ \ \ a\_nValue,}
\DoxyCodeLine{01004\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pComment\ \ \ \ \ \ =\ NULL,}
\DoxyCodeLine{01005\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bUseHex\ \ \ \ \ \ \ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{01006\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bForceReplace\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{01007\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{01008\ }
\DoxyCodeLine{01029\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_af92ba0b8067553ab693c62a370de6534}{SetDoubleValue}}(}
\DoxyCodeLine{01030\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{01031\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{01032\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ a\_nValue,}
\DoxyCodeLine{01033\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pComment\ \ \ \ \ \ =\ NULL,}
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bForceReplace\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{01035\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{01036\ }
\DoxyCodeLine{01057\ \ \ \ \ SI\_Error\ \mbox{\hyperlink{class_c_simple_ini_templ_a48ae136fa20c5d7eb7ab0b75342b27cf}{SetBoolValue}}(}
\DoxyCodeLine{01058\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{01059\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{01060\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bValue,}
\DoxyCodeLine{01061\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pComment\ \ \ \ \ \ =\ NULL,}
\DoxyCodeLine{01062\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bForceReplace\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{01063\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{01064\ }
\DoxyCodeLine{01083\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_aa5c1cdd0b306434d9e9f1422888049da}{Delete}}(}
\DoxyCodeLine{01084\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{01085\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{01086\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bRemoveEmpty\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{01087\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{01088\ }
\DoxyCodeLine{01109\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_c_simple_ini_templ_a04551ae6c3e92475b2a823d2729652d6}{DeleteValue}}(}
\DoxyCodeLine{01110\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{01111\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{01112\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pValue,}
\DoxyCodeLine{01113\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bRemoveEmpty\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{01114\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{01115\ }
\DoxyCodeLine{01116\ \ \ \ \ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{01125\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_converter}{Converter}}\ \mbox{\hyperlink{class_c_simple_ini_templ_a4a48496d4e4840a2254a9e31e16eaf6d}{GetConverter}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_converter}{Converter}}(m\_bStoreIsUtf8);}
\DoxyCodeLine{01127\ \ \ \ \ \}}
\DoxyCodeLine{01128\ }
\DoxyCodeLine{01129\ \ \ \ \ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{01132\ \textcolor{keyword}{private}:}
\DoxyCodeLine{01133\ \ \ \ \ \textcolor{comment}{//\ copying\ is\ not\ permitted}}
\DoxyCodeLine{01134\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}\ \&);\ \textcolor{comment}{//\ disabled}}
\DoxyCodeLine{01135\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}\ \&);\ \textcolor{comment}{//\ disabled}}
\DoxyCodeLine{01136\ }
\DoxyCodeLine{01139\ \ \ \ \ SI\_Error\ FindFileComment(}
\DoxyCodeLine{01140\ \ \ \ \ \ \ \ \ SI\_CHAR\ *\&\ \ \ \ \ \ a\_pData,}
\DoxyCodeLine{01141\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bCopyStrings}
\DoxyCodeLine{01142\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{01143\ }
\DoxyCodeLine{01148\ \ \ \ \ \textcolor{keywordtype}{bool}\ FindEntry(}
\DoxyCodeLine{01149\ \ \ \ \ \ \ \ \ SI\_CHAR\ *\&\ \ a\_pData,}
\DoxyCodeLine{01150\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ a\_pSection,}
\DoxyCodeLine{01151\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ a\_pKey,}
\DoxyCodeLine{01152\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ a\_pVal,}
\DoxyCodeLine{01153\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ a\_pComment}
\DoxyCodeLine{01154\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{01155\ }
\DoxyCodeLine{01178\ \ \ \ \ SI\_Error\ AddEntry(}
\DoxyCodeLine{01179\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{01180\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{01181\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pValue,}
\DoxyCodeLine{01182\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pComment,}
\DoxyCodeLine{01183\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bForceReplace,}
\DoxyCodeLine{01184\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bCopyStrings}
\DoxyCodeLine{01185\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{01186\ }
\DoxyCodeLine{01188\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsSpace(SI\_CHAR\ ch)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (ch\ ==\ \textcolor{charliteral}{'\ '}\ ||\ ch\ ==\ \textcolor{charliteral}{'\(\backslash\)t'}\ ||\ ch\ ==\ \textcolor{charliteral}{'\(\backslash\)r'}\ ||\ ch\ ==\ \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{01190\ \ \ \ \ \}}
\DoxyCodeLine{01191\ }
\DoxyCodeLine{01193\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ IsComment(SI\_CHAR\ ch)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01194\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (ch\ ==\ \textcolor{charliteral}{';'}\ ||\ ch\ ==\ \textcolor{charliteral}{'\#'});}
\DoxyCodeLine{01195\ \ \ \ \ \}}
\DoxyCodeLine{01196\ }
\DoxyCodeLine{01197\ }
\DoxyCodeLine{01199\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ SkipNewLine(SI\_CHAR\ *\&\ a\_pData)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01200\ \ \ \ \ \ \ \ \ a\_pData\ +=\ (*a\_pData\ ==\ \textcolor{charliteral}{'\(\backslash\)r'}\ \&\&\ *(a\_pData+1)\ ==\ \textcolor{charliteral}{'\(\backslash\)n'})\ ?\ 2\ :\ 1;}
\DoxyCodeLine{01201\ \ \ \ \ \}}
\DoxyCodeLine{01202\ }
\DoxyCodeLine{01204\ \ \ \ \ SI\_Error\ CopyString(\textcolor{keyword}{const}\ SI\_CHAR\ *\&\ a\_pString);}
\DoxyCodeLine{01205\ }
\DoxyCodeLine{01207\ \ \ \ \ \textcolor{keywordtype}{void}\ DeleteString(\textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pString);}
\DoxyCodeLine{01208\ }
\DoxyCodeLine{01210\ \ \ \ \ \textcolor{keywordtype}{bool}\ IsLess(\textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pLeft,\ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pRight)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01211\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ SI\_STRLESS\ isLess\ =\ SI\_STRLESS();}
\DoxyCodeLine{01212\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isLess(a\_pLeft,\ a\_pRight);}
\DoxyCodeLine{01213\ \ \ \ \ \}}
\DoxyCodeLine{01214\ }
\DoxyCodeLine{01215\ \ \ \ \ \textcolor{keywordtype}{bool}\ IsMultiLineTag(\textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pData)\ \textcolor{keyword}{const};}
\DoxyCodeLine{01216\ \ \ \ \ \textcolor{keywordtype}{bool}\ IsMultiLineData(\textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pData)\ \textcolor{keyword}{const};}
\DoxyCodeLine{01217\ \ \ \ \ \textcolor{keywordtype}{bool}\ LoadMultiLineText(}
\DoxyCodeLine{01218\ \ \ \ \ \ \ \ \ SI\_CHAR\ *\&\ \ \ \ \ \ \ \ \ \ a\_pData,}
\DoxyCodeLine{01219\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ \ \ a\_pVal,}
\DoxyCodeLine{01220\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ \ \ \ \ a\_pTagName,}
\DoxyCodeLine{01221\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_bAllowBlankLinesInComment\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{01222\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{01223\ \ \ \ \ \textcolor{keywordtype}{bool}\ IsNewLineChar(SI\_CHAR\ a\_c)\ \textcolor{keyword}{const};}
\DoxyCodeLine{01224\ }
\DoxyCodeLine{01225\ \ \ \ \ \textcolor{keywordtype}{bool}\ OutputMultiLineText(}
\DoxyCodeLine{01226\ \ \ \ \ \ \ \ \ OutputWriter\ \&\ \ a\_oOutput,}
\DoxyCodeLine{01227\ \ \ \ \ \ \ \ \ Converter\ \&\ \ \ \ \ a\_oConverter,}
\DoxyCodeLine{01228\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pText}
\DoxyCodeLine{01229\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{const};}
\DoxyCodeLine{01230\ }
\DoxyCodeLine{01231\ \textcolor{keyword}{private}:}
\DoxyCodeLine{01237\ \ \ \ \ SI\_CHAR\ *\ m\_pData;}
\DoxyCodeLine{01238\ }
\DoxyCodeLine{01243\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ m\_uDataLen;}
\DoxyCodeLine{01244\ }
\DoxyCodeLine{01246\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ m\_pFileComment;}
\DoxyCodeLine{01247\ }
\DoxyCodeLine{01249\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a2e7963455f680abd0d6901786495a665}{TSection}}\ m\_data;}
\DoxyCodeLine{01250\ }
\DoxyCodeLine{01255\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ m\_strings;}
\DoxyCodeLine{01256\ }
\DoxyCodeLine{01258\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_bStoreIsUtf8;}
\DoxyCodeLine{01259\ }
\DoxyCodeLine{01261\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_bAllowMultiKey;}
\DoxyCodeLine{01262\ }
\DoxyCodeLine{01264\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_bAllowMultiLine;}
\DoxyCodeLine{01265\ }
\DoxyCodeLine{01267\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_bSpaces;}
\DoxyCodeLine{01268\ \ \ \ \ }
\DoxyCodeLine{01272\ \ \ \ \ \textcolor{keywordtype}{int}\ m\_nOrder;}
\DoxyCodeLine{01273\ \};}
\DoxyCodeLine{01274\ }
\DoxyCodeLine{01275\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01276\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ IMPLEMENTATION}}
\DoxyCodeLine{01277\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01278\ }
\DoxyCodeLine{01279\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01280\ \mbox{\hyperlink{class_c_simple_ini_templ_af878d0a2aa780255b621e95f58f691d8}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::CSimpleIniTempl}}(}
\DoxyCodeLine{01281\ \ \ \ \ \textcolor{keywordtype}{bool}\ a\_bIsUtf8,}
\DoxyCodeLine{01282\ \ \ \ \ \textcolor{keywordtype}{bool}\ a\_bAllowMultiKey,}
\DoxyCodeLine{01283\ \ \ \ \ \textcolor{keywordtype}{bool}\ a\_bAllowMultiLine}
\DoxyCodeLine{01284\ \ \ \ \ )}
\DoxyCodeLine{01285\ \ \ :\ m\_pData(0)}
\DoxyCodeLine{01286\ \ \ ,\ m\_uDataLen(0)}
\DoxyCodeLine{01287\ \ \ ,\ m\_pFileComment(NULL)}
\DoxyCodeLine{01288\ \ \ ,\ m\_bStoreIsUtf8(a\_bIsUtf8)}
\DoxyCodeLine{01289\ \ \ ,\ m\_bAllowMultiKey(a\_bAllowMultiKey)}
\DoxyCodeLine{01290\ \ \ ,\ m\_bAllowMultiLine(a\_bAllowMultiLine)}
\DoxyCodeLine{01291\ \ \ ,\ m\_bSpaces(true)}
\DoxyCodeLine{01292\ \ \ ,\ m\_nOrder(0)}
\DoxyCodeLine{01293\ \{\ \}}
\DoxyCodeLine{01294\ }
\DoxyCodeLine{01295\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01296\ \mbox{\hyperlink{class_c_simple_ini_templ_a8c933adc1d46bb663caeb6f9dee5aa12}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::\string~CSimpleIniTempl}}()}
\DoxyCodeLine{01297\ \{}
\DoxyCodeLine{01298\ \ \ \ \ Reset();}
\DoxyCodeLine{01299\ \}}
\DoxyCodeLine{01300\ }
\DoxyCodeLine{01301\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01302\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{01303\ \mbox{\hyperlink{class_c_simple_ini_templ_a89b34d38be4518e9ed91c634a41b8055}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::Reset}}()}
\DoxyCodeLine{01304\ \{}
\DoxyCodeLine{01305\ \ \ \ \ \textcolor{comment}{//\ remove\ all\ data}}
\DoxyCodeLine{01306\ \ \ \ \ \textcolor{keyword}{delete}[]\ m\_pData;}
\DoxyCodeLine{01307\ \ \ \ \ m\_pData\ =\ NULL;}
\DoxyCodeLine{01308\ \ \ \ \ m\_uDataLen\ =\ 0;}
\DoxyCodeLine{01309\ \ \ \ \ m\_pFileComment\ =\ NULL;}
\DoxyCodeLine{01310\ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_data.empty())\ \{}
\DoxyCodeLine{01311\ \ \ \ \ \ \ \ \ m\_data.erase(m\_data.begin(),\ m\_data.end());}
\DoxyCodeLine{01312\ \ \ \ \ \}}
\DoxyCodeLine{01313\ }
\DoxyCodeLine{01314\ \ \ \ \ \textcolor{comment}{//\ remove\ all\ strings}}
\DoxyCodeLine{01315\ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_strings.empty())\ \{}
\DoxyCodeLine{01316\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TNamesDepend::iterator\ i\ =\ m\_strings.begin();}
\DoxyCodeLine{01317\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ i\ !=\ m\_strings.end();\ ++i)\ \{}
\DoxyCodeLine{01318\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ \textcolor{keyword}{const\_cast<}SI\_CHAR*\textcolor{keyword}{>}(i-\/>pItem);}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ m\_strings.erase(m\_strings.begin(),\ m\_strings.end());}
\DoxyCodeLine{01321\ \ \ \ \ \}}
\DoxyCodeLine{01322\ \}}
\DoxyCodeLine{01323\ }
\DoxyCodeLine{01324\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01325\ SI\_Error}
\DoxyCodeLine{01326\ \mbox{\hyperlink{class_c_simple_ini_templ_aebb6e5fff76efc05ca6cc4b7b56481a3}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::LoadFile}}(}
\DoxyCodeLine{01327\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ a\_pszFile}
\DoxyCodeLine{01328\ \ \ \ \ )}
\DoxyCodeLine{01329\ \{}
\DoxyCodeLine{01330\ \ \ \ \ FILE\ *\ \mbox{\hyperlink{structbasic__fp}{fp}}\ =\ NULL;}
\DoxyCodeLine{01331\ \textcolor{preprocessor}{\#if\ \_\_STDC\_WANT\_SECURE\_LIB\_\_\ \&\&\ !\_WIN32\_WCE}}
\DoxyCodeLine{01332\ \ \ \ \ fopen\_s(\&\mbox{\hyperlink{structbasic__fp}{fp}},\ a\_pszFile,\ \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{01333\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{01334\ \ \ \ \ \mbox{\hyperlink{structbasic__fp}{fp}}\ =\ fopen(a\_pszFile,\ \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{01335\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{01336\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structbasic__fp}{fp}})\ \{}
\DoxyCodeLine{01337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FILE;}
\DoxyCodeLine{01338\ \ \ \ \ \}}
\DoxyCodeLine{01339\ \ \ \ \ SI\_Error\ rc\ =\ LoadFile(\mbox{\hyperlink{structbasic__fp}{fp}});}
\DoxyCodeLine{01340\ \ \ \ \ fclose(\mbox{\hyperlink{structbasic__fp}{fp}});}
\DoxyCodeLine{01341\ \ \ \ \ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01342\ \}}
\DoxyCodeLine{01343\ }
\DoxyCodeLine{01344\ \textcolor{preprocessor}{\#ifdef\ SI\_HAS\_WIDE\_FILE}}
\DoxyCodeLine{01345\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01346\ SI\_Error}
\DoxyCodeLine{01347\ \mbox{\hyperlink{class_c_simple_ini_templ_aebb6e5fff76efc05ca6cc4b7b56481a3}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::LoadFile}}(}
\DoxyCodeLine{01348\ \ \ \ \ \textcolor{keyword}{const}\ SI\_WCHAR\_T\ *\ a\_pwszFile}
\DoxyCodeLine{01349\ \ \ \ \ )}
\DoxyCodeLine{01350\ \{}
\DoxyCodeLine{01351\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{01352\ \ \ \ \ FILE\ *\ \mbox{\hyperlink{structbasic__fp}{fp}}\ =\ NULL;}
\DoxyCodeLine{01353\ \textcolor{preprocessor}{\#if\ \_\_STDC\_WANT\_SECURE\_LIB\_\_\ \&\&\ !\_WIN32\_WCE}}
\DoxyCodeLine{01354\ \ \ \ \ \_wfopen\_s(\&\mbox{\hyperlink{structbasic__fp}{fp}},\ a\_pwszFile,\ L\textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{01355\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{01356\ \ \ \ \ \mbox{\hyperlink{structbasic__fp}{fp}}\ =\ \_wfopen(a\_pwszFile,\ L\textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{01357\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{01358\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structbasic__fp}{fp}})\ \textcolor{keywordflow}{return}\ SI\_FILE;}
\DoxyCodeLine{01359\ \ \ \ \ SI\_Error\ rc\ =\ LoadFile(\mbox{\hyperlink{structbasic__fp}{fp}});}
\DoxyCodeLine{01360\ \ \ \ \ fclose(\mbox{\hyperlink{structbasic__fp}{fp}});}
\DoxyCodeLine{01361\ \ \ \ \ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01362\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_WIN32\ (therefore\ SI\_CONVERT\_ICU)}}
\DoxyCodeLine{01363\ \ \ \ \ \textcolor{keywordtype}{char}\ szFile[256];}
\DoxyCodeLine{01364\ \ \ \ \ u\_austrncpy(szFile,\ a\_pwszFile,\ \textcolor{keyword}{sizeof}(szFile));}
\DoxyCodeLine{01365\ \ \ \ \ \textcolor{keywordflow}{return}\ LoadFile(szFile);}
\DoxyCodeLine{01366\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_WIN32}}
\DoxyCodeLine{01367\ \}}
\DoxyCodeLine{01368\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_HAS\_WIDE\_FILE}}
\DoxyCodeLine{01369\ }
\DoxyCodeLine{01370\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01371\ SI\_Error}
\DoxyCodeLine{01372\ \mbox{\hyperlink{class_c_simple_ini_templ_aebb6e5fff76efc05ca6cc4b7b56481a3}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::LoadFile}}(}
\DoxyCodeLine{01373\ \ \ \ \ FILE\ *\ a\_fpFile}
\DoxyCodeLine{01374\ \ \ \ \ )}
\DoxyCodeLine{01375\ \{}
\DoxyCodeLine{01376\ \ \ \ \ \textcolor{comment}{//\ load\ the\ raw\ file\ data}}
\DoxyCodeLine{01377\ \ \ \ \ \textcolor{keywordtype}{int}\ retval\ =\ fseek(a\_fpFile,\ 0,\ SEEK\_END);}
\DoxyCodeLine{01378\ \ \ \ \ \textcolor{keywordflow}{if}\ (retval\ !=\ 0)\ \{}
\DoxyCodeLine{01379\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FILE;}
\DoxyCodeLine{01380\ \ \ \ \ \}}
\DoxyCodeLine{01381\ \ \ \ \ \textcolor{keywordtype}{long}\ lSize\ =\ ftell(a\_fpFile);}
\DoxyCodeLine{01382\ \ \ \ \ \textcolor{keywordflow}{if}\ (lSize\ <\ 0)\ \{}
\DoxyCodeLine{01383\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FILE;}
\DoxyCodeLine{01384\ \ \ \ \ \}}
\DoxyCodeLine{01385\ \ \ \ \ \textcolor{keywordflow}{if}\ (lSize\ ==\ 0)\ \{}
\DoxyCodeLine{01386\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_OK;}
\DoxyCodeLine{01387\ \ \ \ \ \}}
\DoxyCodeLine{01388\ \ \ \ \ }
\DoxyCodeLine{01389\ \ \ \ \ \textcolor{comment}{//\ allocate\ and\ ensure\ NULL\ terminated}}
\DoxyCodeLine{01390\ \ \ \ \ \textcolor{keywordtype}{char}\ *\ pData\ =\ \textcolor{keyword}{new}(std::nothrow)\ \textcolor{keywordtype}{char}[lSize+1];}
\DoxyCodeLine{01391\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pData)\ \{}
\DoxyCodeLine{01392\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_NOMEM;}
\DoxyCodeLine{01393\ \ \ \ \ \}}
\DoxyCodeLine{01394\ \ \ \ \ pData[lSize]\ =\ 0;}
\DoxyCodeLine{01395\ \ \ \ \ }
\DoxyCodeLine{01396\ \ \ \ \ \textcolor{comment}{//\ load\ data\ into\ buffer}}
\DoxyCodeLine{01397\ \ \ \ \ fseek(a\_fpFile,\ 0,\ SEEK\_SET);}
\DoxyCodeLine{01398\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ uRead\ =\ fread(pData,\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}),\ lSize,\ a\_fpFile);}
\DoxyCodeLine{01399\ \ \ \ \ \textcolor{keywordflow}{if}\ (uRead\ !=\ (\textcolor{keywordtype}{size\_t})\ lSize)\ \{}
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ pData;}
\DoxyCodeLine{01401\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FILE;}
\DoxyCodeLine{01402\ \ \ \ \ \}}
\DoxyCodeLine{01403\ }
\DoxyCodeLine{01404\ \ \ \ \ \textcolor{comment}{//\ convert\ the\ raw\ data\ to\ unicode}}
\DoxyCodeLine{01405\ \ \ \ \ SI\_Error\ rc\ =\ LoadData(pData,\ uRead);}
\DoxyCodeLine{01406\ \ \ \ \ \textcolor{keyword}{delete}[]\ pData;}
\DoxyCodeLine{01407\ \ \ \ \ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01408\ \}}
\DoxyCodeLine{01409\ }
\DoxyCodeLine{01410\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01411\ SI\_Error}
\DoxyCodeLine{01412\ \mbox{\hyperlink{class_c_simple_ini_templ_a174244fd3e09ff78da05fe46be86e714}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::LoadData}}(}
\DoxyCodeLine{01413\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pData,}
\DoxyCodeLine{01414\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uDataLen}
\DoxyCodeLine{01415\ \ \ \ \ )}
\DoxyCodeLine{01416\ \{}
\DoxyCodeLine{01417\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pData)\ \{}
\DoxyCodeLine{01418\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_OK;}
\DoxyCodeLine{01419\ \ \ \ \ \}}
\DoxyCodeLine{01420\ \ \ \ \ }
\DoxyCodeLine{01421\ \ \ \ \ \textcolor{comment}{//\ if\ the\ UTF-\/8\ BOM\ exists,\ consume\ it\ and\ set\ mode\ to\ unicode,\ if\ we\ have}}
\DoxyCodeLine{01422\ \ \ \ \ \textcolor{comment}{//\ already\ loaded\ data\ and\ try\ to\ change\ mode\ half-\/way\ through\ then\ this\ will}}
\DoxyCodeLine{01423\ \ \ \ \ \textcolor{comment}{//\ be\ ignored\ and\ we\ will\ assert\ in\ debug\ versions}}
\DoxyCodeLine{01424\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_uDataLen\ >=\ 3\ \&\&\ memcmp(a\_pData,\ SI\_UTF8\_SIGNATURE,\ 3)\ ==\ 0)\ \{}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ a\_pData\ \ \ \ +=\ 3;}
\DoxyCodeLine{01426\ \ \ \ \ \ \ \ \ a\_uDataLen\ -\/=\ 3;}
\DoxyCodeLine{01427\ \ \ \ \ \ \ \ \ SI\_ASSERT(m\_bStoreIsUtf8\ ||\ !m\_pData);\ \textcolor{comment}{//\ we\ don't\ expect\ mixed\ mode\ data}}
\DoxyCodeLine{01428\ \ \ \ \ \ \ \ \ SetUnicode();}
\DoxyCodeLine{01429\ \ \ \ \ \}}
\DoxyCodeLine{01430\ }
\DoxyCodeLine{01431\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_uDataLen\ ==\ 0)\ \{}
\DoxyCodeLine{01432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_OK;}
\DoxyCodeLine{01433\ \ \ \ \ \}}
\DoxyCodeLine{01434\ }
\DoxyCodeLine{01435\ \ \ \ \ \textcolor{comment}{//\ determine\ the\ length\ of\ the\ converted\ data}}
\DoxyCodeLine{01436\ \ \ \ \ SI\_CONVERTER\ converter(m\_bStoreIsUtf8);}
\DoxyCodeLine{01437\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ uLen\ =\ converter.SizeFromStore(a\_pData,\ a\_uDataLen);}
\DoxyCodeLine{01438\ \ \ \ \ \textcolor{keywordflow}{if}\ (uLen\ ==\ (\textcolor{keywordtype}{size\_t})(-\/1))\ \{}
\DoxyCodeLine{01439\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{01440\ \ \ \ \ \}}
\DoxyCodeLine{01441\ }
\DoxyCodeLine{01442\ \ \ \ \ \textcolor{comment}{//\ allocate\ memory\ for\ the\ data,\ ensure\ that\ there\ is\ a\ NULL}}
\DoxyCodeLine{01443\ \ \ \ \ \textcolor{comment}{//\ terminator\ wherever\ the\ converted\ data\ ends}}
\DoxyCodeLine{01444\ \ \ \ \ SI\_CHAR\ *\ pData\ =\ \textcolor{keyword}{new}(std::nothrow)\ SI\_CHAR[uLen+1];}
\DoxyCodeLine{01445\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pData)\ \{}
\DoxyCodeLine{01446\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_NOMEM;}
\DoxyCodeLine{01447\ \ \ \ \ \}}
\DoxyCodeLine{01448\ \ \ \ \ memset(pData,\ 0,\ \textcolor{keyword}{sizeof}(SI\_CHAR)*(uLen+1));}
\DoxyCodeLine{01449\ }
\DoxyCodeLine{01450\ \ \ \ \ \textcolor{comment}{//\ convert\ the\ data}}
\DoxyCodeLine{01451\ \ \ \ \ \textcolor{keywordflow}{if}\ (!converter.ConvertFromStore(a\_pData,\ a\_uDataLen,\ pData,\ uLen))\ \{}
\DoxyCodeLine{01452\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ pData;}
\DoxyCodeLine{01453\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{01454\ \ \ \ \ \}}
\DoxyCodeLine{01455\ }
\DoxyCodeLine{01456\ \ \ \ \ \textcolor{comment}{//\ parse\ it}}
\DoxyCodeLine{01457\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ SI\_CHAR\ empty\ =\ 0;}
\DoxyCodeLine{01458\ \ \ \ \ SI\_CHAR\ *\ pWork\ =\ pData;}
\DoxyCodeLine{01459\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pSection\ =\ \&empty;}
\DoxyCodeLine{01460\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pItem\ =\ NULL;}
\DoxyCodeLine{01461\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pVal\ =\ NULL;}
\DoxyCodeLine{01462\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pComment\ =\ NULL;}
\DoxyCodeLine{01463\ }
\DoxyCodeLine{01464\ \ \ \ \ \textcolor{comment}{//\ We\ copy\ the\ strings\ if\ we\ are\ loading\ data\ into\ this\ class\ when\ we}}
\DoxyCodeLine{01465\ \ \ \ \ \textcolor{comment}{//\ already\ have\ stored\ some.}}
\DoxyCodeLine{01466\ \ \ \ \ \textcolor{keywordtype}{bool}\ bCopyStrings\ =\ (m\_pData\ !=\ NULL);}
\DoxyCodeLine{01467\ }
\DoxyCodeLine{01468\ \ \ \ \ \textcolor{comment}{//\ find\ a\ file\ comment\ if\ it\ exists,\ this\ is\ a\ comment\ that\ starts\ at\ the}}
\DoxyCodeLine{01469\ \ \ \ \ \textcolor{comment}{//\ beginning\ of\ the\ file\ and\ continues\ until\ the\ first\ blank\ line.}}
\DoxyCodeLine{01470\ \ \ \ \ SI\_Error\ rc\ =\ FindFileComment(pWork,\ bCopyStrings);}
\DoxyCodeLine{01471\ \ \ \ \ \textcolor{keywordflow}{if}\ (rc\ <\ 0)\ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01472\ }
\DoxyCodeLine{01473\ \ \ \ \ \textcolor{comment}{//\ add\ every\ entry\ in\ the\ file\ to\ the\ data\ table}}
\DoxyCodeLine{01474\ \ \ \ \ \textcolor{keywordflow}{while}\ (FindEntry(pWork,\ pSection,\ pItem,\ pVal,\ pComment))\ \{}
\DoxyCodeLine{01475\ \ \ \ \ \ \ \ \ rc\ =\ AddEntry(pSection,\ pItem,\ pVal,\ pComment,\ \textcolor{keyword}{false},\ bCopyStrings);}
\DoxyCodeLine{01476\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rc\ <\ 0)\ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01477\ \ \ \ \ \}}
\DoxyCodeLine{01478\ }
\DoxyCodeLine{01479\ \ \ \ \ \textcolor{comment}{//\ store\ these\ strings\ if\ we\ didn't\ copy\ them}}
\DoxyCodeLine{01480\ \ \ \ \ \textcolor{keywordflow}{if}\ (bCopyStrings)\ \{}
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ pData;}
\DoxyCodeLine{01482\ \ \ \ \ \}}
\DoxyCodeLine{01483\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01484\ \ \ \ \ \ \ \ \ m\_pData\ =\ pData;}
\DoxyCodeLine{01485\ \ \ \ \ \ \ \ \ m\_uDataLen\ =\ uLen+1;}
\DoxyCodeLine{01486\ \ \ \ \ \}}
\DoxyCodeLine{01487\ }
\DoxyCodeLine{01488\ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_OK;}
\DoxyCodeLine{01489\ \}}
\DoxyCodeLine{01490\ }
\DoxyCodeLine{01491\ \textcolor{preprocessor}{\#ifdef\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{01492\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01493\ SI\_Error}
\DoxyCodeLine{01494\ \mbox{\hyperlink{class_c_simple_ini_templ_a174244fd3e09ff78da05fe46be86e714}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::LoadData}}(}
\DoxyCodeLine{01495\ \ \ \ \ std::istream\ \&\ a\_istream}
\DoxyCodeLine{01496\ \ \ \ \ )}
\DoxyCodeLine{01497\ \{}
\DoxyCodeLine{01498\ \ \ \ \ std::string\ strData;}
\DoxyCodeLine{01499\ \ \ \ \ \textcolor{keywordtype}{char}\ szBuf[512];}
\DoxyCodeLine{01500\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{01501\ \ \ \ \ \ \ \ \ a\_istream.get(szBuf,\ \textcolor{keyword}{sizeof}(szBuf),\ \textcolor{charliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{01502\ \ \ \ \ \ \ \ \ strData.append(szBuf);}
\DoxyCodeLine{01503\ \ \ \ \ \}}
\DoxyCodeLine{01504\ \ \ \ \ \textcolor{keywordflow}{while}\ (a\_istream.good());}
\DoxyCodeLine{01505\ \ \ \ \ \textcolor{keywordflow}{return}\ LoadData(strData);}
\DoxyCodeLine{01506\ \}}
\DoxyCodeLine{01507\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_SUPPORT\_IOSTREAMS}}
\DoxyCodeLine{01508\ }
\DoxyCodeLine{01509\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01510\ SI\_Error}
\DoxyCodeLine{01511\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::FindFileComment}}(}
\DoxyCodeLine{01512\ \ \ \ \ SI\_CHAR\ *\&\ \ \ \ \ \ a\_pData,}
\DoxyCodeLine{01513\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bCopyStrings}
\DoxyCodeLine{01514\ \ \ \ \ )}
\DoxyCodeLine{01515\ \{}
\DoxyCodeLine{01516\ \ \ \ \ \textcolor{comment}{//\ there\ can\ only\ be\ a\ single\ file\ comment}}
\DoxyCodeLine{01517\ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_pFileComment)\ \{}
\DoxyCodeLine{01518\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_OK;}
\DoxyCodeLine{01519\ \ \ \ \ \}}
\DoxyCodeLine{01520\ }
\DoxyCodeLine{01521\ \ \ \ \ \textcolor{comment}{//\ Load\ the\ file\ comment\ as\ multi-\/line\ text,\ this\ will\ modify\ all\ of}}
\DoxyCodeLine{01522\ \ \ \ \ \textcolor{comment}{//\ the\ newline\ characters\ to\ be\ single\ \(\backslash\)n\ chars}}
\DoxyCodeLine{01523\ \ \ \ \ \textcolor{keywordflow}{if}\ (!LoadMultiLineText(a\_pData,\ m\_pFileComment,\ NULL,\ \textcolor{keyword}{false}))\ \{}
\DoxyCodeLine{01524\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_OK;}
\DoxyCodeLine{01525\ \ \ \ \ \}}
\DoxyCodeLine{01526\ }
\DoxyCodeLine{01527\ \ \ \ \ \textcolor{comment}{//\ copy\ the\ string\ if\ necessary}}
\DoxyCodeLine{01528\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_bCopyStrings)\ \{}
\DoxyCodeLine{01529\ \ \ \ \ \ \ \ \ SI\_Error\ rc\ =\ CopyString(m\_pFileComment);}
\DoxyCodeLine{01530\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rc\ <\ 0)\ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01531\ \ \ \ \ \}}
\DoxyCodeLine{01532\ }
\DoxyCodeLine{01533\ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_OK;}
\DoxyCodeLine{01534\ \}}
\DoxyCodeLine{01535\ }
\DoxyCodeLine{01536\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01537\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{01538\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::FindEntry}}(}
\DoxyCodeLine{01539\ \ \ \ \ SI\_CHAR\ *\&\ \ \ \ \ \ \ \ a\_pData,}
\DoxyCodeLine{01540\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ a\_pSection,}
\DoxyCodeLine{01541\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ a\_pKey,}
\DoxyCodeLine{01542\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ a\_pVal,}
\DoxyCodeLine{01543\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ a\_pComment}
\DoxyCodeLine{01544\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01545\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01546\ \ \ \ \ a\_pComment\ =\ NULL;}
\DoxyCodeLine{01547\ }
\DoxyCodeLine{01548\ \ \ \ \ SI\_CHAR\ *\ pTrail\ =\ NULL;}
\DoxyCodeLine{01549\ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData)\ \{}
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ skip\ spaces\ and\ empty\ lines}}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData\ \&\&\ IsSpace(*a\_pData))\ \{}
\DoxyCodeLine{01552\ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01553\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01554\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!*a\_pData)\ \{}
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01556\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01557\ }
\DoxyCodeLine{01558\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ skip\ processing\ of\ comment\ lines\ but\ keep\ a\ pointer\ to}}
\DoxyCodeLine{01559\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ start\ of\ the\ comment.}}
\DoxyCodeLine{01560\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (IsComment(*a\_pData))\ \{}
\DoxyCodeLine{01561\ \ \ \ \ \ \ \ \ \ \ \ \ LoadMultiLineText(a\_pData,\ a\_pComment,\ NULL,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01562\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01563\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01564\ }
\DoxyCodeLine{01565\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ process\ section\ names}}
\DoxyCodeLine{01566\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*a\_pData\ ==\ \textcolor{charliteral}{'['})\ \{}
\DoxyCodeLine{01567\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ skip\ leading\ spaces}}
\DoxyCodeLine{01568\ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01569\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData\ \&\&\ IsSpace(*a\_pData))\ \{}
\DoxyCodeLine{01570\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01572\ }
\DoxyCodeLine{01573\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ the\ end\ of\ the\ section\ name\ (it\ may\ contain\ spaces)}}
\DoxyCodeLine{01574\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ convert\ it\ to\ lowercase\ as\ necessary}}
\DoxyCodeLine{01575\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pSection\ =\ a\_pData;}
\DoxyCodeLine{01576\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData\ \&\&\ *a\_pData\ !=\ \textcolor{charliteral}{']'}\ \&\&\ !IsNewLineChar(*a\_pData))\ \{}
\DoxyCodeLine{01577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01578\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01579\ }
\DoxyCodeLine{01580\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ it's\ an\ invalid\ line,\ just\ skip\ it}}
\DoxyCodeLine{01581\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*a\_pData\ !=\ \textcolor{charliteral}{']'})\ \{}
\DoxyCodeLine{01582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01583\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01584\ }
\DoxyCodeLine{01585\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ remove\ trailing\ spaces\ from\ the\ section}}
\DoxyCodeLine{01586\ \ \ \ \ \ \ \ \ \ \ \ \ pTrail\ =\ a\_pData\ -\/\ 1;}
\DoxyCodeLine{01587\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (pTrail\ >=\ a\_pSection\ \&\&\ IsSpace(*pTrail))\ \{}
\DoxyCodeLine{01588\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/pTrail;}
\DoxyCodeLine{01589\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01590\ \ \ \ \ \ \ \ \ \ \ \ \ ++pTrail;}
\DoxyCodeLine{01591\ \ \ \ \ \ \ \ \ \ \ \ \ *pTrail\ =\ 0;}
\DoxyCodeLine{01592\ }
\DoxyCodeLine{01593\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ skip\ to\ the\ end\ of\ the\ line}}
\DoxyCodeLine{01594\ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;\ \ \textcolor{comment}{//\ safe\ as\ checked\ that\ it\ ==\ ']'\ above}}
\DoxyCodeLine{01595\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData\ \&\&\ !IsNewLineChar(*a\_pData))\ \{}
\DoxyCodeLine{01596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01597\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01598\ }
\DoxyCodeLine{01599\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pKey\ =\ NULL;}
\DoxyCodeLine{01600\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pVal\ =\ NULL;}
\DoxyCodeLine{01601\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01602\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01603\ }
\DoxyCodeLine{01604\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ the\ end\ of\ the\ key\ name\ (it\ may\ contain\ spaces)}}
\DoxyCodeLine{01605\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ convert\ it\ to\ lowercase\ as\ necessary}}
\DoxyCodeLine{01606\ \ \ \ \ \ \ \ \ a\_pKey\ =\ a\_pData;}
\DoxyCodeLine{01607\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData\ \&\&\ *a\_pData\ !=\ \textcolor{charliteral}{'='}\ \&\&\ !IsNewLineChar(*a\_pData))\ \{}
\DoxyCodeLine{01608\ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01609\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01610\ }
\DoxyCodeLine{01611\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ it's\ an\ invalid\ line,\ just\ skip\ it}}
\DoxyCodeLine{01612\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*a\_pData\ !=\ \textcolor{charliteral}{'='})\ \{}
\DoxyCodeLine{01613\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01614\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01615\ }
\DoxyCodeLine{01616\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ empty\ keys\ are\ invalid}}
\DoxyCodeLine{01617\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pKey\ ==\ a\_pData)\ \{}
\DoxyCodeLine{01618\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData\ \&\&\ !IsNewLineChar(*a\_pData))\ \{}
\DoxyCodeLine{01619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01620\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01621\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01622\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01623\ }
\DoxyCodeLine{01624\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ remove\ trailing\ spaces\ from\ the\ key}}
\DoxyCodeLine{01625\ \ \ \ \ \ \ \ \ pTrail\ =\ a\_pData\ -\/\ 1;}
\DoxyCodeLine{01626\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (pTrail\ >=\ a\_pKey\ \&\&\ IsSpace(*pTrail))\ \{}
\DoxyCodeLine{01627\ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/pTrail;}
\DoxyCodeLine{01628\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01629\ \ \ \ \ \ \ \ \ ++pTrail;}
\DoxyCodeLine{01630\ \ \ \ \ \ \ \ \ *pTrail\ =\ 0;}
\DoxyCodeLine{01631\ }
\DoxyCodeLine{01632\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ skip\ leading\ whitespace\ on\ the\ value}}
\DoxyCodeLine{01633\ \ \ \ \ \ \ \ \ ++a\_pData;\ \ \textcolor{comment}{//\ safe\ as\ checked\ that\ it\ ==\ '='\ above}}
\DoxyCodeLine{01634\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData\ \&\&\ !IsNewLineChar(*a\_pData)\ \&\&\ IsSpace(*a\_pData))\ \{}
\DoxyCodeLine{01635\ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01636\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01637\ }
\DoxyCodeLine{01638\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ the\ end\ of\ the\ value\ which\ is\ the\ end\ of\ this\ line}}
\DoxyCodeLine{01639\ \ \ \ \ \ \ \ \ a\_pVal\ =\ a\_pData;}
\DoxyCodeLine{01640\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData\ \&\&\ !IsNewLineChar(*a\_pData))\ \{}
\DoxyCodeLine{01641\ \ \ \ \ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01642\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01643\ }
\DoxyCodeLine{01644\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ remove\ trailing\ spaces\ from\ the\ value}}
\DoxyCodeLine{01645\ \ \ \ \ \ \ \ \ pTrail\ =\ a\_pData\ -\/\ 1;}
\DoxyCodeLine{01646\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*a\_pData)\ \{\ \textcolor{comment}{//\ prepare\ for\ the\ next\ round}}
\DoxyCodeLine{01647\ \ \ \ \ \ \ \ \ \ \ \ \ SkipNewLine(a\_pData);}
\DoxyCodeLine{01648\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01649\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (pTrail\ >=\ a\_pVal\ \&\&\ IsSpace(*pTrail))\ \{}
\DoxyCodeLine{01650\ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/pTrail;}
\DoxyCodeLine{01651\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01652\ \ \ \ \ \ \ \ \ ++pTrail;}
\DoxyCodeLine{01653\ \ \ \ \ \ \ \ \ *pTrail\ =\ 0;}
\DoxyCodeLine{01654\ }
\DoxyCodeLine{01655\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ for\ multi-\/line\ entries}}
\DoxyCodeLine{01656\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_bAllowMultiLine\ \&\&\ IsMultiLineTag(a\_pVal))\ \{}
\DoxyCodeLine{01657\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ skip\ the\ "{}<<<"{}\ to\ get\ the\ tag\ that\ will\ end\ the\ multiline}}
\DoxyCodeLine{01658\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pTagName\ =\ a\_pVal\ +\ 3;}
\DoxyCodeLine{01659\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ LoadMultiLineText(a\_pData,\ a\_pVal,\ pTagName);}
\DoxyCodeLine{01660\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01661\ }
\DoxyCodeLine{01662\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ return\ the\ standard\ entry}}
\DoxyCodeLine{01663\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01664\ \ \ \ \ \}}
\DoxyCodeLine{01665\ }
\DoxyCodeLine{01666\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01667\ \}}
\DoxyCodeLine{01668\ }
\DoxyCodeLine{01669\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01670\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{01671\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::IsMultiLineTag}}(}
\DoxyCodeLine{01672\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pVal}
\DoxyCodeLine{01673\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01674\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01675\ \ \ \ \ \textcolor{comment}{//\ check\ for\ the\ "{}<<<"{}\ prefix\ for\ a\ multi-\/line\ entry}}
\DoxyCodeLine{01676\ \ \ \ \ \textcolor{keywordflow}{if}\ (*a\_pVal++\ !=\ \textcolor{charliteral}{'<'})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01677\ \ \ \ \ \textcolor{keywordflow}{if}\ (*a\_pVal++\ !=\ \textcolor{charliteral}{'<'})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01678\ \ \ \ \ \textcolor{keywordflow}{if}\ (*a\_pVal++\ !=\ \textcolor{charliteral}{'<'})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01679\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01680\ \}}
\DoxyCodeLine{01681\ }
\DoxyCodeLine{01682\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01683\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{01684\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::IsMultiLineData}}(}
\DoxyCodeLine{01685\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pData}
\DoxyCodeLine{01686\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01687\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01688\ \ \ \ \ \textcolor{comment}{//\ data\ is\ multi-\/line\ if\ it\ has\ any\ of\ the\ following\ features:}}
\DoxyCodeLine{01689\ \ \ \ \ \textcolor{comment}{//\ \ *\ whitespace\ prefix}}
\DoxyCodeLine{01690\ \ \ \ \ \textcolor{comment}{//\ \ *\ embedded\ newlines}}
\DoxyCodeLine{01691\ \ \ \ \ \textcolor{comment}{//\ \ *\ whitespace\ suffix}}
\DoxyCodeLine{01692\ }
\DoxyCodeLine{01693\ \ \ \ \ \textcolor{comment}{//\ empty\ string}}
\DoxyCodeLine{01694\ \ \ \ \ \textcolor{keywordflow}{if}\ (!*a\_pData)\ \{}
\DoxyCodeLine{01695\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01696\ \ \ \ \ \}}
\DoxyCodeLine{01697\ }
\DoxyCodeLine{01698\ \ \ \ \ \textcolor{comment}{//\ check\ for\ prefix}}
\DoxyCodeLine{01699\ \ \ \ \ \textcolor{keywordflow}{if}\ (IsSpace(*a\_pData))\ \{}
\DoxyCodeLine{01700\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01701\ \ \ \ \ \}}
\DoxyCodeLine{01702\ }
\DoxyCodeLine{01703\ \ \ \ \ \textcolor{comment}{//\ embedded\ newlines}}
\DoxyCodeLine{01704\ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData)\ \{}
\DoxyCodeLine{01705\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (IsNewLineChar(*a\_pData))\ \{}
\DoxyCodeLine{01706\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01707\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01708\ \ \ \ \ \ \ \ \ ++a\_pData;}
\DoxyCodeLine{01709\ \ \ \ \ \}}
\DoxyCodeLine{01710\ }
\DoxyCodeLine{01711\ \ \ \ \ \textcolor{comment}{//\ check\ for\ suffix}}
\DoxyCodeLine{01712\ \ \ \ \ \textcolor{keywordflow}{if}\ (IsSpace(*-\/-\/a\_pData))\ \{}
\DoxyCodeLine{01713\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01714\ \ \ \ \ \}}
\DoxyCodeLine{01715\ }
\DoxyCodeLine{01716\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01717\ \}}
\DoxyCodeLine{01718\ }
\DoxyCodeLine{01719\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01720\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{01721\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::IsNewLineChar}}(}
\DoxyCodeLine{01722\ \ \ \ \ SI\_CHAR\ a\_c}
\DoxyCodeLine{01723\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01724\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01725\ \ \ \ \ \textcolor{keywordflow}{return}\ (a\_c\ ==\ \textcolor{charliteral}{'\(\backslash\)n'}\ ||\ a\_c\ ==\ \textcolor{charliteral}{'\(\backslash\)r'});}
\DoxyCodeLine{01726\ \}}
\DoxyCodeLine{01727\ }
\DoxyCodeLine{01728\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01729\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{01730\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::LoadMultiLineText}}(}
\DoxyCodeLine{01731\ \ \ \ \ SI\_CHAR\ *\&\ \ \ \ \ \ \ \ \ \ a\_pData,}
\DoxyCodeLine{01732\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ \ \ \ a\_pVal,}
\DoxyCodeLine{01733\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ \ \ \ \ a\_pTagName,}
\DoxyCodeLine{01734\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_bAllowBlankLinesInComment}
\DoxyCodeLine{01735\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01736\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01737\ \ \ \ \ \textcolor{comment}{//\ we\ modify\ this\ data\ to\ strip\ all\ newlines\ down\ to\ a\ single\ '\(\backslash\)n'}}
\DoxyCodeLine{01738\ \ \ \ \ \textcolor{comment}{//\ character.\ This\ means\ that\ on\ Windows\ we\ need\ to\ strip\ out\ some}}
\DoxyCodeLine{01739\ \ \ \ \ \textcolor{comment}{//\ characters\ which\ will\ make\ the\ data\ shorter.}}
\DoxyCodeLine{01740\ \ \ \ \ \textcolor{comment}{//\ i.e.\ \ LINE1-\/LINE1\(\backslash\)r\(\backslash\)nLINE2-\/LINE2\(\backslash\)0\ will\ become}}
\DoxyCodeLine{01741\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ LINE1-\/LINE1\(\backslash\)nLINE2-\/LINE2\(\backslash\)0}}
\DoxyCodeLine{01742\ \ \ \ \ \textcolor{comment}{//\ The\ pDataLine\ entry\ is\ the\ pointer\ to\ the\ location\ in\ memory\ that}}
\DoxyCodeLine{01743\ \ \ \ \ \textcolor{comment}{//\ the\ current\ line\ needs\ to\ start\ to\ run\ following\ the\ existing\ one.}}
\DoxyCodeLine{01744\ \ \ \ \ \textcolor{comment}{//\ This\ may\ be\ the\ same\ as\ pCurrLine\ in\ which\ case\ no\ move\ is\ needed.}}
\DoxyCodeLine{01745\ \ \ \ \ SI\_CHAR\ *\ pDataLine\ =\ a\_pData;}
\DoxyCodeLine{01746\ \ \ \ \ SI\_CHAR\ *\ pCurrLine;}
\DoxyCodeLine{01747\ }
\DoxyCodeLine{01748\ \ \ \ \ \textcolor{comment}{//\ value\ starts\ at\ the\ current\ line}}
\DoxyCodeLine{01749\ \ \ \ \ a\_pVal\ =\ a\_pData;}
\DoxyCodeLine{01750\ }
\DoxyCodeLine{01751\ \ \ \ \ \textcolor{comment}{//\ find\ the\ end\ tag.\ This\ tag\ must\ start\ in\ column\ 1\ and\ be}}
\DoxyCodeLine{01752\ \ \ \ \ \textcolor{comment}{//\ followed\ by\ a\ newline.\ No\ whitespace\ removal\ is\ done\ while}}
\DoxyCodeLine{01753\ \ \ \ \ \textcolor{comment}{//\ searching\ for\ this\ tag.}}
\DoxyCodeLine{01754\ \ \ \ \ SI\_CHAR\ cEndOfLineChar\ =\ *a\_pData;}
\DoxyCodeLine{01755\ \ \ \ \ \textcolor{keywordflow}{for}(;;)\ \{}
\DoxyCodeLine{01756\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ are\ loading\ comments\ then\ we\ need\ a\ comment\ character\ as}}
\DoxyCodeLine{01757\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ first\ character\ on\ every\ line}}
\DoxyCodeLine{01758\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pTagName\ \&\&\ !IsComment(*a\_pData))\ \{}
\DoxyCodeLine{01759\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ aren't\ allowing\ blank\ lines\ then\ we're\ done}}
\DoxyCodeLine{01760\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_bAllowBlankLinesInComment)\ \{}
\DoxyCodeLine{01761\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01762\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01763\ }
\DoxyCodeLine{01764\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ are\ allowing\ blank\ lines\ then\ we\ only\ include\ them}}
\DoxyCodeLine{01765\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in\ this\ comment\ if\ another\ comment\ follows,\ so\ read\ ahead}}
\DoxyCodeLine{01766\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ to\ find\ out.}}
\DoxyCodeLine{01767\ \ \ \ \ \ \ \ \ \ \ \ \ SI\_CHAR\ *\ pCurr\ =\ a\_pData;}
\DoxyCodeLine{01768\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ nNewLines\ =\ 0;}
\DoxyCodeLine{01769\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (IsSpace(*pCurr))\ \{}
\DoxyCodeLine{01770\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (IsNewLineChar(*pCurr))\ \{}
\DoxyCodeLine{01771\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++nNewLines;}
\DoxyCodeLine{01772\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SkipNewLine(pCurr);}
\DoxyCodeLine{01773\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01774\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++pCurr;}
\DoxyCodeLine{01776\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01777\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01778\ }
\DoxyCodeLine{01779\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ have\ a\ comment,\ add\ the\ blank\ lines\ to\ the\ output}}
\DoxyCodeLine{01780\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ continue\ processing\ from\ here}}
\DoxyCodeLine{01781\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (IsComment(*pCurr))\ \{}
\DoxyCodeLine{01782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ nNewLines\ >\ 0;\ -\/-\/nNewLines)\ *pDataLine++\ =\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{01783\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_pData\ =\ pCurr;}
\DoxyCodeLine{01784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01785\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01786\ }
\DoxyCodeLine{01787\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ comment\ ends\ here}}
\DoxyCodeLine{01788\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01789\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01790\ }
\DoxyCodeLine{01791\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ the\ end\ of\ this\ line}}
\DoxyCodeLine{01792\ \ \ \ \ \ \ \ \ pCurrLine\ =\ a\_pData;}
\DoxyCodeLine{01793\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*a\_pData\ \&\&\ !IsNewLineChar(*a\_pData))\ ++a\_pData;}
\DoxyCodeLine{01794\ }
\DoxyCodeLine{01795\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ move\ this\ line\ down\ to\ the\ location\ that\ it\ should\ be\ if\ necessary}}
\DoxyCodeLine{01796\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pDataLine\ <\ pCurrLine)\ \{}
\DoxyCodeLine{01797\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ nLen\ =\ (size\_t)\ (a\_pData\ -\/\ pCurrLine);}
\DoxyCodeLine{01798\ \ \ \ \ \ \ \ \ \ \ \ \ memmove(pDataLine,\ pCurrLine,\ nLen\ *\ \textcolor{keyword}{sizeof}(SI\_CHAR));}
\DoxyCodeLine{01799\ \ \ \ \ \ \ \ \ \ \ \ \ pDataLine[nLen]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01800\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01801\ }
\DoxyCodeLine{01802\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ end\ the\ line\ with\ a\ NULL}}
\DoxyCodeLine{01803\ \ \ \ \ \ \ \ \ cEndOfLineChar\ =\ *a\_pData;}
\DoxyCodeLine{01804\ \ \ \ \ \ \ \ \ *a\_pData\ =\ 0;}
\DoxyCodeLine{01805\ }
\DoxyCodeLine{01806\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ are\ looking\ for\ a\ tag\ then\ do\ the\ check\ now.\ This\ is\ done\ before}}
\DoxyCodeLine{01807\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ checking\ for\ end\ of\ the\ data,\ so\ that\ if\ we\ have\ the\ tag\ at\ the\ end}}
\DoxyCodeLine{01808\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ of\ the\ data\ then\ the\ tag\ is\ removed\ correctly.}}
\DoxyCodeLine{01809\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pTagName\ \&\&}
\DoxyCodeLine{01810\ \ \ \ \ \ \ \ \ \ \ \ \ (!IsLess(pDataLine,\ a\_pTagName)\ \&\&\ !IsLess(a\_pTagName,\ pDataLine)))}
\DoxyCodeLine{01811\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01812\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01813\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01814\ }
\DoxyCodeLine{01815\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ are\ at\ the\ end\ of\ the\ data\ then\ we\ just\ automatically\ end}}
\DoxyCodeLine{01816\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ entry\ and\ return\ the\ current\ data.}}
\DoxyCodeLine{01817\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!cEndOfLineChar)\ \{}
\DoxyCodeLine{01818\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01819\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01820\ }
\DoxyCodeLine{01821\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ otherwise\ we\ need\ to\ process\ this\ newline\ to\ ensure\ that\ it\ consists}}
\DoxyCodeLine{01822\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ of\ just\ a\ single\ \(\backslash\)n\ character.}}
\DoxyCodeLine{01823\ \ \ \ \ \ \ \ \ pDataLine\ +=\ (a\_pData\ -\/\ pCurrLine);}
\DoxyCodeLine{01824\ \ \ \ \ \ \ \ \ *a\_pData\ =\ cEndOfLineChar;}
\DoxyCodeLine{01825\ \ \ \ \ \ \ \ \ SkipNewLine(a\_pData);}
\DoxyCodeLine{01826\ \ \ \ \ \ \ \ \ *pDataLine++\ =\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{01827\ \ \ \ \ \}}
\DoxyCodeLine{01828\ }
\DoxyCodeLine{01829\ \ \ \ \ \textcolor{comment}{//\ if\ we\ didn't\ find\ a\ comment\ at\ all\ then\ return\ false}}
\DoxyCodeLine{01830\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pVal\ ==\ a\_pData)\ \{}
\DoxyCodeLine{01831\ \ \ \ \ \ \ \ \ a\_pVal\ =\ NULL;}
\DoxyCodeLine{01832\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01833\ \ \ \ \ \}}
\DoxyCodeLine{01834\ }
\DoxyCodeLine{01835\ \ \ \ \ \textcolor{comment}{//\ the\ data\ (which\ ends\ at\ the\ end\ of\ the\ last\ line)\ needs\ to\ be}}
\DoxyCodeLine{01836\ \ \ \ \ \textcolor{comment}{//\ null-\/terminated\ BEFORE\ before\ the\ newline\ character(s).\ If\ the}}
\DoxyCodeLine{01837\ \ \ \ \ \textcolor{comment}{//\ user\ wants\ a\ new\ line\ in\ the\ multi-\/line\ data\ then\ they\ need\ to}}
\DoxyCodeLine{01838\ \ \ \ \ \textcolor{comment}{//\ add\ an\ empty\ line\ before\ the\ tag.}}
\DoxyCodeLine{01839\ \ \ \ \ *-\/-\/pDataLine\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01840\ }
\DoxyCodeLine{01841\ \ \ \ \ \textcolor{comment}{//\ if\ looking\ for\ a\ tag\ and\ if\ we\ aren't\ at\ the\ end\ of\ the\ data,}}
\DoxyCodeLine{01842\ \ \ \ \ \textcolor{comment}{//\ then\ move\ a\_pData\ to\ the\ start\ of\ the\ next\ line.}}
\DoxyCodeLine{01843\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pTagName\ \&\&\ cEndOfLineChar)\ \{}
\DoxyCodeLine{01844\ \ \ \ \ \ \ \ \ SI\_ASSERT(IsNewLineChar(cEndOfLineChar));}
\DoxyCodeLine{01845\ \ \ \ \ \ \ \ \ *a\_pData\ =\ cEndOfLineChar;}
\DoxyCodeLine{01846\ \ \ \ \ \ \ \ \ SkipNewLine(a\_pData);}
\DoxyCodeLine{01847\ \ \ \ \ \}}
\DoxyCodeLine{01848\ }
\DoxyCodeLine{01849\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01850\ \}}
\DoxyCodeLine{01851\ }
\DoxyCodeLine{01852\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01853\ SI\_Error}
\DoxyCodeLine{01854\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::CopyString}}(}
\DoxyCodeLine{01855\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\&\ a\_pString}
\DoxyCodeLine{01856\ \ \ \ \ )}
\DoxyCodeLine{01857\ \{}
\DoxyCodeLine{01858\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ uLen\ =\ 0;}
\DoxyCodeLine{01859\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(SI\_CHAR)\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}))\ \{}
\DoxyCodeLine{01860\ \ \ \ \ \ \ \ \ uLen\ =\ strlen((\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *)a\_pString);}
\DoxyCodeLine{01861\ \ \ \ \ \}}
\DoxyCodeLine{01862\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(SI\_CHAR)\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{wchar\_t}))\ \{}
\DoxyCodeLine{01863\ \ \ \ \ \ \ \ \ uLen\ =\ wcslen((\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}\ *)a\_pString);}
\DoxyCodeLine{01864\ \ \ \ \ \}}
\DoxyCodeLine{01865\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01866\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;\ a\_pString[uLen];\ ++uLen)\ \textcolor{comment}{/*loop*/}\ ;}
\DoxyCodeLine{01867\ \ \ \ \ \}}
\DoxyCodeLine{01868\ \ \ \ \ ++uLen;\ \textcolor{comment}{//\ NULL\ character}}
\DoxyCodeLine{01869\ \ \ \ \ SI\_CHAR\ *\ pCopy\ =\ \textcolor{keyword}{new}(std::nothrow)\ SI\_CHAR[uLen];}
\DoxyCodeLine{01870\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pCopy)\ \{}
\DoxyCodeLine{01871\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_NOMEM;}
\DoxyCodeLine{01872\ \ \ \ \ \}}
\DoxyCodeLine{01873\ \ \ \ \ memcpy(pCopy,\ a\_pString,\ \textcolor{keyword}{sizeof}(SI\_CHAR)*uLen);}
\DoxyCodeLine{01874\ \ \ \ \ m\_strings.push\_back(pCopy);}
\DoxyCodeLine{01875\ \ \ \ \ a\_pString\ =\ pCopy;}
\DoxyCodeLine{01876\ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_OK;}
\DoxyCodeLine{01877\ \}}
\DoxyCodeLine{01878\ }
\DoxyCodeLine{01879\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01880\ SI\_Error}
\DoxyCodeLine{01881\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::AddEntry}}(}
\DoxyCodeLine{01882\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{01883\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{01884\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pValue,}
\DoxyCodeLine{01885\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pComment,}
\DoxyCodeLine{01886\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bForceReplace,}
\DoxyCodeLine{01887\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bCopyStrings}
\DoxyCodeLine{01888\ \ \ \ \ )}
\DoxyCodeLine{01889\ \{}
\DoxyCodeLine{01890\ \ \ \ \ SI\_Error\ rc;}
\DoxyCodeLine{01891\ \ \ \ \ \textcolor{keywordtype}{bool}\ bInserted\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01892\ }
\DoxyCodeLine{01893\ \ \ \ \ SI\_ASSERT(!a\_pComment\ ||\ IsComment(*a\_pComment));}
\DoxyCodeLine{01894\ }
\DoxyCodeLine{01895\ \ \ \ \ \textcolor{comment}{//\ if\ we\ are\ copying\ strings\ then\ make\ a\ copy\ of\ the\ comment\ now}}
\DoxyCodeLine{01896\ \ \ \ \ \textcolor{comment}{//\ because\ we\ will\ need\ it\ when\ we\ add\ the\ entry.}}
\DoxyCodeLine{01897\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_bCopyStrings\ \&\&\ a\_pComment)\ \{}
\DoxyCodeLine{01898\ \ \ \ \ \ \ \ \ rc\ =\ CopyString(a\_pComment);}
\DoxyCodeLine{01899\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rc\ <\ 0)\ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01900\ \ \ \ \ \}}
\DoxyCodeLine{01901\ }
\DoxyCodeLine{01902\ \ \ \ \ \textcolor{comment}{//\ create\ the\ section\ entry\ if\ necessary}}
\DoxyCodeLine{01903\ \ \ \ \ \textcolor{keyword}{typename}\ TSection::iterator\ iSection\ =\ m\_data.find(a\_pSection);}
\DoxyCodeLine{01904\ \ \ \ \ \textcolor{keywordflow}{if}\ (iSection\ ==\ m\_data.end())\ \{}
\DoxyCodeLine{01905\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ section\ doesn't\ exist\ then\ we\ need\ a\ copy\ as\ the}}
\DoxyCodeLine{01906\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ string\ needs\ to\ last\ beyond\ the\ end\ of\ this\ function}}
\DoxyCodeLine{01907\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_bCopyStrings)\ \{}
\DoxyCodeLine{01908\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ CopyString(a\_pSection);}
\DoxyCodeLine{01909\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rc\ <\ 0)\ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01910\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01911\ }
\DoxyCodeLine{01912\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ only\ set\ the\ comment\ if\ this\ is\ a\ section\ only\ entry}}
\DoxyCodeLine{01913\ \ \ \ \ \ \ \ \ Entry\ oSection(a\_pSection,\ ++m\_nOrder);}
\DoxyCodeLine{01914\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pComment\ \&\&\ (!a\_pKey\ ||\ !a\_pValue))\ \{}
\DoxyCodeLine{01915\ \ \ \ \ \ \ \ \ \ \ \ \ oSection.pComment\ =\ a\_pComment;}
\DoxyCodeLine{01916\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01917\ }
\DoxyCodeLine{01918\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TSection::value\_type\ oEntry(oSection,\ TKeyVal());}
\DoxyCodeLine{01919\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ TSection::iterator\ SectionIterator;}
\DoxyCodeLine{01920\ \ \ \ \ \ \ \ \ std::pair<SectionIterator,bool>\ i\ =\ m\_data.insert(oEntry);}
\DoxyCodeLine{01921\ \ \ \ \ \ \ \ \ iSection\ =\ i.first;}
\DoxyCodeLine{01922\ \ \ \ \ \ \ \ \ bInserted\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01923\ \ \ \ \ \}}
\DoxyCodeLine{01924\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pKey\ ||\ !a\_pValue)\ \{}
\DoxyCodeLine{01925\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ section\ only\ entries\ are\ specified\ with\ pItem\ and\ pVal\ as\ NULL}}
\DoxyCodeLine{01926\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ bInserted\ ?\ SI\_INSERTED\ :\ SI\_UPDATED;}
\DoxyCodeLine{01927\ \ \ \ \ \}}
\DoxyCodeLine{01928\ }
\DoxyCodeLine{01929\ \ \ \ \ \textcolor{comment}{//\ check\ for\ existence\ of\ the\ key}}
\DoxyCodeLine{01930\ \ \ \ \ TKeyVal\ \&\ keyval\ =\ iSection-\/>second;}
\DoxyCodeLine{01931\ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::iterator\ iKey\ =\ keyval.find(a\_pKey);}
\DoxyCodeLine{01932\ }
\DoxyCodeLine{01933\ \ \ \ \ \textcolor{comment}{//\ remove\ all\ existing\ entries\ but\ save\ the\ load\ order\ and}}
\DoxyCodeLine{01934\ \ \ \ \ \textcolor{comment}{//\ comment\ of\ the\ first\ entry}}
\DoxyCodeLine{01935\ \ \ \ \ \textcolor{keywordtype}{int}\ nLoadOrder\ =\ ++m\_nOrder;}
\DoxyCodeLine{01936\ \ \ \ \ \textcolor{keywordflow}{if}\ (iKey\ !=\ keyval.end()\ \&\&\ m\_bAllowMultiKey\ \&\&\ a\_bForceReplace)\ \{}
\DoxyCodeLine{01937\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pComment\ =\ NULL;}
\DoxyCodeLine{01938\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (iKey\ !=\ keyval.end()\ \&\&\ !IsLess(a\_pKey,\ iKey-\/>first.pItem))\ \{}
\DoxyCodeLine{01939\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (iKey-\/>first.nOrder\ <\ nLoadOrder)\ \{}
\DoxyCodeLine{01940\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nLoadOrder\ =\ iKey-\/>first.nOrder;}
\DoxyCodeLine{01941\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pComment\ \ \ =\ iKey-\/>first.pComment;}
\DoxyCodeLine{01942\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01943\ \ \ \ \ \ \ \ \ \ \ \ \ ++iKey;}
\DoxyCodeLine{01944\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01945\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pComment)\ \{}
\DoxyCodeLine{01946\ \ \ \ \ \ \ \ \ \ \ \ \ DeleteString(a\_pComment);}
\DoxyCodeLine{01947\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pComment\ =\ pComment;}
\DoxyCodeLine{01948\ \ \ \ \ \ \ \ \ \ \ \ \ CopyString(a\_pComment);}
\DoxyCodeLine{01949\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01950\ \ \ \ \ \ \ \ \ Delete(a\_pSection,\ a\_pKey);}
\DoxyCodeLine{01951\ \ \ \ \ \ \ \ \ iKey\ =\ keyval.end();}
\DoxyCodeLine{01952\ \ \ \ \ \}}
\DoxyCodeLine{01953\ }
\DoxyCodeLine{01954\ \ \ \ \ \textcolor{comment}{//\ make\ string\ copies\ if\ necessary}}
\DoxyCodeLine{01955\ \ \ \ \ \textcolor{keywordtype}{bool}\ bForceCreateNewKey\ =\ m\_bAllowMultiKey\ \&\&\ !a\_bForceReplace;}
\DoxyCodeLine{01956\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_bCopyStrings)\ \{}
\DoxyCodeLine{01957\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bForceCreateNewKey\ ||\ iKey\ ==\ keyval.end())\ \{}
\DoxyCodeLine{01958\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ key\ doesn't\ exist\ then\ we\ need\ a\ copy\ as\ the}}
\DoxyCodeLine{01959\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ string\ needs\ to\ last\ beyond\ the\ end\ of\ this\ function}}
\DoxyCodeLine{01960\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ because\ we\ will\ be\ inserting\ the\ key\ next}}
\DoxyCodeLine{01961\ \ \ \ \ \ \ \ \ \ \ \ \ rc\ =\ CopyString(a\_pKey);}
\DoxyCodeLine{01962\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rc\ <\ 0)\ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01963\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01964\ }
\DoxyCodeLine{01965\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ always\ need\ a\ copy\ of\ the\ value}}
\DoxyCodeLine{01966\ \ \ \ \ \ \ \ \ rc\ =\ CopyString(a\_pValue);}
\DoxyCodeLine{01967\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rc\ <\ 0)\ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{01968\ \ \ \ \ \}}
\DoxyCodeLine{01969\ }
\DoxyCodeLine{01970\ \ \ \ \ \textcolor{comment}{//\ create\ the\ key\ entry}}
\DoxyCodeLine{01971\ \ \ \ \ \textcolor{keywordflow}{if}\ (iKey\ ==\ keyval.end()\ ||\ bForceCreateNewKey)\ \{}
\DoxyCodeLine{01972\ \ \ \ \ \ \ \ \ Entry\ oKey(a\_pKey,\ nLoadOrder);}
\DoxyCodeLine{01973\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pComment)\ \{}
\DoxyCodeLine{01974\ \ \ \ \ \ \ \ \ \ \ \ \ oKey.pComment\ =\ a\_pComment;}
\DoxyCodeLine{01975\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01976\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::value\_type\ oEntry(oKey,\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }SI\_CHAR\ *\textcolor{keyword}{>}(NULL));}
\DoxyCodeLine{01977\ \ \ \ \ \ \ \ \ iKey\ =\ keyval.insert(oEntry);}
\DoxyCodeLine{01978\ \ \ \ \ \ \ \ \ bInserted\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01979\ \ \ \ \ \}}
\DoxyCodeLine{01980\ \ \ \ \ iKey-\/>second\ =\ a\_pValue;}
\DoxyCodeLine{01981\ \ \ \ \ \textcolor{keywordflow}{return}\ bInserted\ ?\ SI\_INSERTED\ :\ SI\_UPDATED;}
\DoxyCodeLine{01982\ \}}
\DoxyCodeLine{01983\ }
\DoxyCodeLine{01984\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{01985\ \textcolor{keyword}{const}\ SI\_CHAR\ *}
\DoxyCodeLine{01986\ \mbox{\hyperlink{class_c_simple_ini_templ_a74e3f5d22f50b70b2a20c89ec7e2c737}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::GetValue}}(}
\DoxyCodeLine{01987\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{01988\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{01989\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pDefault,}
\DoxyCodeLine{01990\ \ \ \ \ \textcolor{keywordtype}{bool}\ *\ \ \ \ \ \ \ \ \ \ a\_pHasMultiple}
\DoxyCodeLine{01991\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{01992\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01993\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pHasMultiple)\ \{}
\DoxyCodeLine{01994\ \ \ \ \ \ \ \ \ *a\_pHasMultiple\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01995\ \ \ \ \ \}}
\DoxyCodeLine{01996\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pSection\ ||\ !a\_pKey)\ \{}
\DoxyCodeLine{01997\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_pDefault;}
\DoxyCodeLine{01998\ \ \ \ \ \}}
\DoxyCodeLine{01999\ \ \ \ \ \textcolor{keyword}{typename}\ TSection::const\_iterator\ iSection\ =\ m\_data.find(a\_pSection);}
\DoxyCodeLine{02000\ \ \ \ \ \textcolor{keywordflow}{if}\ (iSection\ ==\ m\_data.end())\ \{}
\DoxyCodeLine{02001\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_pDefault;}
\DoxyCodeLine{02002\ \ \ \ \ \}}
\DoxyCodeLine{02003\ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::const\_iterator\ iKeyVal\ =\ iSection-\/>second.find(a\_pKey);}
\DoxyCodeLine{02004\ \ \ \ \ \textcolor{keywordflow}{if}\ (iKeyVal\ ==\ iSection-\/>second.end())\ \{}
\DoxyCodeLine{02005\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_pDefault;}
\DoxyCodeLine{02006\ \ \ \ \ \}}
\DoxyCodeLine{02007\ }
\DoxyCodeLine{02008\ \ \ \ \ \textcolor{comment}{//\ check\ for\ multiple\ entries\ with\ the\ same\ key}}
\DoxyCodeLine{02009\ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_bAllowMultiKey\ \&\&\ a\_pHasMultiple)\ \{}
\DoxyCodeLine{02010\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::const\_iterator\ iTemp\ =\ iKeyVal;}
\DoxyCodeLine{02011\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (++iTemp\ !=\ iSection-\/>second.end())\ \{}
\DoxyCodeLine{02012\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsLess(a\_pKey,\ iTemp-\/>first.pItem))\ \{}
\DoxyCodeLine{02013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *a\_pHasMultiple\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02014\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02015\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02016\ \ \ \ \ \}}
\DoxyCodeLine{02017\ }
\DoxyCodeLine{02018\ \ \ \ \ \textcolor{keywordflow}{return}\ iKeyVal-\/>second;}
\DoxyCodeLine{02019\ \}}
\DoxyCodeLine{02020\ }
\DoxyCodeLine{02021\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02022\ \textcolor{keywordtype}{long}}
\DoxyCodeLine{02023\ \mbox{\hyperlink{class_c_simple_ini_templ_a7fa211c1c768497520eab7f2014ae786}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::GetLongValue}}(}
\DoxyCodeLine{02024\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02025\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{02026\ \ \ \ \ \textcolor{keywordtype}{long}\ \ \ \ \ \ \ \ \ \ \ \ a\_nDefault,}
\DoxyCodeLine{02027\ \ \ \ \ \textcolor{keywordtype}{bool}\ *\ \ \ \ \ \ \ \ \ \ a\_pHasMultiple}
\DoxyCodeLine{02028\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02029\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02030\ \ \ \ \ \textcolor{comment}{//\ return\ the\ default\ if\ we\ don't\ have\ a\ value}}
\DoxyCodeLine{02031\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pszValue\ =\ GetValue(a\_pSection,\ a\_pKey,\ NULL,\ a\_pHasMultiple);}
\DoxyCodeLine{02032\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pszValue\ ||\ !*pszValue)\ \textcolor{keywordflow}{return}\ a\_nDefault;}
\DoxyCodeLine{02033\ }
\DoxyCodeLine{02034\ \ \ \ \ \textcolor{comment}{//\ convert\ to\ UTF-\/8/MBCS\ which\ for\ a\ numeric\ value\ will\ be\ the\ same\ as\ ASCII}}
\DoxyCodeLine{02035\ \ \ \ \ \textcolor{keywordtype}{char}\ szValue[64]\ =\ \{\ 0\ \};}
\DoxyCodeLine{02036\ \ \ \ \ SI\_CONVERTER\ c(m\_bStoreIsUtf8);}
\DoxyCodeLine{02037\ \ \ \ \ \textcolor{keywordflow}{if}\ (!c.ConvertToStore(pszValue,\ szValue,\ \textcolor{keyword}{sizeof}(szValue)))\ \{}
\DoxyCodeLine{02038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_nDefault;}
\DoxyCodeLine{02039\ \ \ \ \ \}}
\DoxyCodeLine{02040\ }
\DoxyCodeLine{02041\ \ \ \ \ \textcolor{comment}{//\ handle\ the\ value\ as\ hex\ if\ prefaced\ with\ "{}0x"{}}}
\DoxyCodeLine{02042\ \ \ \ \ \textcolor{keywordtype}{long}\ nValue\ =\ a\_nDefault;}
\DoxyCodeLine{02043\ \ \ \ \ \textcolor{keywordtype}{char}\ *\ pszSuffix\ =\ szValue;}
\DoxyCodeLine{02044\ \ \ \ \ \textcolor{keywordflow}{if}\ (szValue[0]\ ==\ \textcolor{charliteral}{'0'}\ \&\&\ (szValue[1]\ ==\ \textcolor{charliteral}{'x'}\ ||\ szValue[1]\ ==\ \textcolor{charliteral}{'X'}))\ \{}
\DoxyCodeLine{02045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!szValue[2])\ \textcolor{keywordflow}{return}\ a\_nDefault;}
\DoxyCodeLine{02046\ \ \ \ \ \ \ \ \ nValue\ =\ strtol(\&szValue[2],\ \&pszSuffix,\ 16);}
\DoxyCodeLine{02047\ \ \ \ \ \}}
\DoxyCodeLine{02048\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02049\ \ \ \ \ \ \ \ \ nValue\ =\ strtol(szValue,\ \&pszSuffix,\ 10);}
\DoxyCodeLine{02050\ \ \ \ \ \}}
\DoxyCodeLine{02051\ }
\DoxyCodeLine{02052\ \ \ \ \ \textcolor{comment}{//\ any\ invalid\ strings\ will\ return\ the\ default\ value}}
\DoxyCodeLine{02053\ \ \ \ \ \textcolor{keywordflow}{if}\ (*pszSuffix)\ \{\ }
\DoxyCodeLine{02054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_nDefault;\ }
\DoxyCodeLine{02055\ \ \ \ \ \}}
\DoxyCodeLine{02056\ }
\DoxyCodeLine{02057\ \ \ \ \ \textcolor{keywordflow}{return}\ nValue;}
\DoxyCodeLine{02058\ \}}
\DoxyCodeLine{02059\ }
\DoxyCodeLine{02060\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02061\ SI\_Error\ }
\DoxyCodeLine{02062\ \mbox{\hyperlink{class_c_simple_ini_templ_ab2238be407232e4bba0f1343e4793e4e}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::SetLongValue}}(}
\DoxyCodeLine{02063\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02064\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{02065\ \ \ \ \ \textcolor{keywordtype}{long}\ \ \ \ \ \ \ \ \ \ \ \ a\_nValue,}
\DoxyCodeLine{02066\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pComment,}
\DoxyCodeLine{02067\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bUseHex,}
\DoxyCodeLine{02068\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bForceReplace}
\DoxyCodeLine{02069\ \ \ \ \ )}
\DoxyCodeLine{02070\ \{}
\DoxyCodeLine{02071\ \ \ \ \ \textcolor{comment}{//\ use\ SetValue\ to\ create\ sections}}
\DoxyCodeLine{02072\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pSection\ ||\ !a\_pKey)\ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02073\ }
\DoxyCodeLine{02074\ \ \ \ \ \textcolor{comment}{//\ convert\ to\ an\ ASCII\ string}}
\DoxyCodeLine{02075\ \ \ \ \ \textcolor{keywordtype}{char}\ szInput[64];}
\DoxyCodeLine{02076\ \textcolor{preprocessor}{\#if\ \_\_STDC\_WANT\_SECURE\_LIB\_\_\ \&\&\ !\_WIN32\_WCE}}
\DoxyCodeLine{02077\ \ \ \ \ sprintf\_s(szInput,\ a\_bUseHex\ ?\ \textcolor{stringliteral}{"{}0x\%lx"{}}\ :\ \textcolor{stringliteral}{"{}\%ld"{}},\ a\_nValue);}
\DoxyCodeLine{02078\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{02079\ \ \ \ \ sprintf(szInput,\ a\_bUseHex\ ?\ \textcolor{stringliteral}{"{}0x\%lx"{}}\ :\ \textcolor{stringliteral}{"{}\%ld"{}},\ a\_nValue);}
\DoxyCodeLine{02080\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{02081\ }
\DoxyCodeLine{02082\ \ \ \ \ \textcolor{comment}{//\ convert\ to\ output\ text}}
\DoxyCodeLine{02083\ \ \ \ \ SI\_CHAR\ szOutput[64];}
\DoxyCodeLine{02084\ \ \ \ \ SI\_CONVERTER\ c(m\_bStoreIsUtf8);}
\DoxyCodeLine{02085\ \ \ \ \ c.ConvertFromStore(szInput,\ strlen(szInput)\ +\ 1,\ }
\DoxyCodeLine{02086\ \ \ \ \ \ \ \ \ szOutput,\ \textcolor{keyword}{sizeof}(szOutput)\ /\ \textcolor{keyword}{sizeof}(SI\_CHAR));}
\DoxyCodeLine{02087\ }
\DoxyCodeLine{02088\ \ \ \ \ \textcolor{comment}{//\ actually\ add\ it}}
\DoxyCodeLine{02089\ \ \ \ \ \textcolor{keywordflow}{return}\ AddEntry(a\_pSection,\ a\_pKey,\ szOutput,\ a\_pComment,\ a\_bForceReplace,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02090\ \}}
\DoxyCodeLine{02091\ }
\DoxyCodeLine{02092\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02093\ \textcolor{keywordtype}{double}}
\DoxyCodeLine{02094\ \mbox{\hyperlink{class_c_simple_ini_templ_aab58a949481926cf1d42fcbf9552d77b}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::GetDoubleValue}}(}
\DoxyCodeLine{02095\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02096\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{02097\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ a\_nDefault,}
\DoxyCodeLine{02098\ \ \ \ \ \textcolor{keywordtype}{bool}\ *\ \ \ \ \ \ \ \ \ \ a\_pHasMultiple}
\DoxyCodeLine{02099\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02100\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02101\ \ \ \ \ \textcolor{comment}{//\ return\ the\ default\ if\ we\ don't\ have\ a\ value}}
\DoxyCodeLine{02102\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pszValue\ =\ GetValue(a\_pSection,\ a\_pKey,\ NULL,\ a\_pHasMultiple);}
\DoxyCodeLine{02103\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pszValue\ ||\ !*pszValue)\ \textcolor{keywordflow}{return}\ a\_nDefault;}
\DoxyCodeLine{02104\ }
\DoxyCodeLine{02105\ \ \ \ \ \textcolor{comment}{//\ convert\ to\ UTF-\/8/MBCS\ which\ for\ a\ numeric\ value\ will\ be\ the\ same\ as\ ASCII}}
\DoxyCodeLine{02106\ \ \ \ \ \textcolor{keywordtype}{char}\ szValue[64]\ =\ \{\ 0\ \};}
\DoxyCodeLine{02107\ \ \ \ \ SI\_CONVERTER\ c(m\_bStoreIsUtf8);}
\DoxyCodeLine{02108\ \ \ \ \ \textcolor{keywordflow}{if}\ (!c.ConvertToStore(pszValue,\ szValue,\ \textcolor{keyword}{sizeof}(szValue)))\ \{}
\DoxyCodeLine{02109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_nDefault;}
\DoxyCodeLine{02110\ \ \ \ \ \}}
\DoxyCodeLine{02111\ }
\DoxyCodeLine{02112\ \ \ \ \ \textcolor{keywordtype}{char}\ *\ pszSuffix\ =\ NULL;}
\DoxyCodeLine{02113\ \ \ \ \ \textcolor{keywordtype}{double}\ nValue\ =\ strtod(szValue,\ \&pszSuffix);}
\DoxyCodeLine{02114\ }
\DoxyCodeLine{02115\ \ \ \ \ \textcolor{comment}{//\ any\ invalid\ strings\ will\ return\ the\ default\ value}}
\DoxyCodeLine{02116\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pszSuffix\ ||\ *pszSuffix)\ \{\ }
\DoxyCodeLine{02117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_nDefault;\ }
\DoxyCodeLine{02118\ \ \ \ \ \}}
\DoxyCodeLine{02119\ }
\DoxyCodeLine{02120\ \ \ \ \ \textcolor{keywordflow}{return}\ nValue;}
\DoxyCodeLine{02121\ \}}
\DoxyCodeLine{02122\ }
\DoxyCodeLine{02123\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02124\ SI\_Error\ }
\DoxyCodeLine{02125\ \mbox{\hyperlink{class_c_simple_ini_templ_af92ba0b8067553ab693c62a370de6534}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::SetDoubleValue}}(}
\DoxyCodeLine{02126\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02127\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{02128\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ a\_nValue,}
\DoxyCodeLine{02129\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pComment,}
\DoxyCodeLine{02130\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bForceReplace}
\DoxyCodeLine{02131\ \ \ \ \ )}
\DoxyCodeLine{02132\ \{}
\DoxyCodeLine{02133\ \ \ \ \ \textcolor{comment}{//\ use\ SetValue\ to\ create\ sections}}
\DoxyCodeLine{02134\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pSection\ ||\ !a\_pKey)\ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02135\ }
\DoxyCodeLine{02136\ \ \ \ \ \textcolor{comment}{//\ convert\ to\ an\ ASCII\ string}}
\DoxyCodeLine{02137\ \ \ \ \ \textcolor{keywordtype}{char}\ szInput[64];}
\DoxyCodeLine{02138\ \textcolor{preprocessor}{\#if\ \_\_STDC\_WANT\_SECURE\_LIB\_\_\ \&\&\ !\_WIN32\_WCE}}
\DoxyCodeLine{02139\ \ \ \ \ sprintf\_s(szInput,\ \textcolor{stringliteral}{"{}\%f"{}},\ a\_nValue);}
\DoxyCodeLine{02140\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{02141\ \ \ \ \ sprintf(szInput,\ \textcolor{stringliteral}{"{}\%f"{}},\ a\_nValue);}
\DoxyCodeLine{02142\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{02143\ }
\DoxyCodeLine{02144\ \ \ \ \ \textcolor{comment}{//\ convert\ to\ output\ text}}
\DoxyCodeLine{02145\ \ \ \ \ SI\_CHAR\ szOutput[64];}
\DoxyCodeLine{02146\ \ \ \ \ SI\_CONVERTER\ c(m\_bStoreIsUtf8);}
\DoxyCodeLine{02147\ \ \ \ \ c.ConvertFromStore(szInput,\ strlen(szInput)\ +\ 1,\ }
\DoxyCodeLine{02148\ \ \ \ \ \ \ \ \ szOutput,\ \textcolor{keyword}{sizeof}(szOutput)\ /\ \textcolor{keyword}{sizeof}(SI\_CHAR));}
\DoxyCodeLine{02149\ }
\DoxyCodeLine{02150\ \ \ \ \ \textcolor{comment}{//\ actually\ add\ it}}
\DoxyCodeLine{02151\ \ \ \ \ \textcolor{keywordflow}{return}\ AddEntry(a\_pSection,\ a\_pKey,\ szOutput,\ a\_pComment,\ a\_bForceReplace,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02152\ \}}
\DoxyCodeLine{02153\ }
\DoxyCodeLine{02154\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02155\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{02156\ \mbox{\hyperlink{class_c_simple_ini_templ_a76b3165ce01224f82daee5ef63b3c96d}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::GetBoolValue}}(}
\DoxyCodeLine{02157\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02158\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{02159\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bDefault,}
\DoxyCodeLine{02160\ \ \ \ \ \textcolor{keywordtype}{bool}\ *\ \ \ \ \ \ \ \ \ \ a\_pHasMultiple}
\DoxyCodeLine{02161\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02162\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02163\ \ \ \ \ \textcolor{comment}{//\ return\ the\ default\ if\ we\ don't\ have\ a\ value}}
\DoxyCodeLine{02164\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pszValue\ =\ GetValue(a\_pSection,\ a\_pKey,\ NULL,\ a\_pHasMultiple);}
\DoxyCodeLine{02165\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pszValue\ ||\ !*pszValue)\ \textcolor{keywordflow}{return}\ a\_bDefault;}
\DoxyCodeLine{02166\ }
\DoxyCodeLine{02167\ \ \ \ \ \textcolor{comment}{//\ we\ only\ look\ at\ the\ minimum\ number\ of\ characters}}
\DoxyCodeLine{02168\ \ \ \ \ \textcolor{keywordflow}{switch}\ (pszValue[0])\ \{}
\DoxyCodeLine{02169\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'t'}:\ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'T'}:\ \textcolor{comment}{//\ true}}
\DoxyCodeLine{02170\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'y'}:\ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'Y'}:\ \textcolor{comment}{//\ yes}}
\DoxyCodeLine{02171\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'1'}:\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 1\ (one)}}
\DoxyCodeLine{02172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02173\ }
\DoxyCodeLine{02174\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'f'}:\ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'F'}:\ \textcolor{comment}{//\ false}}
\DoxyCodeLine{02175\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'n'}:\ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'N'}:\ \textcolor{comment}{//\ no}}
\DoxyCodeLine{02176\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'0'}:\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 0\ (zero)}}
\DoxyCodeLine{02177\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02178\ }
\DoxyCodeLine{02179\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'o'}:\ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'O'}:}
\DoxyCodeLine{02180\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pszValue[1]\ ==\ \textcolor{charliteral}{'n'}\ ||\ pszValue[1]\ ==\ \textcolor{charliteral}{'N'})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \ \textcolor{comment}{//\ on}}
\DoxyCodeLine{02181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pszValue[1]\ ==\ \textcolor{charliteral}{'f'}\ ||\ pszValue[1]\ ==\ \textcolor{charliteral}{'F'})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \textcolor{comment}{//\ off}}
\DoxyCodeLine{02182\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02183\ \ \ \ \ \}}
\DoxyCodeLine{02184\ }
\DoxyCodeLine{02185\ \ \ \ \ \textcolor{comment}{//\ no\ recognized\ value,\ return\ the\ default}}
\DoxyCodeLine{02186\ \ \ \ \ \textcolor{keywordflow}{return}\ a\_bDefault;}
\DoxyCodeLine{02187\ \}}
\DoxyCodeLine{02188\ }
\DoxyCodeLine{02189\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02190\ SI\_Error\ }
\DoxyCodeLine{02191\ \mbox{\hyperlink{class_c_simple_ini_templ_a48ae136fa20c5d7eb7ab0b75342b27cf}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::SetBoolValue}}(}
\DoxyCodeLine{02192\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02193\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{02194\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bValue,}
\DoxyCodeLine{02195\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pComment,}
\DoxyCodeLine{02196\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bForceReplace}
\DoxyCodeLine{02197\ \ \ \ \ )}
\DoxyCodeLine{02198\ \{}
\DoxyCodeLine{02199\ \ \ \ \ \textcolor{comment}{//\ use\ SetValue\ to\ create\ sections}}
\DoxyCodeLine{02200\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pSection\ ||\ !a\_pKey)\ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02201\ }
\DoxyCodeLine{02202\ \ \ \ \ \textcolor{comment}{//\ convert\ to\ an\ ASCII\ string}}
\DoxyCodeLine{02203\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ pszInput\ =\ a\_bValue\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}};}
\DoxyCodeLine{02204\ }
\DoxyCodeLine{02205\ \ \ \ \ \textcolor{comment}{//\ convert\ to\ output\ text}}
\DoxyCodeLine{02206\ \ \ \ \ SI\_CHAR\ szOutput[64];}
\DoxyCodeLine{02207\ \ \ \ \ SI\_CONVERTER\ c(m\_bStoreIsUtf8);}
\DoxyCodeLine{02208\ \ \ \ \ c.ConvertFromStore(pszInput,\ strlen(pszInput)\ +\ 1,\ }
\DoxyCodeLine{02209\ \ \ \ \ \ \ \ \ szOutput,\ \textcolor{keyword}{sizeof}(szOutput)\ /\ \textcolor{keyword}{sizeof}(SI\_CHAR));}
\DoxyCodeLine{02210\ }
\DoxyCodeLine{02211\ \ \ \ \ \textcolor{comment}{//\ actually\ add\ it}}
\DoxyCodeLine{02212\ \ \ \ \ \textcolor{keywordflow}{return}\ AddEntry(a\_pSection,\ a\_pKey,\ szOutput,\ a\_pComment,\ a\_bForceReplace,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02213\ \}}
\DoxyCodeLine{02214\ \ \ \ \ }
\DoxyCodeLine{02215\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02216\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{02217\ \mbox{\hyperlink{class_c_simple_ini_templ_adda5ee7f422695f7e67be2d066e303bf}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::GetAllValues}}(}
\DoxyCodeLine{02218\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02219\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{02220\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ \&\ \ a\_values}
\DoxyCodeLine{02221\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02222\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02223\ \ \ \ \ a\_values.clear();}
\DoxyCodeLine{02224\ }
\DoxyCodeLine{02225\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pSection\ ||\ !a\_pKey)\ \{}
\DoxyCodeLine{02226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02227\ \ \ \ \ \}}
\DoxyCodeLine{02228\ \ \ \ \ \textcolor{keyword}{typename}\ TSection::const\_iterator\ iSection\ =\ m\_data.find(a\_pSection);}
\DoxyCodeLine{02229\ \ \ \ \ \textcolor{keywordflow}{if}\ (iSection\ ==\ m\_data.end())\ \{}
\DoxyCodeLine{02230\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02231\ \ \ \ \ \}}
\DoxyCodeLine{02232\ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::const\_iterator\ iKeyVal\ =\ iSection-\/>second.find(a\_pKey);}
\DoxyCodeLine{02233\ \ \ \ \ \textcolor{keywordflow}{if}\ (iKeyVal\ ==\ iSection-\/>second.end())\ \{}
\DoxyCodeLine{02234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02235\ \ \ \ \ \}}
\DoxyCodeLine{02236\ }
\DoxyCodeLine{02237\ \ \ \ \ \textcolor{comment}{//\ insert\ all\ values\ for\ this\ key}}
\DoxyCodeLine{02238\ \ \ \ \ a\_values.push\_back(\mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}(iKeyVal-\/>second,\ iKeyVal-\/>first.pComment,\ iKeyVal-\/>first.nOrder));}
\DoxyCodeLine{02239\ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_bAllowMultiKey)\ \{}
\DoxyCodeLine{02240\ \ \ \ \ \ \ \ \ ++iKeyVal;}
\DoxyCodeLine{02241\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (iKeyVal\ !=\ iSection-\/>second.end()\ \&\&\ !IsLess(a\_pKey,\ iKeyVal-\/>first.pItem))\ \{}
\DoxyCodeLine{02242\ \ \ \ \ \ \ \ \ \ \ \ \ a\_values.push\_back(\mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry}{Entry}}(iKeyVal-\/>second,\ iKeyVal-\/>first.pComment,\ iKeyVal-\/>first.nOrder));}
\DoxyCodeLine{02243\ \ \ \ \ \ \ \ \ \ \ \ \ ++iKeyVal;}
\DoxyCodeLine{02244\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02245\ \ \ \ \ \}}
\DoxyCodeLine{02246\ }
\DoxyCodeLine{02247\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02248\ \}}
\DoxyCodeLine{02249\ }
\DoxyCodeLine{02250\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02251\ \textcolor{keywordtype}{int}}
\DoxyCodeLine{02252\ \mbox{\hyperlink{class_c_simple_ini_templ_a0a9c089eabb5faf764c4af449f7b1846}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::GetSectionSize}}(}
\DoxyCodeLine{02253\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection}
\DoxyCodeLine{02254\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02255\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02256\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pSection)\ \{}
\DoxyCodeLine{02257\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02258\ \ \ \ \ \}}
\DoxyCodeLine{02259\ }
\DoxyCodeLine{02260\ \ \ \ \ \textcolor{keyword}{typename}\ TSection::const\_iterator\ iSection\ =\ m\_data.find(a\_pSection);}
\DoxyCodeLine{02261\ \ \ \ \ \textcolor{keywordflow}{if}\ (iSection\ ==\ m\_data.end())\ \{}
\DoxyCodeLine{02262\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02263\ \ \ \ \ \}}
\DoxyCodeLine{02264\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_ae7f0e11d84617214bd479de6332c80e6}{TKeyVal}}\ \&\ section\ =\ iSection-\/>second;}
\DoxyCodeLine{02265\ }
\DoxyCodeLine{02266\ \ \ \ \ \textcolor{comment}{//\ if\ multi-\/key\ isn't\ permitted\ then\ the\ section\ size\ is}}
\DoxyCodeLine{02267\ \ \ \ \ \textcolor{comment}{//\ the\ number\ of\ keys\ that\ we\ have.}}
\DoxyCodeLine{02268\ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_bAllowMultiKey\ ||\ section.empty())\ \{}
\DoxyCodeLine{02269\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{int})\ section.size();}
\DoxyCodeLine{02270\ \ \ \ \ \}}
\DoxyCodeLine{02271\ }
\DoxyCodeLine{02272\ \ \ \ \ \textcolor{comment}{//\ otherwise\ we\ need\ to\ count\ them}}
\DoxyCodeLine{02273\ \ \ \ \ \textcolor{keywordtype}{int}\ nCount\ =\ 0;}
\DoxyCodeLine{02274\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pLastKey\ =\ NULL;}
\DoxyCodeLine{02275\ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::const\_iterator\ iKeyVal\ =\ section.begin();}
\DoxyCodeLine{02276\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ n\ =\ 0;\ iKeyVal\ !=\ section.end();\ ++iKeyVal,\ ++n)\ \{}
\DoxyCodeLine{02277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!pLastKey\ ||\ IsLess(pLastKey,\ iKeyVal-\/>first.pItem))\ \{}
\DoxyCodeLine{02278\ \ \ \ \ \ \ \ \ \ \ \ \ ++nCount;}
\DoxyCodeLine{02279\ \ \ \ \ \ \ \ \ \ \ \ \ pLastKey\ =\ iKeyVal-\/>first.pItem;}
\DoxyCodeLine{02280\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02281\ \ \ \ \ \}}
\DoxyCodeLine{02282\ \ \ \ \ \textcolor{keywordflow}{return}\ nCount;}
\DoxyCodeLine{02283\ \}}
\DoxyCodeLine{02284\ }
\DoxyCodeLine{02285\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02286\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_c_simple_ini_templ_ae7f0e11d84617214bd479de6332c80e6}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::TKeyVal}}\ *}
\DoxyCodeLine{02287\ \mbox{\hyperlink{class_c_simple_ini_templ_a56a6838556328ab8bfaa7ded9edb9c8a}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::GetSection}}(}
\DoxyCodeLine{02288\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection}
\DoxyCodeLine{02289\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02290\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02291\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pSection)\ \{}
\DoxyCodeLine{02292\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TSection::const\_iterator\ i\ =\ m\_data.find(a\_pSection);}
\DoxyCodeLine{02293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ !=\ m\_data.end())\ \{}
\DoxyCodeLine{02294\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&(i-\/>second);}
\DoxyCodeLine{02295\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02296\ \ \ \ \ \}}
\DoxyCodeLine{02297\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02298\ \}}
\DoxyCodeLine{02299\ }
\DoxyCodeLine{02300\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02301\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{02302\ \mbox{\hyperlink{class_c_simple_ini_templ_a7fe8a8b70b0ef000c591011a8332ebd5}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::GetAllSections}}(}
\DoxyCodeLine{02303\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ \&\ a\_names}
\DoxyCodeLine{02304\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02305\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02306\ \ \ \ \ a\_names.clear();}
\DoxyCodeLine{02307\ \ \ \ \ \textcolor{keyword}{typename}\ TSection::const\_iterator\ i\ =\ m\_data.begin();}
\DoxyCodeLine{02308\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ n\ =\ 0;\ i\ !=\ m\_data.end();\ ++i,\ ++n\ )\ \{}
\DoxyCodeLine{02309\ \ \ \ \ \ \ \ \ a\_names.push\_back(i-\/>first);}
\DoxyCodeLine{02310\ \ \ \ \ \}}
\DoxyCodeLine{02311\ \}}
\DoxyCodeLine{02312\ }
\DoxyCodeLine{02313\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02314\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{02315\ \mbox{\hyperlink{class_c_simple_ini_templ_a08cadb6624a6c459703efaadb25d31c9}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::GetAllKeys}}(}
\DoxyCodeLine{02316\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02317\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ \&\ \ a\_names}
\DoxyCodeLine{02318\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02319\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02320\ \ \ \ \ a\_names.clear();}
\DoxyCodeLine{02321\ }
\DoxyCodeLine{02322\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pSection)\ \{}
\DoxyCodeLine{02323\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02324\ \ \ \ \ \}}
\DoxyCodeLine{02325\ }
\DoxyCodeLine{02326\ \ \ \ \ \textcolor{keyword}{typename}\ TSection::const\_iterator\ iSection\ =\ m\_data.find(a\_pSection);}
\DoxyCodeLine{02327\ \ \ \ \ \textcolor{keywordflow}{if}\ (iSection\ ==\ m\_data.end())\ \{}
\DoxyCodeLine{02328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02329\ \ \ \ \ \}}
\DoxyCodeLine{02330\ }
\DoxyCodeLine{02331\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_simple_ini_templ_ae7f0e11d84617214bd479de6332c80e6}{TKeyVal}}\ \&\ section\ =\ iSection-\/>second;}
\DoxyCodeLine{02332\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pLastKey\ =\ NULL;}
\DoxyCodeLine{02333\ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::const\_iterator\ iKeyVal\ =\ section.begin();}
\DoxyCodeLine{02334\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ n\ =\ 0;\ iKeyVal\ !=\ section.end();\ ++iKeyVal,\ ++n\ )\ \{}
\DoxyCodeLine{02335\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!pLastKey\ ||\ IsLess(pLastKey,\ iKeyVal-\/>first.pItem))\ \{}
\DoxyCodeLine{02336\ \ \ \ \ \ \ \ \ \ \ \ \ a\_names.push\_back(iKeyVal-\/>first);}
\DoxyCodeLine{02337\ \ \ \ \ \ \ \ \ \ \ \ \ pLastKey\ =\ iKeyVal-\/>first.pItem;}
\DoxyCodeLine{02338\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02339\ \ \ \ \ \}}
\DoxyCodeLine{02340\ }
\DoxyCodeLine{02341\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02342\ \}}
\DoxyCodeLine{02343\ }
\DoxyCodeLine{02344\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02345\ SI\_Error}
\DoxyCodeLine{02346\ \mbox{\hyperlink{class_c_simple_ini_templ_af00e754689a94cbe87b387f99f7a5d01}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::SaveFile}}(}
\DoxyCodeLine{02347\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pszFile,}
\DoxyCodeLine{02348\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bAddSignature}
\DoxyCodeLine{02349\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02350\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02351\ \ \ \ \ FILE\ *\ \mbox{\hyperlink{structbasic__fp}{fp}}\ =\ NULL;}
\DoxyCodeLine{02352\ \textcolor{preprocessor}{\#if\ \_\_STDC\_WANT\_SECURE\_LIB\_\_\ \&\&\ !\_WIN32\_WCE}}
\DoxyCodeLine{02353\ \ \ \ \ fopen\_s(\&\mbox{\hyperlink{structbasic__fp}{fp}},\ a\_pszFile,\ \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{02354\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{02355\ \ \ \ \ \mbox{\hyperlink{structbasic__fp}{fp}}\ =\ fopen(a\_pszFile,\ \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{02356\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{02357\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structbasic__fp}{fp}})\ \textcolor{keywordflow}{return}\ SI\_FILE;}
\DoxyCodeLine{02358\ \ \ \ \ SI\_Error\ rc\ =\ SaveFile(\mbox{\hyperlink{structbasic__fp}{fp}},\ a\_bAddSignature);}
\DoxyCodeLine{02359\ \ \ \ \ fclose(\mbox{\hyperlink{structbasic__fp}{fp}});}
\DoxyCodeLine{02360\ \ \ \ \ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{02361\ \}}
\DoxyCodeLine{02362\ }
\DoxyCodeLine{02363\ \textcolor{preprocessor}{\#ifdef\ SI\_HAS\_WIDE\_FILE}}
\DoxyCodeLine{02364\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02365\ SI\_Error}
\DoxyCodeLine{02366\ \mbox{\hyperlink{class_c_simple_ini_templ_af00e754689a94cbe87b387f99f7a5d01}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::SaveFile}}(}
\DoxyCodeLine{02367\ \ \ \ \ \textcolor{keyword}{const}\ SI\_WCHAR\_T\ *\ \ a\_pwszFile,}
\DoxyCodeLine{02368\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_bAddSignature}
\DoxyCodeLine{02369\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02370\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02371\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{02372\ \ \ \ \ FILE\ *\ \mbox{\hyperlink{structbasic__fp}{fp}}\ =\ NULL;}
\DoxyCodeLine{02373\ \textcolor{preprocessor}{\#if\ \_\_STDC\_WANT\_SECURE\_LIB\_\_\ \&\&\ !\_WIN32\_WCE}}
\DoxyCodeLine{02374\ \ \ \ \ \_wfopen\_s(\&\mbox{\hyperlink{structbasic__fp}{fp}},\ a\_pwszFile,\ L\textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{02375\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{02376\ \ \ \ \ \mbox{\hyperlink{structbasic__fp}{fp}}\ =\ \_wfopen(a\_pwszFile,\ L\textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{02377\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_STDC\_WANT\_SECURE\_LIB\_\_}}
\DoxyCodeLine{02378\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structbasic__fp}{fp}})\ \textcolor{keywordflow}{return}\ SI\_FILE;}
\DoxyCodeLine{02379\ \ \ \ \ SI\_Error\ rc\ =\ SaveFile(\mbox{\hyperlink{structbasic__fp}{fp}},\ a\_bAddSignature);}
\DoxyCodeLine{02380\ \ \ \ \ fclose(\mbox{\hyperlink{structbasic__fp}{fp}});}
\DoxyCodeLine{02381\ \ \ \ \ \textcolor{keywordflow}{return}\ rc;}
\DoxyCodeLine{02382\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_WIN32\ (therefore\ SI\_CONVERT\_ICU)}}
\DoxyCodeLine{02383\ \ \ \ \ \textcolor{keywordtype}{char}\ szFile[256];}
\DoxyCodeLine{02384\ \ \ \ \ u\_austrncpy(szFile,\ a\_pwszFile,\ \textcolor{keyword}{sizeof}(szFile));}
\DoxyCodeLine{02385\ \ \ \ \ \textcolor{keywordflow}{return}\ SaveFile(szFile,\ a\_bAddSignature);}
\DoxyCodeLine{02386\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_WIN32}}
\DoxyCodeLine{02387\ \}}
\DoxyCodeLine{02388\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_HAS\_WIDE\_FILE}}
\DoxyCodeLine{02389\ }
\DoxyCodeLine{02390\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02391\ SI\_Error}
\DoxyCodeLine{02392\ \mbox{\hyperlink{class_c_simple_ini_templ_af00e754689a94cbe87b387f99f7a5d01}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::SaveFile}}(}
\DoxyCodeLine{02393\ \ \ \ \ FILE\ *\ \ a\_pFile,}
\DoxyCodeLine{02394\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ a\_bAddSignature}
\DoxyCodeLine{02395\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02396\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02397\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_file_writer}{FileWriter}}\ writer(a\_pFile);}
\DoxyCodeLine{02398\ \ \ \ \ \textcolor{keywordflow}{return}\ Save(writer,\ a\_bAddSignature);}
\DoxyCodeLine{02399\ \}}
\DoxyCodeLine{02400\ }
\DoxyCodeLine{02401\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02402\ SI\_Error}
\DoxyCodeLine{02403\ \mbox{\hyperlink{class_c_simple_ini_templ_a6ec10daab297e92cdffe024ba5e6d999}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::Save}}(}
\DoxyCodeLine{02404\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_output_writer}{OutputWriter}}\ \&\ \ a\_oOutput,}
\DoxyCodeLine{02405\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bAddSignature}
\DoxyCodeLine{02406\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02407\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02408\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_1_1_converter}{Converter}}\ convert(m\_bStoreIsUtf8);}
\DoxyCodeLine{02409\ }
\DoxyCodeLine{02410\ \ \ \ \ \textcolor{comment}{//\ add\ the\ UTF-\/8\ signature\ if\ it\ is\ desired}}
\DoxyCodeLine{02411\ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_bStoreIsUtf8\ \&\&\ a\_bAddSignature)\ \{}
\DoxyCodeLine{02412\ \ \ \ \ \ \ \ \ a\_oOutput.Write(SI\_UTF8\_SIGNATURE);}
\DoxyCodeLine{02413\ \ \ \ \ \}}
\DoxyCodeLine{02414\ }
\DoxyCodeLine{02415\ \ \ \ \ \textcolor{comment}{//\ get\ all\ of\ the\ sections\ sorted\ in\ load\ order}}
\DoxyCodeLine{02416\ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ oSections;}
\DoxyCodeLine{02417\ \ \ \ \ GetAllSections(oSections);}
\DoxyCodeLine{02418\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)\ \&\&\ \_MSC\_VER\ <=\ 1200}}
\DoxyCodeLine{02419\ \ \ \ \ oSections.sort();}
\DoxyCodeLine{02420\ \textcolor{preprocessor}{\#elif\ defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{02421\ \ \ \ \ oSections.sort(\mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry_1_1_load_order}{Entry::LoadOrder}}());}
\DoxyCodeLine{02422\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02423\ \ \ \ \ oSections.sort(\textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry_1_1_load_order}{Entry::LoadOrder}}());}
\DoxyCodeLine{02424\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02425\ }
\DoxyCodeLine{02426\ \ \ \ \ \textcolor{comment}{//\ write\ the\ file\ comment\ if\ we\ have\ one}}
\DoxyCodeLine{02427\ \ \ \ \ \textcolor{keywordtype}{bool}\ bNeedNewLine\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02428\ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_pFileComment)\ \{}
\DoxyCodeLine{02429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!OutputMultiLineText(a\_oOutput,\ convert,\ m\_pFileComment))\ \{}
\DoxyCodeLine{02430\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02431\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02432\ \ \ \ \ \ \ \ \ bNeedNewLine\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02433\ \ \ \ \ \}}
\DoxyCodeLine{02434\ }
\DoxyCodeLine{02435\ \ \ \ \ \textcolor{comment}{//\ iterate\ through\ our\ sections\ and\ output\ the\ data}}
\DoxyCodeLine{02436\ \ \ \ \ \textcolor{keyword}{typename}\ TNamesDepend::const\_iterator\ iSection\ =\ oSections.begin();}
\DoxyCodeLine{02437\ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;\ iSection\ !=\ oSections.end();\ ++iSection\ )\ \{}
\DoxyCodeLine{02438\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ write\ out\ the\ comment\ if\ there\ is\ one}}
\DoxyCodeLine{02439\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (iSection-\/>pComment)\ \{}
\DoxyCodeLine{02440\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bNeedNewLine)\ \{}
\DoxyCodeLine{02441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(SI\_NEWLINE\_A);}
\DoxyCodeLine{02442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(SI\_NEWLINE\_A);}
\DoxyCodeLine{02443\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02444\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!OutputMultiLineText(a\_oOutput,\ convert,\ iSection-\/>pComment))\ \{}
\DoxyCodeLine{02445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02446\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02447\ \ \ \ \ \ \ \ \ \ \ \ \ bNeedNewLine\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02448\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02449\ }
\DoxyCodeLine{02450\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bNeedNewLine)\ \{}
\DoxyCodeLine{02451\ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(SI\_NEWLINE\_A);}
\DoxyCodeLine{02452\ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(SI\_NEWLINE\_A);}
\DoxyCodeLine{02453\ \ \ \ \ \ \ \ \ \ \ \ \ bNeedNewLine\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02454\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02455\ }
\DoxyCodeLine{02456\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ write\ the\ section\ (unless\ there\ is\ no\ section\ name)}}
\DoxyCodeLine{02457\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*iSection-\/>pItem)\ \{}
\DoxyCodeLine{02458\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!convert.ConvertToStore(iSection-\/>pItem))\ \{}
\DoxyCodeLine{02459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02460\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02461\ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(\textcolor{stringliteral}{"{}["{}});}
\DoxyCodeLine{02462\ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(convert.Data());}
\DoxyCodeLine{02463\ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(\textcolor{stringliteral}{"{}]"{}});}
\DoxyCodeLine{02464\ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(SI\_NEWLINE\_A);}
\DoxyCodeLine{02465\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02466\ }
\DoxyCodeLine{02467\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ all\ of\ the\ keys\ sorted\ in\ load\ order}}
\DoxyCodeLine{02468\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ oKeys;}
\DoxyCodeLine{02469\ \ \ \ \ \ \ \ \ GetAllKeys(iSection-\/>pItem,\ oKeys);}
\DoxyCodeLine{02470\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)\ \&\&\ \_MSC\_VER\ <=\ 1200}}
\DoxyCodeLine{02471\ \ \ \ \ \ \ \ \ oKeys.sort();}
\DoxyCodeLine{02472\ \textcolor{preprocessor}{\#elif\ defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{02473\ \ \ \ \ \ \ \ \ oKeys.sort(\mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry_1_1_load_order}{Entry::LoadOrder}}());}
\DoxyCodeLine{02474\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02475\ \ \ \ \ \ \ \ \ oKeys.sort(\textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_c_simple_ini_templ_1_1_entry_1_1_load_order}{Entry::LoadOrder}}());}
\DoxyCodeLine{02476\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02477\ }
\DoxyCodeLine{02478\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ write\ all\ keys\ and\ values}}
\DoxyCodeLine{02479\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TNamesDepend::const\_iterator\ iKey\ =\ oKeys.begin();}
\DoxyCodeLine{02480\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;\ iKey\ !=\ oKeys.end();\ ++iKey)\ \{}
\DoxyCodeLine{02481\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ all\ values\ for\ this\ key}}
\DoxyCodeLine{02482\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ_a391b3f3751e06cd9e9de4fb16ac14342}{TNamesDepend}}\ oValues;}
\DoxyCodeLine{02483\ \ \ \ \ \ \ \ \ \ \ \ \ GetAllValues(iSection-\/>pItem,\ iKey-\/>pItem,\ oValues);}
\DoxyCodeLine{02484\ }
\DoxyCodeLine{02485\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TNamesDepend::const\_iterator\ iValue\ =\ oValues.begin();}
\DoxyCodeLine{02486\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;\ iValue\ !=\ oValues.end();\ ++iValue)\ \{}
\DoxyCodeLine{02487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ write\ out\ the\ comment\ if\ there\ is\ one}}
\DoxyCodeLine{02488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (iValue-\/>pComment)\ \{}
\DoxyCodeLine{02489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(SI\_NEWLINE\_A);}
\DoxyCodeLine{02490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!OutputMultiLineText(a\_oOutput,\ convert,\ iValue-\/>pComment))\ \{}
\DoxyCodeLine{02491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02494\ }
\DoxyCodeLine{02495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ write\ the\ key}}
\DoxyCodeLine{02496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!convert.ConvertToStore(iKey-\/>pItem))\ \{}
\DoxyCodeLine{02497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(convert.Data());}
\DoxyCodeLine{02500\ }
\DoxyCodeLine{02501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ write\ the\ value}}
\DoxyCodeLine{02502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!convert.ConvertToStore(iValue-\/>pItem))\ \{}
\DoxyCodeLine{02503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(m\_bSpaces\ ?\ \textcolor{stringliteral}{"{}\ =\ "{}}\ :\ \textcolor{stringliteral}{"{}="{}});}
\DoxyCodeLine{02506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_bAllowMultiLine\ \&\&\ IsMultiLineData(iValue-\/>pItem))\ \{}
\DoxyCodeLine{02507\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ multi-\/line\ data\ needs\ to\ be\ processed\ specially\ to\ ensure}}
\DoxyCodeLine{02508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ that\ we\ use\ the\ correct\ newline\ format\ for\ the\ current\ system}}
\DoxyCodeLine{02509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(\textcolor{stringliteral}{"{}<<<END\_OF\_TEXT"{}}\ SI\_NEWLINE\_A);}
\DoxyCodeLine{02510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!OutputMultiLineText(a\_oOutput,\ convert,\ iValue-\/>pItem))\ \{}
\DoxyCodeLine{02511\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_FAIL;}
\DoxyCodeLine{02512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02513\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(\textcolor{stringliteral}{"{}END\_OF\_TEXT"{}});}
\DoxyCodeLine{02514\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(convert.Data());}
\DoxyCodeLine{02517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_oOutput.Write(SI\_NEWLINE\_A);}
\DoxyCodeLine{02519\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02520\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02521\ }
\DoxyCodeLine{02522\ \ \ \ \ \ \ \ \ bNeedNewLine\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02523\ \ \ \ \ \}}
\DoxyCodeLine{02524\ }
\DoxyCodeLine{02525\ \ \ \ \ \textcolor{keywordflow}{return}\ SI\_OK;}
\DoxyCodeLine{02526\ \}}
\DoxyCodeLine{02527\ }
\DoxyCodeLine{02528\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02529\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{02530\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::OutputMultiLineText}}(}
\DoxyCodeLine{02531\ \ \ \ \ OutputWriter\ \&\ \ a\_oOutput,}
\DoxyCodeLine{02532\ \ \ \ \ Converter\ \&\ \ \ \ \ a\_oConverter,}
\DoxyCodeLine{02533\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pText}
\DoxyCodeLine{02534\ \ \ \ \ )\textcolor{keyword}{\ const}}
\DoxyCodeLine{02535\ \textcolor{keyword}{}\{}
\DoxyCodeLine{02536\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pEndOfLine;}
\DoxyCodeLine{02537\ \ \ \ \ SI\_CHAR\ cEndOfLineChar\ =\ *a\_pText;}
\DoxyCodeLine{02538\ \ \ \ \ \textcolor{keywordflow}{while}\ (cEndOfLineChar)\ \{}
\DoxyCodeLine{02539\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ the\ end\ of\ this\ line}}
\DoxyCodeLine{02540\ \ \ \ \ \ \ \ \ pEndOfLine\ =\ a\_pText;}
\DoxyCodeLine{02541\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ *pEndOfLine\ \&\&\ *pEndOfLine\ !=\ \textcolor{charliteral}{'\(\backslash\)n'};\ ++pEndOfLine)\ \textcolor{comment}{/*loop*/}\ ;}
\DoxyCodeLine{02542\ \ \ \ \ \ \ \ \ cEndOfLineChar\ =\ *pEndOfLine;}
\DoxyCodeLine{02543\ }
\DoxyCodeLine{02544\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ temporarily\ null\ terminate,\ convert\ and\ output\ the\ line}}
\DoxyCodeLine{02545\ \ \ \ \ \ \ \ \ *\textcolor{keyword}{const\_cast<}SI\_CHAR*\textcolor{keyword}{>}(pEndOfLine)\ =\ 0;}
\DoxyCodeLine{02546\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_oConverter.ConvertToStore(a\_pText))\ \{}
\DoxyCodeLine{02547\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02548\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02549\ \ \ \ \ \ \ \ \ *\textcolor{keyword}{const\_cast<}SI\_CHAR*\textcolor{keyword}{>}(pEndOfLine)\ =\ cEndOfLineChar;}
\DoxyCodeLine{02550\ \ \ \ \ \ \ \ \ a\_pText\ +=\ (pEndOfLine\ -\/\ a\_pText)\ +\ 1;}
\DoxyCodeLine{02551\ \ \ \ \ \ \ \ \ a\_oOutput.Write(a\_oConverter.Data());}
\DoxyCodeLine{02552\ \ \ \ \ \ \ \ \ a\_oOutput.Write(SI\_NEWLINE\_A);}
\DoxyCodeLine{02553\ \ \ \ \ \}}
\DoxyCodeLine{02554\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02555\ \}}
\DoxyCodeLine{02556\ }
\DoxyCodeLine{02557\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02558\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{02559\ \mbox{\hyperlink{class_c_simple_ini_templ_aa5c1cdd0b306434d9e9f1422888049da}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::Delete}}(}
\DoxyCodeLine{02560\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02561\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{02562\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bRemoveEmpty}
\DoxyCodeLine{02563\ \ \ \ \ )}
\DoxyCodeLine{02564\ \{}
\DoxyCodeLine{02565\ \ \ \ \ \textcolor{keywordflow}{return}\ DeleteValue(a\_pSection,\ a\_pKey,\ NULL,\ a\_bRemoveEmpty);}
\DoxyCodeLine{02566\ \}}
\DoxyCodeLine{02567\ }
\DoxyCodeLine{02568\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02569\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{02570\ \mbox{\hyperlink{class_c_simple_ini_templ_a04551ae6c3e92475b2a823d2729652d6}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::DeleteValue}}(}
\DoxyCodeLine{02571\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pSection,}
\DoxyCodeLine{02572\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pKey,}
\DoxyCodeLine{02573\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pValue,}
\DoxyCodeLine{02574\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ a\_bRemoveEmpty}
\DoxyCodeLine{02575\ \ \ \ \ )}
\DoxyCodeLine{02576\ \{}
\DoxyCodeLine{02577\ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_pSection)\ \{}
\DoxyCodeLine{02578\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02579\ \ \ \ \ \}}
\DoxyCodeLine{02580\ }
\DoxyCodeLine{02581\ \ \ \ \ \textcolor{keyword}{typename}\ TSection::iterator\ iSection\ =\ m\_data.find(a\_pSection);}
\DoxyCodeLine{02582\ \ \ \ \ \textcolor{keywordflow}{if}\ (iSection\ ==\ m\_data.end())\ \{}
\DoxyCodeLine{02583\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02584\ \ \ \ \ \}}
\DoxyCodeLine{02585\ }
\DoxyCodeLine{02586\ \ \ \ \ \textcolor{comment}{//\ remove\ a\ single\ key\ if\ we\ have\ a\ keyname}}
\DoxyCodeLine{02587\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pKey)\ \{}
\DoxyCodeLine{02588\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::iterator\ iKeyVal\ =\ iSection-\/>second.find(a\_pKey);}
\DoxyCodeLine{02589\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (iKeyVal\ ==\ iSection-\/>second.end())\ \{}
\DoxyCodeLine{02590\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02591\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02592\ }
\DoxyCodeLine{02593\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{static}\ SI\_STRLESS\ isLess\ =\ SI\_STRLESS();}
\DoxyCodeLine{02594\ }
\DoxyCodeLine{02595\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ remove\ any\ copied\ strings\ and\ then\ the\ key}}
\DoxyCodeLine{02596\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::iterator\ iDelete;}
\DoxyCodeLine{02597\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ bDeleted\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02598\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{02599\ \ \ \ \ \ \ \ \ \ \ \ \ iDelete\ =\ iKeyVal++;}
\DoxyCodeLine{02600\ }
\DoxyCodeLine{02601\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(a\_pValue\ ==\ NULL\ ||}
\DoxyCodeLine{02602\ \ \ \ \ \ \ \ \ \ \ \ \ (isLess(a\_pValue,\ iDelete-\/>second)\ ==\ \textcolor{keyword}{false}\ \&\&}
\DoxyCodeLine{02603\ \ \ \ \ \ \ \ \ \ \ \ \ isLess(iDelete-\/>second,\ a\_pValue)\ ==\ \textcolor{keyword}{false}))\ \{}
\DoxyCodeLine{02604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DeleteString(iDelete-\/>first.pItem);}
\DoxyCodeLine{02605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DeleteString(iDelete-\/>second);}
\DoxyCodeLine{02606\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ iSection-\/>second.erase(iDelete);}
\DoxyCodeLine{02607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bDeleted\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02608\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02609\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02610\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (iKeyVal\ !=\ iSection-\/>second.end()}
\DoxyCodeLine{02611\ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ !IsLess(a\_pKey,\ iKeyVal-\/>first.pItem));}
\DoxyCodeLine{02612\ }
\DoxyCodeLine{02613\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!bDeleted)\ \{}
\DoxyCodeLine{02614\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02615\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02616\ }
\DoxyCodeLine{02617\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ done\ now\ if\ the\ section\ is\ not\ empty\ or\ we\ are\ not\ pruning\ away}}
\DoxyCodeLine{02618\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ empty\ sections.\ Otherwise\ let\ it\ fall\ through\ into\ the\ section}}
\DoxyCodeLine{02619\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ deletion\ code}}
\DoxyCodeLine{02620\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!a\_bRemoveEmpty\ ||\ !iSection-\/>second.empty())\ \{}
\DoxyCodeLine{02621\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02622\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02623\ \ \ \ \ \}}
\DoxyCodeLine{02624\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02625\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ delete\ all\ copied\ strings\ from\ this\ section.\ The\ actual}}
\DoxyCodeLine{02626\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ entries\ will\ be\ removed\ when\ the\ section\ is\ removed.}}
\DoxyCodeLine{02627\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TKeyVal::iterator\ iKeyVal\ =\ iSection-\/>second.begin();}
\DoxyCodeLine{02628\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;\ iKeyVal\ !=\ iSection-\/>second.end();\ ++iKeyVal)\ \{}
\DoxyCodeLine{02629\ \ \ \ \ \ \ \ \ \ \ \ \ DeleteString(iKeyVal-\/>first.pItem);}
\DoxyCodeLine{02630\ \ \ \ \ \ \ \ \ \ \ \ \ DeleteString(iKeyVal-\/>second);}
\DoxyCodeLine{02631\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02632\ \ \ \ \ \}}
\DoxyCodeLine{02633\ }
\DoxyCodeLine{02634\ \ \ \ \ \textcolor{comment}{//\ delete\ the\ section\ itself}}
\DoxyCodeLine{02635\ \ \ \ \ DeleteString(iSection-\/>first.pItem);}
\DoxyCodeLine{02636\ \ \ \ \ m\_data.erase(iSection);}
\DoxyCodeLine{02637\ }
\DoxyCodeLine{02638\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02639\ \}}
\DoxyCodeLine{02640\ }
\DoxyCodeLine{02641\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR,\ \textcolor{keyword}{class}\ SI\_STRLESS,\ \textcolor{keyword}{class}\ SI\_CONVERTER>}
\DoxyCodeLine{02642\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{02643\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl<SI\_CHAR,SI\_STRLESS,SI\_CONVERTER>::DeleteString}}(}
\DoxyCodeLine{02644\ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pString}
\DoxyCodeLine{02645\ \ \ \ \ )}
\DoxyCodeLine{02646\ \{}
\DoxyCodeLine{02647\ \ \ \ \ \textcolor{comment}{//\ strings\ may\ exist\ either\ inside\ the\ data\ block,\ or\ they\ will\ be}}
\DoxyCodeLine{02648\ \ \ \ \ \textcolor{comment}{//\ individually\ allocated\ and\ stored\ in\ m\_strings.\ We\ only\ physically}}
\DoxyCodeLine{02649\ \ \ \ \ \textcolor{comment}{//\ delete\ those\ stored\ in\ m\_strings.}}
\DoxyCodeLine{02650\ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pString\ <\ m\_pData\ ||\ a\_pString\ >=\ m\_pData\ +\ m\_uDataLen)\ \{}
\DoxyCodeLine{02651\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ TNamesDepend::iterator\ i\ =\ m\_strings.begin();}
\DoxyCodeLine{02652\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;i\ !=\ m\_strings.end();\ ++i)\ \{}
\DoxyCodeLine{02653\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_pString\ ==\ i-\/>pItem)\ \{}
\DoxyCodeLine{02654\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ \textcolor{keyword}{const\_cast<}SI\_CHAR*\textcolor{keyword}{>}(i-\/>pItem);}
\DoxyCodeLine{02655\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_strings.erase(i);}
\DoxyCodeLine{02656\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02657\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02658\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02659\ \ \ \ \ \}}
\DoxyCodeLine{02660\ \}}
\DoxyCodeLine{02661\ }
\DoxyCodeLine{02662\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{02663\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CONVERSION\ FUNCTIONS}}
\DoxyCodeLine{02664\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{02665\ }
\DoxyCodeLine{02666\ \textcolor{comment}{//\ Defines\ the\ conversion\ classes\ for\ different\ libraries.\ Before\ including}}
\DoxyCodeLine{02667\ \textcolor{comment}{//\ SimpleIni.h,\ set\ the\ converter\ that\ you\ wish\ you\ use\ by\ defining\ one\ of\ the}}
\DoxyCodeLine{02668\ \textcolor{comment}{//\ following\ symbols.}}
\DoxyCodeLine{02669\ \textcolor{comment}{//}}
\DoxyCodeLine{02670\ \textcolor{comment}{//\ \ SI\_CONVERT\_GENERIC\ \ \ \ \ \ Use\ the\ Unicode\ reference\ conversion\ library\ in}}
\DoxyCodeLine{02671\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ the\ accompanying\ files\ ConvertUTF.h/c}}
\DoxyCodeLine{02672\ \textcolor{comment}{//\ \ SI\_CONVERT\_ICU\ \ \ \ \ \ \ \ \ \ Use\ the\ IBM\ ICU\ conversion\ library.\ Requires}}
\DoxyCodeLine{02673\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ICU\ headers\ on\ include\ path\ and\ icuuc.lib}}
\DoxyCodeLine{02674\ \textcolor{comment}{//\ \ SI\_CONVERT\_WIN32\ \ \ \ \ \ \ \ Use\ the\ Win32\ API\ functions\ for\ conversion.}}
\DoxyCodeLine{02675\ }
\DoxyCodeLine{02676\ \textcolor{preprocessor}{\#if\ !defined(SI\_CONVERT\_GENERIC)\ \&\&\ !defined(SI\_CONVERT\_WIN32)\ \&\&\ !defined(SI\_CONVERT\_ICU)}}
\DoxyCodeLine{02677\ \textcolor{preprocessor}{\#\ ifdef\ \_WIN32}}
\DoxyCodeLine{02678\ \textcolor{preprocessor}{\#\ \ define\ SI\_CONVERT\_WIN32}}
\DoxyCodeLine{02679\ \textcolor{preprocessor}{\#\ else}}
\DoxyCodeLine{02680\ \textcolor{preprocessor}{\#\ \ define\ SI\_CONVERT\_GENERIC}}
\DoxyCodeLine{02681\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{02682\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02683\ }
\DoxyCodeLine{02689\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR>}
\DoxyCodeLine{02690\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_s_i___generic_case}{SI\_GenericCase}}\ \{}
\DoxyCodeLine{02691\ \ \ \ \ \textcolor{keywordtype}{bool}\ operator()(\textcolor{keyword}{const}\ SI\_CHAR\ *\ pLeft,\ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pRight)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02692\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ cmp;}
\DoxyCodeLine{02693\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;*pLeft\ \&\&\ *pRight;\ ++pLeft,\ ++pRight)\ \{}
\DoxyCodeLine{02694\ \ \ \ \ \ \ \ \ \ \ \ \ cmp\ =\ (long)\ *pLeft\ -\/\ (\textcolor{keywordtype}{long})\ *pRight;}
\DoxyCodeLine{02695\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cmp\ !=\ 0)\ \{}
\DoxyCodeLine{02696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cmp\ <\ 0;}
\DoxyCodeLine{02697\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02698\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02699\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *pRight\ !=\ 0;}
\DoxyCodeLine{02700\ \ \ \ \ \}}
\DoxyCodeLine{02701\ \};}
\DoxyCodeLine{02702\ }
\DoxyCodeLine{02709\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR>}
\DoxyCodeLine{02710\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_s_i___generic_no_case}{SI\_GenericNoCase}}\ \{}
\DoxyCodeLine{02711\ \ \ \ \ \textcolor{keyword}{inline}\ SI\_CHAR\ locase(SI\_CHAR\ ch)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02712\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (ch\ <\ \textcolor{charliteral}{'A'}\ ||\ ch\ >\ \textcolor{charliteral}{'Z'})\ ?\ ch\ :\ (ch\ -\/\ \textcolor{charliteral}{'A'}\ +\ \textcolor{charliteral}{'a'});}
\DoxyCodeLine{02713\ \ \ \ \ \}}
\DoxyCodeLine{02714\ \ \ \ \ \textcolor{keywordtype}{bool}\ operator()(\textcolor{keyword}{const}\ SI\_CHAR\ *\ pLeft,\ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pRight)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02715\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ cmp;}
\DoxyCodeLine{02716\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ ;*pLeft\ \&\&\ *pRight;\ ++pLeft,\ ++pRight)\ \{}
\DoxyCodeLine{02717\ \ \ \ \ \ \ \ \ \ \ \ \ cmp\ =\ (long)\ locase(*pLeft)\ -\/\ (long)\ locase(*pRight);}
\DoxyCodeLine{02718\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cmp\ !=\ 0)\ \{}
\DoxyCodeLine{02719\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cmp\ <\ 0;}
\DoxyCodeLine{02720\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02721\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02722\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *pRight\ !=\ 0;}
\DoxyCodeLine{02723\ \ \ \ \ \}}
\DoxyCodeLine{02724\ \};}
\DoxyCodeLine{02725\ }
\DoxyCodeLine{02729\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR>}
\DoxyCodeLine{02730\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_s_i___convert_a}{SI\_ConvertA}}\ \{}
\DoxyCodeLine{02731\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_bStoreIsUtf8;}
\DoxyCodeLine{02732\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{02733\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_a}{SI\_ConvertA}}()\ \{\ \}}
\DoxyCodeLine{02734\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02735\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_a}{SI\_ConvertA}}(\textcolor{keywordtype}{bool}\ a\_bStoreIsUtf8)\ :\ m\_bStoreIsUtf8(a\_bStoreIsUtf8)\ \{\ \}}
\DoxyCodeLine{02736\ }
\DoxyCodeLine{02737\ \ \ \ \ \textcolor{comment}{/*\ copy\ and\ assignment\ */}}
\DoxyCodeLine{02738\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_a}{SI\_ConvertA}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_i___convert_a}{SI\_ConvertA}}\ \&\ rhs)\ \{\ operator=(rhs);\ \}}
\DoxyCodeLine{02739\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_a}{SI\_ConvertA}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_i___convert_a}{SI\_ConvertA}}\ \&\ rhs)\ \{}
\DoxyCodeLine{02740\ \ \ \ \ \ \ \ \ m\_bStoreIsUtf8\ =\ rhs.m\_bStoreIsUtf8;}
\DoxyCodeLine{02741\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02742\ \ \ \ \ \}}
\DoxyCodeLine{02743\ }
\DoxyCodeLine{02757\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_i___convert_a_a30ce0eee2556184d41130311d3c8cc84}{SizeFromStore}}(}
\DoxyCodeLine{02758\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pInputData,}
\DoxyCodeLine{02759\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uInputDataLen)}
\DoxyCodeLine{02760\ \ \ \ \ \{}
\DoxyCodeLine{02761\ \ \ \ \ \ \ \ \ (void)a\_pInputData;}
\DoxyCodeLine{02762\ \ \ \ \ \ \ \ \ SI\_ASSERT(a\_uInputDataLen\ !=\ (\textcolor{keywordtype}{size\_t})\ -\/1);}
\DoxyCodeLine{02763\ }
\DoxyCodeLine{02764\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ASCII/MBCS/UTF-\/8\ needs\ no\ conversion}}
\DoxyCodeLine{02765\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_uInputDataLen;}
\DoxyCodeLine{02766\ \ \ \ \ \}}
\DoxyCodeLine{02767\ }
\DoxyCodeLine{02781\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_i___convert_a_a5176a6dc2dc6482280e9a08dd3607f9e}{ConvertFromStore}}(}
\DoxyCodeLine{02782\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pInputData,}
\DoxyCodeLine{02783\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uInputDataLen,}
\DoxyCodeLine{02784\ \ \ \ \ \ \ \ \ SI\_CHAR\ *\ \ \ \ \ \ \ a\_pOutputData,}
\DoxyCodeLine{02785\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uOutputDataSize)}
\DoxyCodeLine{02786\ \ \ \ \ \{}
\DoxyCodeLine{02787\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ASCII/MBCS/UTF-\/8\ needs\ no\ conversion}}
\DoxyCodeLine{02788\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a\_uInputDataLen\ >\ a\_uOutputDataSize)\ \{}
\DoxyCodeLine{02789\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02790\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02791\ \ \ \ \ \ \ \ \ memcpy(a\_pOutputData,\ a\_pInputData,\ a\_uInputDataLen);}
\DoxyCodeLine{02792\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02793\ \ \ \ \ \}}
\DoxyCodeLine{02794\ }
\DoxyCodeLine{02805\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_i___convert_a_a39e7a8c49712c295b24ff2ae788c01c5}{SizeToStore}}(}
\DoxyCodeLine{02806\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pInputData)}
\DoxyCodeLine{02807\ \ \ \ \ \{}
\DoxyCodeLine{02808\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ASCII/MBCS/UTF-\/8\ needs\ no\ conversion}}
\DoxyCodeLine{02809\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ strlen((\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *)a\_pInputData)\ +\ 1;}
\DoxyCodeLine{02810\ \ \ \ \ \}}
\DoxyCodeLine{02811\ }
\DoxyCodeLine{02825\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_i___convert_a_a188fd6d6fcba6ba8d769e70e5fbea742}{ConvertToStore}}(}
\DoxyCodeLine{02826\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pInputData,}
\DoxyCodeLine{02827\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *\ \ \ \ \ \ \ \ \ \ a\_pOutputData,}
\DoxyCodeLine{02828\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uOutputDataSize)}
\DoxyCodeLine{02829\ \ \ \ \ \{}
\DoxyCodeLine{02830\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ calc\ input\ string\ length\ (SI\_CHAR\ type\ and\ size\ independent)}}
\DoxyCodeLine{02831\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ uInputLen\ =\ strlen((\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *)a\_pInputData)\ +\ 1;}
\DoxyCodeLine{02832\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (uInputLen\ >\ a\_uOutputDataSize)\ \{}
\DoxyCodeLine{02833\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02834\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02835\ }
\DoxyCodeLine{02836\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ascii/UTF-\/8\ needs\ no\ conversion}}
\DoxyCodeLine{02837\ \ \ \ \ \ \ \ \ memcpy(a\_pOutputData,\ a\_pInputData,\ uInputLen);}
\DoxyCodeLine{02838\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02839\ \ \ \ \ \}}
\DoxyCodeLine{02840\ \};}
\DoxyCodeLine{02841\ }
\DoxyCodeLine{02842\ }
\DoxyCodeLine{02843\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{02844\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SI\_CONVERT\_GENERIC}}
\DoxyCodeLine{02845\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{02846\ \textcolor{preprocessor}{\#ifdef\ SI\_CONVERT\_GENERIC}}
\DoxyCodeLine{02847\ }
\DoxyCodeLine{02848\ \textcolor{preprocessor}{\#define\ SI\_Case\ \ \ \ \ SI\_GenericCase}}
\DoxyCodeLine{02849\ \textcolor{preprocessor}{\#define\ SI\_NoCase\ \ \ SI\_GenericNoCase}}
\DoxyCodeLine{02850\ }
\DoxyCodeLine{02851\ \textcolor{preprocessor}{\#include\ <wchar.h>}}
\DoxyCodeLine{02852\ \textcolor{preprocessor}{\#include\ "{}ConvertUTF.h"{}}}
\DoxyCodeLine{02853\ }
\DoxyCodeLine{02858\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR>}
\DoxyCodeLine{02859\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \{}
\DoxyCodeLine{02860\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_bStoreIsUtf8;}
\DoxyCodeLine{02861\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{02862\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}()\ \{\ \}}
\DoxyCodeLine{02863\ \textcolor{keyword}{public}:}
\DoxyCodeLine{02864\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}(\textcolor{keywordtype}{bool}\ a\_bStoreIsUtf8)\ :\ m\_bStoreIsUtf8(a\_bStoreIsUtf8)\ \{\ \}}
\DoxyCodeLine{02865\ }
\DoxyCodeLine{02866\ \ \ \ \ \textcolor{comment}{/*\ copy\ and\ assignment\ */}}
\DoxyCodeLine{02867\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \&\ rhs)\ \{\ operator=(rhs);\ \}}
\DoxyCodeLine{02868\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \&\ rhs)\ \{}
\DoxyCodeLine{02869\ \ \ \ \ \ \ \ \ m\_bStoreIsUtf8\ =\ rhs.m\_bStoreIsUtf8;}
\DoxyCodeLine{02870\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02871\ \ \ \ \ \}}
\DoxyCodeLine{02872\ }
\DoxyCodeLine{02886\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_i___convert_w_aeb7cb9953fd07917c9a049c441add51e}{SizeFromStore}}(}
\DoxyCodeLine{02887\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pInputData,}
\DoxyCodeLine{02888\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uInputDataLen)}
\DoxyCodeLine{02889\ \ \ \ \ \{}
\DoxyCodeLine{02890\ \ \ \ \ \ \ \ \ SI\_ASSERT(a\_uInputDataLen\ !=\ (\textcolor{keywordtype}{size\_t})\ -\/1);}
\DoxyCodeLine{02891\ }
\DoxyCodeLine{02892\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_bStoreIsUtf8)\ \{}
\DoxyCodeLine{02893\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ worst\ case\ scenario\ for\ UTF-\/8\ to\ wchar\_t\ is\ 1\ char\ -\/>\ 1\ wchar\_t}}
\DoxyCodeLine{02894\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ so\ we\ just\ return\ the\ same\ number\ of\ characters\ required\ as\ for}}
\DoxyCodeLine{02895\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ source\ text.}}
\DoxyCodeLine{02896\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_uInputDataLen;}
\DoxyCodeLine{02897\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02898\ }
\DoxyCodeLine{02899\ \textcolor{preprocessor}{\#if\ defined(SI\_NO\_MBSTOWCS\_NULL)\ ||\ (!defined(\_MSC\_VER)\ \&\&\ !defined(\_linux))}}
\DoxyCodeLine{02900\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ fall\ back\ processing\ for\ platforms\ that\ don't\ support\ a\ NULL\ dest\ to\ mbstowcs}}
\DoxyCodeLine{02901\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ worst\ case\ scenario\ is\ 1:1,\ this\ will\ be\ a\ sufficient\ buffer\ size}}
\DoxyCodeLine{02902\ \ \ \ \ \ \ \ \ (void)a\_pInputData;}
\DoxyCodeLine{02903\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ a\_uInputDataLen;}
\DoxyCodeLine{02904\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02905\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ the\ actual\ required\ buffer\ size}}
\DoxyCodeLine{02906\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mbstowcs(NULL,\ a\_pInputData,\ a\_uInputDataLen);}
\DoxyCodeLine{02907\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02908\ \ \ \ \ \}}
\DoxyCodeLine{02909\ }
\DoxyCodeLine{02923\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_i___convert_w_a132a9317a6f69780fa6b818d3fcf59e9}{ConvertFromStore}}(}
\DoxyCodeLine{02924\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pInputData,}
\DoxyCodeLine{02925\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uInputDataLen,}
\DoxyCodeLine{02926\ \ \ \ \ \ \ \ \ SI\_CHAR\ *\ \ \ \ \ \ \ a\_pOutputData,}
\DoxyCodeLine{02927\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uOutputDataSize)}
\DoxyCodeLine{02928\ \ \ \ \ \{}
\DoxyCodeLine{02929\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_bStoreIsUtf8)\ \{}
\DoxyCodeLine{02930\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ uses\ the\ Unicode\ reference\ implementation\ to\ do\ the}}
\DoxyCodeLine{02931\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ conversion\ from\ UTF-\/8\ to\ wchar\_t.\ The\ required\ files\ are}}
\DoxyCodeLine{02932\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ConvertUTF.h\ and\ ConvertUTF.c\ which\ should\ be\ included\ in}}
\DoxyCodeLine{02933\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ distribution\ but\ are\ publically\ available\ from\ unicode.org}}
\DoxyCodeLine{02934\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ at\ http://www.unicode.org/Public/PROGRAMS/CVTUTF/}}
\DoxyCodeLine{02935\ \ \ \ \ \ \ \ \ \ \ \ \ ConversionResult\ retval;}
\DoxyCodeLine{02936\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ UTF8\ *\ pUtf8\ =\ (\textcolor{keyword}{const}\ UTF8\ *)\ a\_pInputData;}
\DoxyCodeLine{02937\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{wchar\_t})\ ==\ \textcolor{keyword}{sizeof}(UTF32))\ \{}
\DoxyCodeLine{02938\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ UTF32\ *\ pUtf32\ =\ (UTF32\ *)\ a\_pOutputData;}
\DoxyCodeLine{02939\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retval\ =\ ConvertUTF8toUTF32(}
\DoxyCodeLine{02940\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&pUtf8,\ pUtf8\ +\ a\_uInputDataLen,}
\DoxyCodeLine{02941\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&pUtf32,\ pUtf32\ +\ a\_uOutputDataSize,}
\DoxyCodeLine{02942\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lenientConversion);}
\DoxyCodeLine{02943\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02944\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{wchar\_t})\ ==\ \textcolor{keyword}{sizeof}(UTF16))\ \{}
\DoxyCodeLine{02945\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ UTF16\ *\ pUtf16\ =\ (UTF16\ *)\ a\_pOutputData;}
\DoxyCodeLine{02946\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retval\ =\ ConvertUTF8toUTF16(}
\DoxyCodeLine{02947\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&pUtf8,\ pUtf8\ +\ a\_uInputDataLen,}
\DoxyCodeLine{02948\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&pUtf16,\ pUtf16\ +\ a\_uOutputDataSize,}
\DoxyCodeLine{02949\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lenientConversion);}
\DoxyCodeLine{02950\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02951\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval\ ==\ conversionOK;}
\DoxyCodeLine{02952\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02953\ }
\DoxyCodeLine{02954\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ convert\ to\ wchar\_t}}
\DoxyCodeLine{02955\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ retval\ =\ mbstowcs(a\_pOutputData,}
\DoxyCodeLine{02956\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pInputData,\ a\_uOutputDataSize);}
\DoxyCodeLine{02957\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval\ !=\ (size\_t)(-\/1);}
\DoxyCodeLine{02958\ \ \ \ \ \}}
\DoxyCodeLine{02959\ }
\DoxyCodeLine{02970\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_i___convert_w_a7619dba0ecb1b6ec28b4d16a89ed89c0}{SizeToStore}}(}
\DoxyCodeLine{02971\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pInputData)}
\DoxyCodeLine{02972\ \ \ \ \ \{}
\DoxyCodeLine{02973\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_bStoreIsUtf8)\ \{}
\DoxyCodeLine{02974\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ worst\ case\ scenario\ for\ wchar\_t\ to\ UTF-\/8\ is\ 1\ wchar\_t\ -\/>\ 6\ char}}
\DoxyCodeLine{02975\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ uLen\ =\ 0;}
\DoxyCodeLine{02976\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (a\_pInputData[uLen])\ \{}
\DoxyCodeLine{02977\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++uLen;}
\DoxyCodeLine{02978\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02979\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (6\ *\ uLen)\ +\ 1;}
\DoxyCodeLine{02980\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02981\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02982\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ uLen\ =\ wcstombs(NULL,\ a\_pInputData,\ 0);}
\DoxyCodeLine{02983\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (uLen\ ==\ (\textcolor{keywordtype}{size\_t})(-\/1))\ \{}
\DoxyCodeLine{02984\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ uLen;}
\DoxyCodeLine{02985\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02986\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ uLen\ +\ 1;\ \textcolor{comment}{//\ include\ NULL\ terminator}}
\DoxyCodeLine{02987\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02988\ \ \ \ \ \}}
\DoxyCodeLine{02989\ }
\DoxyCodeLine{03003\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_i___convert_w_ab30993d03cdc7b5d5635b95add8b7133}{ConvertToStore}}(}
\DoxyCodeLine{03004\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pInputData,}
\DoxyCodeLine{03005\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *\ \ \ \ \ \ \ \ \ \ a\_pOutputData,}
\DoxyCodeLine{03006\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uOutputDataSize}
\DoxyCodeLine{03007\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{03008\ \ \ \ \ \{}
\DoxyCodeLine{03009\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_bStoreIsUtf8)\ \{}
\DoxyCodeLine{03010\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ calc\ input\ string\ length\ (SI\_CHAR\ type\ and\ size\ independent)}}
\DoxyCodeLine{03011\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ uInputLen\ =\ 0;}
\DoxyCodeLine{03012\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (a\_pInputData[uInputLen])\ \{}
\DoxyCodeLine{03013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++uInputLen;}
\DoxyCodeLine{03014\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03015\ \ \ \ \ \ \ \ \ \ \ \ \ ++uInputLen;\ \textcolor{comment}{//\ include\ the\ NULL\ char}}
\DoxyCodeLine{03016\ }
\DoxyCodeLine{03017\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ uses\ the\ Unicode\ reference\ implementation\ to\ do\ the}}
\DoxyCodeLine{03018\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ conversion\ from\ wchar\_t\ to\ UTF-\/8.\ The\ required\ files\ are}}
\DoxyCodeLine{03019\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ConvertUTF.h\ and\ ConvertUTF.c\ which\ should\ be\ included\ in}}
\DoxyCodeLine{03020\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ distribution\ but\ are\ publically\ available\ from\ unicode.org}}
\DoxyCodeLine{03021\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ at\ http://www.unicode.org/Public/PROGRAMS/CVTUTF/}}
\DoxyCodeLine{03022\ \ \ \ \ \ \ \ \ \ \ \ \ ConversionResult\ retval;}
\DoxyCodeLine{03023\ \ \ \ \ \ \ \ \ \ \ \ \ UTF8\ *\ pUtf8\ =\ (UTF8\ *)\ a\_pOutputData;}
\DoxyCodeLine{03024\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{wchar\_t})\ ==\ \textcolor{keyword}{sizeof}(UTF32))\ \{}
\DoxyCodeLine{03025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ UTF32\ *\ pUtf32\ =\ (\textcolor{keyword}{const}\ UTF32\ *)\ a\_pInputData;}
\DoxyCodeLine{03026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retval\ =\ ConvertUTF32toUTF8(}
\DoxyCodeLine{03027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&pUtf32,\ pUtf32\ +\ uInputLen,}
\DoxyCodeLine{03028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&pUtf8,\ pUtf8\ +\ a\_uOutputDataSize,}
\DoxyCodeLine{03029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lenientConversion);}
\DoxyCodeLine{03030\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03031\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{wchar\_t})\ ==\ \textcolor{keyword}{sizeof}(UTF16))\ \{}
\DoxyCodeLine{03032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ UTF16\ *\ pUtf16\ =\ (\textcolor{keyword}{const}\ UTF16\ *)\ a\_pInputData;}
\DoxyCodeLine{03033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retval\ =\ ConvertUTF16toUTF8(}
\DoxyCodeLine{03034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&pUtf16,\ pUtf16\ +\ uInputLen,}
\DoxyCodeLine{03035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&pUtf8,\ pUtf8\ +\ a\_uOutputDataSize,}
\DoxyCodeLine{03036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lenientConversion);}
\DoxyCodeLine{03037\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03038\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval\ ==\ conversionOK;}
\DoxyCodeLine{03039\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ retval\ =\ wcstombs(a\_pOutputData,}
\DoxyCodeLine{03042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\_pInputData,\ a\_uOutputDataSize);}
\DoxyCodeLine{03043\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval\ !=\ (size\_t)\ -\/1;}
\DoxyCodeLine{03044\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03045\ \ \ \ \ \}}
\DoxyCodeLine{03046\ \};}
\DoxyCodeLine{03047\ }
\DoxyCodeLine{03048\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_CONVERT\_GENERIC}}
\DoxyCodeLine{03049\ }
\DoxyCodeLine{03050\ }
\DoxyCodeLine{03051\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{03052\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SI\_CONVERT\_ICU}}
\DoxyCodeLine{03053\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{03054\ \textcolor{preprocessor}{\#ifdef\ SI\_CONVERT\_ICU}}
\DoxyCodeLine{03055\ }
\DoxyCodeLine{03056\ \textcolor{preprocessor}{\#define\ SI\_Case\ \ \ \ \ SI\_GenericCase}}
\DoxyCodeLine{03057\ \textcolor{preprocessor}{\#define\ SI\_NoCase\ \ \ SI\_GenericNoCase}}
\DoxyCodeLine{03058\ }
\DoxyCodeLine{03059\ \textcolor{preprocessor}{\#include\ <unicode/ucnv.h>}}
\DoxyCodeLine{03060\ }
\DoxyCodeLine{03064\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR>}
\DoxyCodeLine{03065\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \{}
\DoxyCodeLine{03066\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ m\_pEncoding;}
\DoxyCodeLine{03067\ \ \ \ \ UConverter\ *\ m\_pConverter;}
\DoxyCodeLine{03068\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{03069\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}()\ :\ m\_pEncoding(NULL),\ m\_pConverter(NULL)\ \{\ \}}
\DoxyCodeLine{03070\ \textcolor{keyword}{public}:}
\DoxyCodeLine{03071\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}(\textcolor{keywordtype}{bool}\ a\_bStoreIsUtf8)\ :\ m\_pConverter(NULL)\ \{}
\DoxyCodeLine{03072\ \ \ \ \ \ \ \ \ m\_pEncoding\ =\ a\_bStoreIsUtf8\ ?\ \textcolor{stringliteral}{"{}UTF-\/8"{}}\ :\ NULL;}
\DoxyCodeLine{03073\ \ \ \ \ \}}
\DoxyCodeLine{03074\ }
\DoxyCodeLine{03075\ \ \ \ \ \textcolor{comment}{/*\ copy\ and\ assignment\ */}}
\DoxyCodeLine{03076\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \&\ rhs)\ \{\ operator=(rhs);\ \}}
\DoxyCodeLine{03077\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \&\ rhs)\ \{}
\DoxyCodeLine{03078\ \ \ \ \ \ \ \ \ m\_pEncoding\ =\ rhs.m\_pEncoding;}
\DoxyCodeLine{03079\ \ \ \ \ \ \ \ \ m\_pConverter\ =\ NULL;}
\DoxyCodeLine{03080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{03081\ \ \ \ \ \}}
\DoxyCodeLine{03082\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{\string~SI\_ConvertW}}()\ \{\ \textcolor{keywordflow}{if}\ (m\_pConverter)\ ucnv\_close(m\_pConverter);\ \}}
\DoxyCodeLine{03083\ }
\DoxyCodeLine{03097\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_i___convert_w_aeb7cb9953fd07917c9a049c441add51e}{SizeFromStore}}(}
\DoxyCodeLine{03098\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pInputData,}
\DoxyCodeLine{03099\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uInputDataLen)}
\DoxyCodeLine{03100\ \ \ \ \ \{}
\DoxyCodeLine{03101\ \ \ \ \ \ \ \ \ SI\_ASSERT(a\_uInputDataLen\ !=\ (\textcolor{keywordtype}{size\_t})\ -\/1);}
\DoxyCodeLine{03102\ }
\DoxyCodeLine{03103\ \ \ \ \ \ \ \ \ UErrorCode\ nError;}
\DoxyCodeLine{03104\ }
\DoxyCodeLine{03105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_pConverter)\ \{}
\DoxyCodeLine{03106\ \ \ \ \ \ \ \ \ \ \ \ \ nError\ =\ U\_ZERO\_ERROR;}
\DoxyCodeLine{03107\ \ \ \ \ \ \ \ \ \ \ \ \ m\_pConverter\ =\ ucnv\_open(m\_pEncoding,\ \&nError);}
\DoxyCodeLine{03108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (U\_FAILURE(nError))\ \{}
\DoxyCodeLine{03109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})\ -\/1;}
\DoxyCodeLine{03110\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03111\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03112\ }
\DoxyCodeLine{03113\ \ \ \ \ \ \ \ \ nError\ =\ U\_ZERO\_ERROR;}
\DoxyCodeLine{03114\ \ \ \ \ \ \ \ \ int32\_t\ nLen\ =\ ucnv\_toUChars(m\_pConverter,\ NULL,\ 0,}
\DoxyCodeLine{03115\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pInputData,\ (int32\_t)\ a\_uInputDataLen,\ \&nError);}
\DoxyCodeLine{03116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (U\_FAILURE(nError)\ \&\&\ nError\ !=\ U\_BUFFER\_OVERFLOW\_ERROR)\ \{}
\DoxyCodeLine{03117\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})\ -\/1;}
\DoxyCodeLine{03118\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03119\ }
\DoxyCodeLine{03120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})\ nLen;}
\DoxyCodeLine{03121\ \ \ \ \ \}}
\DoxyCodeLine{03122\ }
\DoxyCodeLine{03136\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_i___convert_w_a132a9317a6f69780fa6b818d3fcf59e9}{ConvertFromStore}}(}
\DoxyCodeLine{03137\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pInputData,}
\DoxyCodeLine{03138\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uInputDataLen,}
\DoxyCodeLine{03139\ \ \ \ \ \ \ \ \ UChar\ *\ \ \ \ \ \ \ \ \ a\_pOutputData,}
\DoxyCodeLine{03140\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uOutputDataSize)}
\DoxyCodeLine{03141\ \ \ \ \ \{}
\DoxyCodeLine{03142\ \ \ \ \ \ \ \ \ UErrorCode\ nError;}
\DoxyCodeLine{03143\ }
\DoxyCodeLine{03144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_pConverter)\ \{}
\DoxyCodeLine{03145\ \ \ \ \ \ \ \ \ \ \ \ \ nError\ =\ U\_ZERO\_ERROR;}
\DoxyCodeLine{03146\ \ \ \ \ \ \ \ \ \ \ \ \ m\_pConverter\ =\ ucnv\_open(m\_pEncoding,\ \&nError);}
\DoxyCodeLine{03147\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (U\_FAILURE(nError))\ \{}
\DoxyCodeLine{03148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03149\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03150\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03151\ }
\DoxyCodeLine{03152\ \ \ \ \ \ \ \ \ nError\ =\ U\_ZERO\_ERROR;}
\DoxyCodeLine{03153\ \ \ \ \ \ \ \ \ ucnv\_toUChars(m\_pConverter,}
\DoxyCodeLine{03154\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pOutputData,\ (int32\_t)\ a\_uOutputDataSize,}
\DoxyCodeLine{03155\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pInputData,\ (int32\_t)\ a\_uInputDataLen,\ \&nError);}
\DoxyCodeLine{03156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (U\_FAILURE(nError))\ \{}
\DoxyCodeLine{03157\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03158\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03159\ }
\DoxyCodeLine{03160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{03161\ \ \ \ \ \}}
\DoxyCodeLine{03162\ }
\DoxyCodeLine{03173\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_i___convert_w_a7619dba0ecb1b6ec28b4d16a89ed89c0}{SizeToStore}}(}
\DoxyCodeLine{03174\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ UChar\ *\ a\_pInputData)}
\DoxyCodeLine{03175\ \ \ \ \ \{}
\DoxyCodeLine{03176\ \ \ \ \ \ \ \ \ UErrorCode\ nError;}
\DoxyCodeLine{03177\ }
\DoxyCodeLine{03178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_pConverter)\ \{}
\DoxyCodeLine{03179\ \ \ \ \ \ \ \ \ \ \ \ \ nError\ =\ U\_ZERO\_ERROR;}
\DoxyCodeLine{03180\ \ \ \ \ \ \ \ \ \ \ \ \ m\_pConverter\ =\ ucnv\_open(m\_pEncoding,\ \&nError);}
\DoxyCodeLine{03181\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (U\_FAILURE(nError))\ \{}
\DoxyCodeLine{03182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})\ -\/1;}
\DoxyCodeLine{03183\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03184\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03185\ }
\DoxyCodeLine{03186\ \ \ \ \ \ \ \ \ nError\ =\ U\_ZERO\_ERROR;}
\DoxyCodeLine{03187\ \ \ \ \ \ \ \ \ int32\_t\ nLen\ =\ ucnv\_fromUChars(m\_pConverter,\ NULL,\ 0,}
\DoxyCodeLine{03188\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pInputData,\ -\/1,\ \&nError);}
\DoxyCodeLine{03189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (U\_FAILURE(nError)\ \&\&\ nError\ !=\ U\_BUFFER\_OVERFLOW\_ERROR)\ \{}
\DoxyCodeLine{03190\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})\ -\/1;}
\DoxyCodeLine{03191\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03192\ }
\DoxyCodeLine{03193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})\ nLen\ +\ 1;}
\DoxyCodeLine{03194\ \ \ \ \ \}}
\DoxyCodeLine{03195\ }
\DoxyCodeLine{03209\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_i___convert_w_ab30993d03cdc7b5d5635b95add8b7133}{ConvertToStore}}(}
\DoxyCodeLine{03210\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ UChar\ *\ \ \ a\_pInputData,}
\DoxyCodeLine{03211\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *\ \ \ \ \ \ \ \ \ \ a\_pOutputData,}
\DoxyCodeLine{03212\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uOutputDataSize)}
\DoxyCodeLine{03213\ \ \ \ \ \{}
\DoxyCodeLine{03214\ \ \ \ \ \ \ \ \ UErrorCode\ nError;}
\DoxyCodeLine{03215\ }
\DoxyCodeLine{03216\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_pConverter)\ \{}
\DoxyCodeLine{03217\ \ \ \ \ \ \ \ \ \ \ \ \ nError\ =\ U\_ZERO\_ERROR;}
\DoxyCodeLine{03218\ \ \ \ \ \ \ \ \ \ \ \ \ m\_pConverter\ =\ ucnv\_open(m\_pEncoding,\ \&nError);}
\DoxyCodeLine{03219\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (U\_FAILURE(nError))\ \{}
\DoxyCodeLine{03220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03221\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03222\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03223\ }
\DoxyCodeLine{03224\ \ \ \ \ \ \ \ \ nError\ =\ U\_ZERO\_ERROR;}
\DoxyCodeLine{03225\ \ \ \ \ \ \ \ \ ucnv\_fromUChars(m\_pConverter,}
\DoxyCodeLine{03226\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pOutputData,\ (int32\_t)\ a\_uOutputDataSize,}
\DoxyCodeLine{03227\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pInputData,\ -\/1,\ \&nError);}
\DoxyCodeLine{03228\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (U\_FAILURE(nError))\ \{}
\DoxyCodeLine{03229\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{03230\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03231\ }
\DoxyCodeLine{03232\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{03233\ \ \ \ \ \}}
\DoxyCodeLine{03234\ \};}
\DoxyCodeLine{03235\ }
\DoxyCodeLine{03236\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_CONVERT\_ICU}}
\DoxyCodeLine{03237\ }
\DoxyCodeLine{03238\ }
\DoxyCodeLine{03239\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{03240\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SI\_CONVERT\_WIN32}}
\DoxyCodeLine{03241\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{03242\ \textcolor{preprocessor}{\#ifdef\ SI\_CONVERT\_WIN32}}
\DoxyCodeLine{03243\ }
\DoxyCodeLine{03244\ \textcolor{preprocessor}{\#define\ SI\_Case\ \ \ \ \ SI\_GenericCase}}
\DoxyCodeLine{03245\ }
\DoxyCodeLine{03246\ \textcolor{comment}{//\ Windows\ CE\ doesn't\ have\ errno\ or\ MBCS\ libraries}}
\DoxyCodeLine{03247\ \textcolor{preprocessor}{\#ifdef\ \_WIN32\_WCE}}
\DoxyCodeLine{03248\ \textcolor{preprocessor}{\#\ ifndef\ SI\_NO\_MBCS}}
\DoxyCodeLine{03249\ \textcolor{preprocessor}{\#\ \ define\ SI\_NO\_MBCS}}
\DoxyCodeLine{03250\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{03251\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03252\ }
\DoxyCodeLine{03253\ \textcolor{preprocessor}{\#include\ <windows.h>}}
\DoxyCodeLine{03254\ \textcolor{preprocessor}{\#ifdef\ SI\_NO\_MBCS}}
\DoxyCodeLine{03255\ \textcolor{preprocessor}{\#\ define\ SI\_NoCase\ \ \ SI\_GenericNoCase}}
\DoxyCodeLine{03256\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !SI\_NO\_MBCS}}
\DoxyCodeLine{03265\ \textcolor{comment}{}\#include\ <mbstring.h>}
\DoxyCodeLine{03266\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR>}
\DoxyCodeLine{03267\ \textcolor{keyword}{struct\ }SI\_NoCase\ \{}
\DoxyCodeLine{03268\ \ \ \ \ \textcolor{keywordtype}{bool}\ operator()(\textcolor{keyword}{const}\ SI\_CHAR\ *\ pLeft,\ \textcolor{keyword}{const}\ SI\_CHAR\ *\ pRight)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{03269\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(SI\_CHAR)\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}))\ \{}
\DoxyCodeLine{03270\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mbsicmp((\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *)pLeft,}
\DoxyCodeLine{03271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *)pRight)\ <\ 0;}
\DoxyCodeLine{03272\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03273\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(SI\_CHAR)\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{wchar\_t}))\ \{}
\DoxyCodeLine{03274\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_wcsicmp((\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}\ *)pLeft,}
\DoxyCodeLine{03275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}\ *)pRight)\ <\ 0;}
\DoxyCodeLine{03276\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_s_i___generic_no_case}{SI\_GenericNoCase<SI\_CHAR>}}()(pLeft,\ pRight);}
\DoxyCodeLine{03278\ \ \ \ \ \}}
\DoxyCodeLine{03279\ \};}
\DoxyCodeLine{03280\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_NO\_MBCS}}
\DoxyCodeLine{03281\ }
\DoxyCodeLine{03288\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SI\_CHAR>}
\DoxyCodeLine{03289\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \{}
\DoxyCodeLine{03290\ \ \ \ \ UINT\ m\_uCodePage;}
\DoxyCodeLine{03291\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{03292\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}()\ \{\ \}}
\DoxyCodeLine{03293\ \textcolor{keyword}{public}:}
\DoxyCodeLine{03294\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}(\textcolor{keywordtype}{bool}\ a\_bStoreIsUtf8)\ \{}
\DoxyCodeLine{03295\ \ \ \ \ \ \ \ \ m\_uCodePage\ =\ a\_bStoreIsUtf8\ ?\ CP\_UTF8\ :\ CP\_ACP;}
\DoxyCodeLine{03296\ \ \ \ \ \}}
\DoxyCodeLine{03297\ }
\DoxyCodeLine{03298\ \ \ \ \ \textcolor{comment}{/*\ copy\ and\ assignment\ */}}
\DoxyCodeLine{03299\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \&\ rhs)\ \{\ operator=(rhs);\ \}}
\DoxyCodeLine{03300\ \ \ \ \ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW}}\ \&\ rhs)\ \{}
\DoxyCodeLine{03301\ \ \ \ \ \ \ \ \ m\_uCodePage\ =\ rhs.m\_uCodePage;}
\DoxyCodeLine{03302\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{03303\ \ \ \ \ \}}
\DoxyCodeLine{03304\ }
\DoxyCodeLine{03318\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_i___convert_w_aeb7cb9953fd07917c9a049c441add51e}{SizeFromStore}}(}
\DoxyCodeLine{03319\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pInputData,}
\DoxyCodeLine{03320\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uInputDataLen)}
\DoxyCodeLine{03321\ \ \ \ \ \{}
\DoxyCodeLine{03322\ \ \ \ \ \ \ \ \ SI\_ASSERT(a\_uInputDataLen\ !=\ (\textcolor{keywordtype}{size\_t})\ -\/1);}
\DoxyCodeLine{03323\ }
\DoxyCodeLine{03324\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ retval\ =\ MultiByteToWideChar(}
\DoxyCodeLine{03325\ \ \ \ \ \ \ \ \ \ \ \ \ m\_uCodePage,\ 0,}
\DoxyCodeLine{03326\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pInputData,\ (\textcolor{keywordtype}{int})\ a\_uInputDataLen,}
\DoxyCodeLine{03327\ \ \ \ \ \ \ \ \ \ \ \ \ 0,\ 0);}
\DoxyCodeLine{03328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})(retval\ >\ 0\ ?\ retval\ :\ -\/1);}
\DoxyCodeLine{03329\ \ \ \ \ \}}
\DoxyCodeLine{03330\ }
\DoxyCodeLine{03344\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_i___convert_w_a132a9317a6f69780fa6b818d3fcf59e9}{ConvertFromStore}}(}
\DoxyCodeLine{03345\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\ \ \ \ a\_pInputData,}
\DoxyCodeLine{03346\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uInputDataLen,}
\DoxyCodeLine{03347\ \ \ \ \ \ \ \ \ SI\_CHAR\ *\ \ \ \ \ \ \ a\_pOutputData,}
\DoxyCodeLine{03348\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uOutputDataSize)}
\DoxyCodeLine{03349\ \ \ \ \ \{}
\DoxyCodeLine{03350\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ nSize\ =\ MultiByteToWideChar(}
\DoxyCodeLine{03351\ \ \ \ \ \ \ \ \ \ \ \ \ m\_uCodePage,\ 0,}
\DoxyCodeLine{03352\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pInputData,\ (\textcolor{keywordtype}{int})\ a\_uInputDataLen,}
\DoxyCodeLine{03353\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{wchar\_t}\ *)\ a\_pOutputData,\ (\textcolor{keywordtype}{int})\ a\_uOutputDataSize);}
\DoxyCodeLine{03354\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (nSize\ >\ 0);}
\DoxyCodeLine{03355\ \ \ \ \ \}}
\DoxyCodeLine{03356\ }
\DoxyCodeLine{03367\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_s_i___convert_w_a7619dba0ecb1b6ec28b4d16a89ed89c0}{SizeToStore}}(}
\DoxyCodeLine{03368\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pInputData)}
\DoxyCodeLine{03369\ \ \ \ \ \{}
\DoxyCodeLine{03370\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ retval\ =\ WideCharToMultiByte(}
\DoxyCodeLine{03371\ \ \ \ \ \ \ \ \ \ \ \ \ m\_uCodePage,\ 0,}
\DoxyCodeLine{03372\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}\ *)\ a\_pInputData,\ -\/1,}
\DoxyCodeLine{03373\ \ \ \ \ \ \ \ \ \ \ \ \ 0,\ 0,\ 0,\ 0);}
\DoxyCodeLine{03374\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{size\_t})\ (retval\ >\ 0\ ?\ retval\ :\ -\/1);}
\DoxyCodeLine{03375\ \ \ \ \ \}}
\DoxyCodeLine{03376\ }
\DoxyCodeLine{03390\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_s_i___convert_w_ab30993d03cdc7b5d5635b95add8b7133}{ConvertToStore}}(}
\DoxyCodeLine{03391\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SI\_CHAR\ *\ a\_pInputData,}
\DoxyCodeLine{03392\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *\ \ \ \ \ \ \ \ \ \ a\_pOutputData,}
\DoxyCodeLine{03393\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ a\_uOutputDataSize)}
\DoxyCodeLine{03394\ \ \ \ \ \{}
\DoxyCodeLine{03395\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ retval\ =\ WideCharToMultiByte(}
\DoxyCodeLine{03396\ \ \ \ \ \ \ \ \ \ \ \ \ m\_uCodePage,\ 0,}
\DoxyCodeLine{03397\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}\ *)\ a\_pInputData,\ -\/1,}
\DoxyCodeLine{03398\ \ \ \ \ \ \ \ \ \ \ \ \ a\_pOutputData,\ (\textcolor{keywordtype}{int})\ a\_uOutputDataSize,\ 0,\ 0);}
\DoxyCodeLine{03399\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval\ >\ 0;}
\DoxyCodeLine{03400\ \ \ \ \ \}}
\DoxyCodeLine{03401\ \};}
\DoxyCodeLine{03402\ }
\DoxyCodeLine{03403\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SI\_CONVERT\_WIN32}}
\DoxyCodeLine{03404\ }
\DoxyCodeLine{03405\ }
\DoxyCodeLine{03406\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{03407\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ TYPE\ DEFINITIONS}}
\DoxyCodeLine{03408\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{03409\ }
\DoxyCodeLine{03410\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}<char,}
\DoxyCodeLine{03411\ \ \ \ \ SI\_NoCase<char>,\mbox{\hyperlink{class_s_i___convert_a}{SI\_ConvertA<char>}}\ >\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniA}};}
\DoxyCodeLine{03412\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}<char,}
\DoxyCodeLine{03413\ \ \ \ \ SI\_Case<char>,\mbox{\hyperlink{class_s_i___convert_a}{SI\_ConvertA<char>}}\ >\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniCaseA}};}
\DoxyCodeLine{03414\ }
\DoxyCodeLine{03415\ \textcolor{preprocessor}{\#if\ defined(SI\_CONVERT\_ICU)}}
\DoxyCodeLine{03416\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}<UChar,}
\DoxyCodeLine{03417\ \ \ \ \ SI\_NoCase<UChar>,\mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW<UChar>}}\ >\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniW}};}
\DoxyCodeLine{03418\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}<UChar,}
\DoxyCodeLine{03419\ \ \ \ \ SI\_Case<UChar>,\mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW<UChar>}}\ >\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniCaseW}};}
\DoxyCodeLine{03420\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{03421\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}<wchar\_t,}
\DoxyCodeLine{03422\ \ \ \ \ SI\_NoCase<wchar\_t>,\mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW<wchar\_t>}}\ >\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniW}};}
\DoxyCodeLine{03423\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniTempl}}<wchar\_t,}
\DoxyCodeLine{03424\ \ \ \ \ SI\_Case<wchar\_t>,\mbox{\hyperlink{class_s_i___convert_w}{SI\_ConvertW<wchar\_t>}}\ >\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_c_simple_ini_templ}{CSimpleIniCaseW}};}
\DoxyCodeLine{03425\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03426\ }
\DoxyCodeLine{03427\ \textcolor{preprocessor}{\#ifdef\ \_UNICODE}}
\DoxyCodeLine{03428\ \textcolor{preprocessor}{\#\ define\ CSimpleIni\ \ \ \ \ \ CSimpleIniW}}
\DoxyCodeLine{03429\ \textcolor{preprocessor}{\#\ define\ CSimpleIniCase\ \ CSimpleIniCaseW}}
\DoxyCodeLine{03430\ \textcolor{preprocessor}{\#\ define\ SI\_NEWLINE\ \ \ \ \ \ SI\_NEWLINE\_W}}
\DoxyCodeLine{03431\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ !\_UNICODE}}
\DoxyCodeLine{03432\ \textcolor{preprocessor}{\#\ define\ CSimpleIni\ \ \ \ \ \ CSimpleIniA}}
\DoxyCodeLine{03433\ \textcolor{preprocessor}{\#\ define\ CSimpleIniCase\ \ CSimpleIniCaseA}}
\DoxyCodeLine{03434\ \textcolor{preprocessor}{\#\ define\ SI\_NEWLINE\ \ \ \ \ \ SI\_NEWLINE\_A}}
\DoxyCodeLine{03435\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_UNICODE}}
\DoxyCodeLine{03436\ }
\DoxyCodeLine{03437\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{03438\ \textcolor{preprocessor}{\#\ pragma\ warning\ (pop)}}
\DoxyCodeLine{03439\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03440\ }
\DoxyCodeLine{03441\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ INCLUDED\_SimpleIni\_h}}
\DoxyCodeLine{03442\ }

\end{DoxyCode}
