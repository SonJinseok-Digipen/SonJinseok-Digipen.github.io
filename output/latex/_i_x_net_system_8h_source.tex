\hypertarget{_i_x_net_system_8h_source}{}\doxysection{IXNet\+System.\+h}
\label{_i_x_net_system_8h_source}\index{AseSprite/aseprite/third\_party/IXWebSocket/ixwebsocket/IXNetSystem.h@{AseSprite/aseprite/third\_party/IXWebSocket/ixwebsocket/IXNetSystem.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ \ IXNetSystem.h}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ \ Author:\ Benjamin\ Sergeant}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ \ Copyright\ (c)\ 2019\ Machine\ Zone.\ All\ rights\ reserved.}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ WIN32\_LEAN\_AND\_MEAN}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ WIN32\_LEAN\_AND\_MEAN}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <ws2tcpip.h>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <winsock2.h>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <basetsd.h>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <io.h>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <ws2def.h>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <cerrno>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#undef\ EWOULDBLOCK}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#undef\ EAGAIN}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#undef\ EINPROGRESS}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#undef\ EBADF}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#undef\ EINVAL}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{comment}{//\ map\ to\ WSA\ error\ codes}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#define\ EWOULDBLOCK\ WSAEWOULDBLOCK}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ EAGAIN\ WSATRY\_AGAIN}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#define\ EINPROGRESS\ WSAEINPROGRESS}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#define\ EBADF\ WSAEBADF}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#define\ EINVAL\ WSAEINVAL}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{comment}{//\ Define\ our\ own\ poll\ on\ Windows,\ as\ a\ wrapper\ on\ top\ of\ select}}
\DoxyCodeLine{00036\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ nfds\_t;}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{comment}{//\ pollfd\ is\ not\ defined\ by\ some\ versions\ of\ mingw64\ since\ \_WIN32\_WINNT\ is\ too\ low}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#if\ \_WIN32\_WINNT\ <\ 0x0600}}
\DoxyCodeLine{00040\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structpollfd}{pollfd}}}
\DoxyCodeLine{00041\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{int}\ fd;\ \ \ \ \ \ \ \ \textcolor{comment}{/*\ file\ descriptor\ */}}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{short}\ events;\ \ \textcolor{comment}{/*\ requested\ events\ */}}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordtype}{short}\ revents;\ \textcolor{comment}{/*\ returned\ events\ */}}
\DoxyCodeLine{00045\ \};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#define\ POLLIN\ 0x001\ \ \ }\textcolor{comment}{/*\ There\ is\ data\ to\ read.\ \ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#define\ POLLOUT\ 0x004\ \ }\textcolor{comment}{/*\ Writing\ now\ will\ not\ block.\ \ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#define\ POLLERR\ 0x008\ \ }\textcolor{comment}{/*\ Error\ condition.\ \ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#define\ POLLHUP\ 0x010\ \ }\textcolor{comment}{/*\ Hung\ up.\ \ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#define\ POLLNVAL\ 0x020\ }\textcolor{comment}{/*\ Invalid\ polling\ request.\ \ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#include\ <arpa/inet.h>}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#include\ <errno.h>}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#include\ <fcntl.h>}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#include\ <netdb.h>}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#include\ <netinet/in.h>}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#include\ <netinet/ip.h>}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#include\ <netinet/tcp.h>}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#include\ <poll.h>}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#include\ <sys/select.h>}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#include\ <sys/socket.h>}}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#include\ <sys/stat.h>}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#include\ <sys/time.h>}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceix}{ix}}}
\DoxyCodeLine{00071\ \{}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{typedef}\ SOCKET\ socket\_t;}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{int}\ socket\_t;}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordtype}{bool}\ initNetSystem();}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{bool}\ uninitNetSystem();}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{int}\ poll(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structpollfd}{pollfd}}*\ fds,\ nfds\_t\ nfds,\ \textcolor{keywordtype}{int}\ timeout,\ \textcolor{keywordtype}{void}**\ event);}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ inet\_ntop(\textcolor{keywordtype}{int}\ af,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ src,\ \textcolor{keywordtype}{char}*\ dst,\ socklen\_t\ size);}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{int}\ inet\_pton(\textcolor{keywordtype}{int}\ af,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src,\ \textcolor{keywordtype}{void}*\ dst);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ network\_to\_host\_short(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ \mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{00087\ \}\ \textcolor{comment}{//\ namespace\ ix}}

\end{DoxyCode}
