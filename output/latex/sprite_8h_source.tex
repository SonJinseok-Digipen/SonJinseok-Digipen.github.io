\hypertarget{sprite_8h_source}{}\doxysection{sprite.\+h}
\label{sprite_8h_source}\index{AseSprite/aseprite/src/doc/sprite.h@{AseSprite/aseprite/src/doc/sprite.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Aseprite\ Document\ Library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Copyright\ (C)\ 2018-\/2021\ \ Igara\ Studio\ S.A.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Copyright\ (C)\ 2001-\/2018\ \ David\ Capello}}
\DoxyCodeLine{00004\ \textcolor{comment}{//}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ This\ file\ is\ released\ under\ the\ terms\ of\ the\ MIT\ license.}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ Read\ LICENSE.txt\ for\ more\ information.}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#ifndef\ DOC\_SPRITE\_H\_INCLUDED}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#define\ DOC\_SPRITE\_H\_INCLUDED}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}base/disable\_copying.h"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}doc/cel\_data.h"{}}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}doc/cel\_list.h"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}doc/color.h"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}doc/frame.h"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}doc/image\_buffer.h"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}doc/image\_ref.h"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}doc/image\_spec.h"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}doc/layer\_list.h"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}doc/object.h"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}doc/pixel\_format.h"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}doc/pixel\_ratio.h"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}doc/rgbmap\_algorithm.h"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}doc/slices.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}doc/tags.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}doc/tile.h"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}doc/with\_user\_data.h"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}gfx/rect.h"{}}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ DOC\_SPRITE\_MAX\_WIDTH\ \ 65535}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#define\ DOC\_SPRITE\_MAX\_HEIGHT\ 65535}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{namespace\ }doc\ \{}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \textcolor{keyword}{class\ }CelsRange;}
\DoxyCodeLine{00040\ \ \ \textcolor{keyword}{class\ }Document;}
\DoxyCodeLine{00041\ \ \ \textcolor{keyword}{class\ }Image;}
\DoxyCodeLine{00042\ \ \ \textcolor{keyword}{class\ }Layer;}
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{class\ }LayerGroup;}
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{class\ }LayerImage;}
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{class\ }Mask;}
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{class\ }Palette;}
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{class\ }Remap;}
\DoxyCodeLine{00048\ \ \ \textcolor{keyword}{class\ }RgbMap;}
\DoxyCodeLine{00049\ \ \ \textcolor{keyword}{class\ }RgbMapRGB5A3;}
\DoxyCodeLine{00050\ \ \ \textcolor{keyword}{class\ }SelectedFrames;}
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{class\ }Tileset;}
\DoxyCodeLine{00052\ \ \ \textcolor{keyword}{class\ }Tilesets;}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \textcolor{keyword}{typedef}\ std::vector<Palette*>\ PalettesList;}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//\ The\ main\ structure\ used\ in\ the\ whole\ program\ to\ handle\ a\ sprite.}}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoc_1_1_sprite}{Sprite}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoc_1_1_with_user_data}{WithUserData}}\ \{}
\DoxyCodeLine{00058\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{enum\ class}\ RgbMapFor\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ OpaqueLayer,}
\DoxyCodeLine{00061\ \ \ \ \ \ \ TransparentLayer}
\DoxyCodeLine{00062\ \ \ \ \ \};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//\ Constructors/Destructor}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_sprite}{Sprite}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_image_spec}{ImageSpec}}\&\ spec,\ \textcolor{keywordtype}{int}\ ncolors\ =\ 256);}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoc_1_1_sprite}{\string~Sprite}}();}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ Creates\ a\ new\ sprite\ with\ one\ transparent\ layer\ and\ one\ cel}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//\ with\ an\ image\ of\ the\ size\ of\ the\ sprite.}}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdoc_1_1_sprite}{Sprite}}*\ MakeStdSprite(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_image_spec}{ImageSpec}}\&\ spec,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ ncolors\ =\ 256,}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ImageBufferPtr\&\ imageBuf\ =\ ImageBufferPtr());}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{comment}{//\ Main\ properties}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_image_spec}{ImageSpec}}\&\ spec()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_spec;\ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_document}{Document}}*\ document()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_document;\ \}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{void}\ setDocument(\mbox{\hyperlink{classdoc_1_1_document}{Document}}*\ doc)\ \{\ m\_document\ =\ doc;\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ PixelFormat\ pixelFormat()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ (PixelFormat)m\_spec.colorMode();\ \}}
\DoxyCodeLine{00085\ \ \ \ \ ColorMode\ colorMode()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_spec.colorMode();\ \}}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classgfx_1_1_size_t}{PixelRatio}}\&\ pixelRatio()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_pixelRatio;\ \}}
\DoxyCodeLine{00087\ \ \ \ \ \mbox{\hyperlink{classgfx_1_1_size_t}{gfx::Size}}\ size()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_spec.size();\ \}}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{classgfx_1_1_rect_t}{gfx::Rect}}\ bounds()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_spec.bounds();\ \}}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{int}\ width()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_spec.width();\ \}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{int}\ height()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_spec.height();\ \}}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbase_1_1_ref}{gfx::ColorSpaceRef}}\&\ colorSpace()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_spec.colorSpace();\ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordtype}{void}\ setPixelFormat(PixelFormat\ format);}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{void}\ setPixelRatio(\textcolor{keyword}{const}\ \mbox{\hyperlink{classgfx_1_1_size_t}{PixelRatio}}\&\ pixelRatio);}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{void}\ setSize(\textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{int}\ height);}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{void}\ setColorSpace(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbase_1_1_ref}{gfx::ColorSpaceRef}}\&\ colorSpace);}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{comment}{//\ This\ method\ is\ only\ required/used\ for\ the\ template\ functions\ app::script::UserData\_set\_text/color.}}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_sprite}{Sprite}}*\ sprite()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ sprite\ has\ a\ background\ layer\ and\ it's\ visible}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{bool}\ isOpaque()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ rendered\ images\ will\ contain\ alpha\ values\ less}}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{comment}{//\ than\ 255.\ Only\ RGBA\ and\ Grayscale\ images\ without\ background\ needs}}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ alpha\ channel\ in\ the\ render.}}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordtype}{bool}\ needAlpha()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{bool}\ supportAlpha()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{structcolor__t}{color\_t}}\ transparentColor()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_spec.maskColor();\ \}}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordtype}{void}\ setTransparentColor(\mbox{\hyperlink{structcolor__t}{color\_t}}\ color);}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{comment}{//\ Defaults}}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classgfx_1_1_rect_t}{gfx::Rect}}\ DefaultGridBounds();}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetDefaultGridBounds(\textcolor{keyword}{const}\ \mbox{\hyperlink{classgfx_1_1_rect_t}{gfx::Rect}}\&\ defGridBounds);}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{static}\ RgbMapAlgorithm\ DefaultRgbMapAlgorithm();}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetDefaultRgbMapAlgorithm(\textcolor{keyword}{const}\ RgbMapAlgorithm\ mapAlgo);}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classgfx_1_1_rect_t}{gfx::Rect}}\&\ gridBounds()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_gridBounds;\ \}}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{void}\ setGridBounds(\textcolor{keyword}{const}\ \mbox{\hyperlink{classgfx_1_1_rect_t}{gfx::Rect}}\&\ rc)\ \{\ m\_gridBounds\ =\ rc;\ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ getMemSize()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{comment}{//\ Layers}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_layer_group}{LayerGroup}}*\ root()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_root;\ \}}
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_layer_image}{LayerImage}}*\ backgroundLayer()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_layer}{Layer}}*\ firstBrowsableLayer()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_layer}{Layer}}*\ firstLayer()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00131\ \ \ \ \ layer\_t\ allLayersCount()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordtype}{bool}\ hasVisibleReferenceLayers()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{comment}{//\ Palettes}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_palette}{Palette}}*\ palette(frame\_t\ frame)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keyword}{const}\ PalettesList\&\ getPalettes()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordtype}{void}\ setPalette(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_palette}{Palette}}*\ pal,\ \textcolor{keywordtype}{bool}\ truncate);}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{comment}{//\ Removes\ all\ palettes\ from\ the\ sprites\ except\ the\ first\ one.}}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordtype}{void}\ resetPalettes();}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordtype}{void}\ deletePalette(frame\_t\ frame);}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ RgbMapFor\ rgbMapForSprite()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_rgb_map}{RgbMap}}*\ rgbMap(\textcolor{keyword}{const}\ frame\_t\ frame)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_rgb_map}{RgbMap}}*\ rgbMap(\textcolor{keyword}{const}\ frame\_t\ frame,}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ RgbMapFor\ forLayer)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00151\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_rgb_map}{RgbMap}}*\ rgbMap(\textcolor{keyword}{const}\ frame\_t\ frame,}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ RgbMapFor\ forLayer,}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ RgbMapAlgorithm\ mapAlgo)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{comment}{//\ Frames}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ frame\_t\ totalFrames()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_frames;\ \}}
\DoxyCodeLine{00159\ \ \ \ \ frame\_t\ lastFrame()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_frames-\/1;\ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordtype}{void}\ addFrame(frame\_t\ newFrame);}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordtype}{void}\ removeFrame(frame\_t\ frame);}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordtype}{void}\ setTotalFrames(frame\_t\ frames);}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordtype}{int}\ frameDuration(frame\_t\ frame)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordtype}{int}\ totalAnimationDuration()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{void}\ setFrameDuration(frame\_t\ frame,\ \textcolor{keywordtype}{int}\ msecs);}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keywordtype}{void}\ setFrameRangeDuration(frame\_t\ from,\ frame\_t\ to,\ \textcolor{keywordtype}{int}\ msecs);}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordtype}{void}\ setDurationForAllFrames(\textcolor{keywordtype}{int}\ msecs);}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_tags}{Tags}}\&\ tags()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_tags;\ \}}
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_tags}{Tags}}\&\ tags()\ \{\ \textcolor{keywordflow}{return}\ m\_tags;\ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_slices}{Slices}}\&\ slices()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_slices;\ \}}
\DoxyCodeLine{00175\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_slices}{Slices}}\&\ slices()\ \{\ \textcolor{keywordflow}{return}\ m\_slices;\ \}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{//\ Shared\ Images\ and\ CelData\ (for\ linked\ Cels)}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ ImageRef\ getImageRef(ObjectId\ imageId);}
\DoxyCodeLine{00181\ \ \ \ \ CelDataRef\ getCelDataRef(ObjectId\ celDataId);}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{comment}{//\ Images}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordtype}{void}\ replaceImage(ObjectId\ curImageId,\ \textcolor{keyword}{const}\ ImageRef\&\ newImage);}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordtype}{void}\ replaceTileset(tileset\_index\ tsi,\ \mbox{\hyperlink{classdoc_1_1_tileset}{Tileset}}*\ newTileset);}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{comment}{//\ Returns\ all\ sprite\ images\ (cel\ +\ tiles)\ that\ aren't\ tilemaps}}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordtype}{void}\ getImages(std::vector<ImageRef>\&\ images)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{comment}{//\ TODO\ replace\ this\ with\ a\ co-\/routine\ when\ we\ start\ using\ C++20\ (std::generator<ImageRef>)}}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordtype}{void}\ getTilemapsByTileset(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_tileset}{Tileset}}*\ tileset,}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<ImageRef>\&\ images)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keywordtype}{void}\ remapImages(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_remap}{Remap}}\&\ remap);}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordtype}{void}\ remapTilemaps(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_tileset}{Tileset}}*\ tileset,}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_remap}{Remap}}\&\ remap);}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordtype}{void}\ pickCels(\textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ x,}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ y,}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ frame\_t\ frame,}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ opacityThreshold,}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ LayerList\&\ layers,}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CelList\&\ cels)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{comment}{//\ Iterators}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ LayerList\ allLayers()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00210\ \ \ \ \ LayerList\ allVisibleLayers()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00211\ \ \ \ \ LayerList\ allVisibleReferenceLayers()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00212\ \ \ \ \ LayerList\ allBrowsableLayers()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_cels_range}{CelsRange}}\ cels()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00215\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_cels_range}{CelsRange}}\ cels(frame\_t\ frame)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_cels_range}{CelsRange}}\ uniqueCels()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00217\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_cels_range}{CelsRange}}\ uniqueCels(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoc_1_1_selected_frames}{SelectedFrames}}\&\ selFrames)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00220\ \ \ \ \ \textcolor{comment}{//\ Tilesets}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keywordtype}{bool}\ hasTilesets()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_tilesets\ !=\ \textcolor{keyword}{nullptr};\ \}}
\DoxyCodeLine{00223\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_tilesets}{Tilesets}}*\ tilesets()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00226\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_document}{Document}}*\ m\_document;}
\DoxyCodeLine{00227\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_image_spec}{ImageSpec}}\ m\_spec;}
\DoxyCodeLine{00228\ \ \ \ \ \mbox{\hyperlink{classgfx_1_1_size_t}{PixelRatio}}\ m\_pixelRatio;}
\DoxyCodeLine{00229\ \ \ \ \ frame\_t\ m\_frames;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ how\ many\ frames\ has\ this\ sprite}}
\DoxyCodeLine{00230\ \ \ \ \ std::vector<int>\ m\_frlens;\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ duration\ per\ frame}}
\DoxyCodeLine{00231\ \ \ \ \ PalettesList\ m\_palettes;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ list\ of\ palettes}}
\DoxyCodeLine{00232\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_layer_group}{LayerGroup}}*\ m\_root;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ main\ group\ of\ layers}}
\DoxyCodeLine{00233\ \ \ \ \ \mbox{\hyperlink{classgfx_1_1_rect_t}{gfx::Rect}}\ m\_gridBounds;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ grid\ settings}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ \ \ \textcolor{comment}{//\ Current\ rgb\ map}}
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{keyword}{mutable}\ RgbMapAlgorithm\ m\_rgbMapAlgorithm;}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keyword}{mutable}\ std::unique\_ptr<RgbMap>\ m\_rgbMap;}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_tags}{Tags}}\ m\_tags;}
\DoxyCodeLine{00240\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_slices}{Slices}}\ m\_slices;}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{comment}{//\ Tilesets}}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{keyword}{mutable}\ \mbox{\hyperlink{classdoc_1_1_tilesets}{Tilesets}}*\ m\_tilesets;}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{comment}{//\ Disable\ default\ constructor\ and\ copying}}
\DoxyCodeLine{00246\ \ \ \ \ \mbox{\hyperlink{classdoc_1_1_sprite}{Sprite}}();}
\DoxyCodeLine{00247\ \ \ \ \ DISABLE\_COPYING(\mbox{\hyperlink{classdoc_1_1_sprite}{Sprite}});}
\DoxyCodeLine{00248\ \ \ \};}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \}\ \textcolor{comment}{//\ namespace\ doc}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
