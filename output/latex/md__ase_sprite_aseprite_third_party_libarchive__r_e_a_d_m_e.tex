The libarchive project develops a portable, efficient C library that can read and write streaming archives in a variety of formats. It also includes implementations of the common {\ttfamily tar}, {\ttfamily cpio}, and {\ttfamily zcat} command-\/line tools that use the libarchive library.\hypertarget{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1796}{}\doxysection{Questions?  Issues?}\label{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1796}

\begin{DoxyItemize}
\item \href{http://www.libarchive.org}{\texttt{ http\+://www.\+libarchive.\+org}} is the home for ongoing libarchive development, including documentation, and links to the libarchive mailing lists.
\item To report an issue, use the issue tracker at \href{https://github.com/libarchive/libarchive/issues}{\texttt{ https\+://github.\+com/libarchive/libarchive/issues}}
\item To submit an enhancement to libarchive, please submit a pull request via Git\+Hub\+: \href{https://github.com/libarchive/libarchive/pulls}{\texttt{ https\+://github.\+com/libarchive/libarchive/pulls}}
\end{DoxyItemize}\hypertarget{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1797}{}\doxysection{Contents of the Distribution}\label{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1797}
This distribution bundle includes the following major components\+:


\begin{DoxyItemize}
\item {\bfseries{libarchive}}\+: a library for reading and writing streaming archives
\item {\bfseries{tar}}\+: the \textquotesingle{}bsdtar\textquotesingle{} program is a full-\/featured \textquotesingle{}tar\textquotesingle{} implementation built on libarchive
\item {\bfseries{cpio}}\+: the \textquotesingle{}bsdcpio\textquotesingle{} program is a different interface to essentially the same functionality
\item {\bfseries{cat}}\+: the \textquotesingle{}bsdcat\textquotesingle{} program is a simple replacement tool for zcat, bzcat, xzcat, and such
\item {\bfseries{examples}}\+: Some small example programs that you may find useful.
\item {\bfseries{examples/minitar}}\+: a compact sample demonstrating use of libarchive.
\item {\bfseries{contrib}}\+: Various items sent to me by third parties; please contact the authors with any questions.
\end{DoxyItemize}

The top-\/level directory contains the following information files\+:


\begin{DoxyItemize}
\item {\bfseries{NEWS}} -\/ highlights of recent changes
\item {\bfseries{COPYING}} -\/ what you can do with this
\item {\bfseries{INSTALL}} -\/ installation instructions
\item {\bfseries{README}} -\/ this file
\item {\bfseries{CMake\+Lists.\+txt}} -\/ input for \char`\"{}cmake\char`\"{} build tool, see INSTALL
\item {\bfseries{configure}} -\/ configuration script, see INSTALL for details. If your copy of the source lacks a {\ttfamily configure} script, you can try to construct it by running the script in {\ttfamily build/autogen.\+sh} (or use {\ttfamily cmake}).
\end{DoxyItemize}

The following files in the top-\/level directory are used by the \textquotesingle{}configure\textquotesingle{} script\+:


\begin{DoxyItemize}
\item {\ttfamily Makefile.\+am}, {\ttfamily aclocal.\+m4}, {\ttfamily configure.\+ac} -\/ used to build this distribution, only needed by maintainers
\item {\ttfamily Makefile.\+in}, {\ttfamily config.\+h.\+in} -\/ templates used by configure script
\end{DoxyItemize}\hypertarget{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1798}{}\doxysection{Documentation}\label{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1798}
In addition to the informational articles and documentation in the online \href{https://github.com/libarchive/libarchive/wiki}{\texttt{ libarchive Wiki}}, the distribution also includes a number of manual pages\+:


\begin{DoxyItemize}
\item bsdtar.\+1 explains the use of the bsdtar program
\item bsdcpio.\+1 explains the use of the bsdcpio program
\item bsdcat.\+1 explains the use of the bsdcat program
\item libarchive.\+3 gives an overview of the library as a whole
\item archive\+\_\+read.\+3, archive\+\_\+write.\+3, archive\+\_\+write\+\_\+disk.\+3, and archive\+\_\+read\+\_\+disk.\+3 provide detailed calling sequences for the read and write APIs
\item archive\+\_\+entry.\+3 details the \char`\"{}struct archive\+\_\+entry\char`\"{} utility class
\item archive\+\_\+internals.\+3 provides some insight into libarchive\textquotesingle{}s internal structure and operation.
\item libarchive-\/formats.\+5 documents the file formats supported by the library
\item cpio.\+5, mtree.\+5, and tar.\+5 provide detailed information about these popular archive formats, including hard-\/to-\/find details about modern cpio and tar variants.
\end{DoxyItemize}

The manual pages above are provided in the \textquotesingle{}doc\textquotesingle{} directory in a number of different formats.

You should also read the copious comments in {\ttfamily \mbox{\hyperlink{archive_8h_source}{archive.\+h}}} and the source code for the sample programs for more details. Please let us know about any errors or omissions you find.\hypertarget{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1799}{}\doxysection{Supported Formats}\label{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1799}
Currently, the library automatically detects and reads the following formats\+:


\begin{DoxyItemize}
\item Old V7 tar archives
\item POSIX ustar
\item GNU tar format (including GNU long filenames, long link names, and sparse files)
\item Solaris 9 extended tar format (including ACLs)
\item POSIX pax interchange format
\item POSIX octet-\/oriented cpio
\item SVR4 ASCII cpio
\item Binary cpio (big-\/endian or little-\/endian)
\item PWB binary cpio
\item ISO9660 CD-\/\+ROM images (with optional Rockridge or Joliet extensions)
\item ZIP archives (with uncompressed or \char`\"{}deflate\char`\"{} compressed entries, including support for encrypted Zip archives)
\item ZIPX archives (with support for bzip2, ppmd8, lzma and xz compressed entries)
\item GNU and BSD \textquotesingle{}ar\textquotesingle{} archives
\item \textquotesingle{}mtree\textquotesingle{} format
\item 7-\/Zip archives
\item Microsoft CAB format
\item LHA and LZH archives
\item RAR and RAR 5.\+0 archives (with some limitations due to RAR\textquotesingle{}s proprietary status)
\item XAR archives
\end{DoxyItemize}

The library also detects and handles any of the following before evaluating the archive\+:


\begin{DoxyItemize}
\item uuencoded files
\item files with RPM wrapper
\item gzip compression
\item bzip2 compression
\item compress/\+LZW compression
\item lzma, lzip, and xz compression
\item lz4 compression
\item lzop compression
\item zstandard compression
\end{DoxyItemize}

The library can create archives in any of the following formats\+:


\begin{DoxyItemize}
\item POSIX ustar
\item POSIX pax interchange format
\item \char`\"{}restricted\char`\"{} pax format, which will create ustar archives except for entries that require pax extensions (for long filenames, ACLs, etc).
\item Old GNU tar format
\item Old V7 tar format
\item POSIX octet-\/oriented cpio
\item SVR4 \char`\"{}newc\char`\"{} cpio
\item Binary cpio (little-\/endian)
\item PWB binary cpio
\item shar archives
\item ZIP archives (with uncompressed or \char`\"{}deflate\char`\"{} compressed entries)
\item GNU and BSD \textquotesingle{}ar\textquotesingle{} archives
\item \textquotesingle{}mtree\textquotesingle{} format
\item ISO9660 format
\item 7-\/Zip archives
\item XAR archives
\end{DoxyItemize}

When creating archives, the result can be filtered with any of the following\+:


\begin{DoxyItemize}
\item uuencode
\item gzip compression
\item bzip2 compression
\item compress/\+LZW compression
\item lzma, lzip, and xz compression
\item lz4 compression
\item lzop compression
\item zstandard compression
\end{DoxyItemize}\hypertarget{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1800}{}\doxysection{Notes about the Library Design}\label{md__ase_sprite_aseprite_third_party_libarchive__r_e_a_d_m_e_autotoc_md1800}
The following notes address many of the most common questions we are asked about libarchive\+:


\begin{DoxyItemize}
\item This is a heavily stream-\/oriented system. That means that it is optimized to read or write the archive in a single pass from beginning to end. For example, this allows libarchive to process archives too large to store on disk by processing them on-\/the-\/fly as they are read from or written to a network or tape drive. This also makes libarchive useful for tools that need to produce archives on-\/the-\/fly (such as webservers that provide archived contents of a users account).
\item In-\/place modification and random access to the contents of an archive are not directly supported. For some formats, this is not an issue\+: For example, tar.\+gz archives are not designed for random access. In some other cases, libarchive can re-\/open an archive and scan it from the beginning quickly enough to provide the needed abilities even without true random access. Of course, some applications do require true random access; those applications should consider alternatives to libarchive.
\item The library is designed to be extended with new compression and archive formats. The only requirement is that the format be readable or writable as a stream and that each archive entry be independent. There are articles on the libarchive Wiki explaining how to extend libarchive.
\item On read, compression and format are always detected automatically.
\item The same API is used for all formats; it should be very easy for software using libarchive to transparently handle any of libarchive\textquotesingle{}s archiving formats.
\item Libarchive\textquotesingle{}s automatic support for decompression can be used without archiving by explicitly selecting the \char`\"{}raw\char`\"{} and \char`\"{}empty\char`\"{} formats.
\item I\textquotesingle{}ve attempted to minimize static link pollution. If you don\textquotesingle{}t explicitly invoke a particular feature (such as support for a particular compression or format), it won\textquotesingle{}t get pulled in to statically-\/linked programs. In particular, if you don\textquotesingle{}t explicitly enable a particular compression or decompression support, you won\textquotesingle{}t need to link against the corresponding compression or decompression libraries. This also reduces the size of statically-\/linked binaries in environments where that matters.
\item The library is generally {\itshape thread safe} depending on the platform\+: it does not define any global variables of its own. However, some platforms do not provide fully thread-\/safe versions of key C library functions. On those platforms, libarchive will use the non-\/thread-\/safe functions. Patches to improve this are of great interest to us.
\item In particular, libarchive\textquotesingle{}s modules to read or write a directory tree do use {\ttfamily chdir()} to optimize the directory traversals. This can cause problems for programs that expect to do disk access from multiple threads. Of course, those modules are completely optional and you can use the rest of libarchive without them.
\item The library is {\itshape not} thread aware, however. It does no locking or thread management of any kind. If you create a libarchive object and need to access it from multiple threads, you will need to provide your own locking.
\item On read, the library accepts whatever blocks you hand it. Your read callback is free to pass the library a byte at a time or mmap the entire archive and give it to the library at once. On write, the library always produces correctly-\/blocked output.
\item The object-\/style approach allows you to have multiple archive streams open at once. bsdtar uses this in its \char`\"{}@archive\char`\"{} extension.
\item The archive itself is read/written using callback functions. You can read an archive directly from an in-\/memory buffer or write it to a socket, if you wish. There are some utility functions to provide easy-\/to-\/use \char`\"{}open file,\char`\"{} etc, capabilities.
\item The read/write APIs are designed to allow individual entries to be read or written to any data source\+: You can create a block of data in memory and add it to a tar archive without first writing a temporary file. You can also read an entry from an archive and write the data directly to a socket. If you want to read/write entries to disk, there are convenience functions to make this especially easy.
\item Note\+: The \char`\"{}pax interchange format\char`\"{} is a POSIX standard extended tar format that should be used when the older {\itshape ustar} format is not appropriate. It has many advantages over other tar formats (including the legacy GNU tar format) and is widely supported by current tar implementations. 
\end{DoxyItemize}