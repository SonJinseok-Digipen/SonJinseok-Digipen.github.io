\href{https://travis-ci.org/keroserene/snowflake}{\texttt{ }}

Pluggable Transport using Web\+RTC, inspired by Flashproxy.

{\bfseries{\mbox{\hyperlink{struct_table}{Table}} of Contents}}


\begin{DoxyItemize}
\item Structure of this Repository
\item \mbox{\hyperlink{index_usage}{Usage}}
\begin{DoxyItemize}
\item Using Snowflake with Tor
\item Running a Snowflake Proxy
\item Using the Snowflake Library with Other Applications
\end{DoxyItemize}
\item Test Environment
\item FAQ
\item More info and links
\end{DoxyItemize}\hypertarget{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1848}{}\doxysubsection{Structure of this Repository}\label{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1848}

\begin{DoxyItemize}
\item {\ttfamily broker/} contains code for the Snowflake broker
\item {\ttfamily doc/} contains Snowflake documentation and manpages
\item {\ttfamily client/} contains the Tor pluggable transport client and client library code
\item {\ttfamily common/} contains generic libraries used by multiple pieces of Snowflake
\item {\ttfamily proxy/} contains code for the Go standalone Snowflake proxy
\item {\ttfamily probetest/} contains code for a NAT probetesting service
\item {\ttfamily server/} contains the Tor pluggable transport server and server library code
\end{DoxyItemize}\hypertarget{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1849}{}\doxysubsection{Usage}\label{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1849}
Snowflake is currently deployed as a pluggable transport for Tor.\hypertarget{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1850}{}\doxysubsubsection{Using Snowflake with Tor}\label{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1850}
To use the Snowflake client with Tor, you will need to add the appropriate {\ttfamily Bridge} and {\ttfamily Client\+Transport\+Plugin} lines to your \href{https://2019.www.torproject.org/docs/tor-manual.html.en}{\texttt{ torrc}} file. See the \mbox{[}client README\mbox{]}(client) for more information on building and running the Snowflake client.\hypertarget{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1851}{}\doxysubsubsection{Running a Snowflake Proxy}\label{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1851}
You can contribute to Snowflake by running a Snowflake proxy. We have the option to run a proxy in your browser or as a standalone Go program. See our \href{https://community.torproject.org/relay/setup/snowflake/}{\texttt{ community documentation}} for more details.\hypertarget{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1852}{}\doxysubsubsection{Using the Snowflake Library with Other Applications}\label{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1852}
Snowflake can be used as a Go API, and adheres to the \mbox{[}v2.\+1 pluggable transports specification\mbox{]}(). For more information on using the Snowflake Go library, see the Snowflake library documentation.\hypertarget{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1853}{}\doxysubsection{Test Environment}\label{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1853}
There is a Docker-\/based test environment at \href{https://github.com/cohosh/snowbox}{\texttt{ https\+://github.\+com/cohosh/snowbox}}.\hypertarget{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1854}{}\doxysubsection{FAQ}\label{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1854}
{\bfseries{Q\+: How does it work?}}

In the Tor use-\/case\+:


\begin{DoxyEnumerate}
\item Volunteers visit websites which host the \char`\"{}snowflake\char`\"{} proxy. (just like flashproxy)
\item Tor clients automatically find available browser proxies via the Broker (the domain fronted signaling channel).
\item Tor client and browser proxy establish a Web\+RTC peer connection.
\item Proxy connects to some relay.
\item Tor occurs.
\end{DoxyEnumerate}

More detailed information about how clients, snowflake proxies, and the Broker fit together on the way...

{\bfseries{Q\+: What are the benefits of this PT compared with other PTs?}}

Snowflake combines the advantages of flashproxy and meek. Primarily\+:


\begin{DoxyItemize}
\item It has the convenience of Meek, but can support magnitudes more users with negligible CDN costs. (Domain fronting is only used for brief signalling / NAT-\/piercing to setup the P2P Web\+RTC Data\+Channels which handle the actual traffic.)
\item Arbitrarily high numbers of volunteer proxies are possible like in flashproxy, but NATs are no longer a usability barrier -\/ no need for manual port forwarding!
\end{DoxyItemize}

{\bfseries{Q\+: Why is this called Snowflake?}}

It utilizes the \char`\"{}\+ICE\char`\"{} negotiation via Web\+RTC, and also involves a great abundance of ephemeral and short-\/lived (and special!) volunteer proxies...\hypertarget{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1855}{}\doxysubsection{More info and links}\label{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1855}
We have more documentation in the \href{https://gitlab.torproject.org/tpo/anti-censorship/pluggable-transports/snowflake/-/wikis/home}{\texttt{ Snowflake wiki}} and at \href{https://snowflake.torproject.org/}{\texttt{ https\+://snowflake.\+torproject.\+org/}}.\hypertarget{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1856}{}\doxyparagraph{– Android AAR Reproducible Build Setup  –}\label{md__tor__browser__browser__tor_browser__docs_snowflake__r_e_a_d_m_e_autotoc_md1856}
Using {\ttfamily gomobile} it is possible to build snowflake as shared libraries for all the architectures supported by Android. This is in the \+\_\+.\+gitlab-\/ci.\+yml\+\_\+, which runs in Git\+Lab CI. It is also possible to run this setup in a Virtual Machine using \href{https://www.vagrantup.com/}{\texttt{ vagrant}}. Just run {\ttfamily vagrant up} and it will create and provision the VM. {\ttfamily vagrant ssh} to get into the VM to use it as a development environment. 