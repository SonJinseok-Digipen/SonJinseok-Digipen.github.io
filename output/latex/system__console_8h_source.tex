\hypertarget{system__console_8h_source}{}\doxysection{system\+\_\+console.\+h}
\label{system__console_8h_source}\index{AseSprite/aseprite/laf/base/system\_console.h@{AseSprite/aseprite/laf/base/system\_console.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ LAF\ Base\ Library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Copyright\ (c)\ 2001-\/2016\ David\ Capello}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ This\ file\ is\ released\ under\ the\ terms\ of\ the\ MIT\ license.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Read\ LICENSE.txt\ for\ more\ information.}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#ifndef\ BASE\_SYSTEM\_CONSOLE\_H\_INCLUDED}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#define\ BASE\_SYSTEM\_CONSOLE\_H\_INCLUDED}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{namespace\ }base\ \{}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{comment}{//\ This\ class\ is\ needed\ only\ for\ Windows\ platform.}}
\DoxyCodeLine{00014\ \textcolor{comment}{//}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ Some\ background:\ This\ app\ is\ linked\ with\ /subsystem:windows\ flag,}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ which\ is\ the\ only\ way\ to\ avoid\ a\ console\ when\ the\ program\ is}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ double-\/clicked\ from\ Windows\ Explorer.\ The\ problem\ with\ this\ is\ if}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ the\ user\ starts\ the\ program\ from\ cmd.exe,\ the\ output\ is\ not\ shown}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ anywhere.\ Generally\ there\ is\ one\ simple\ solution\ for\ console\ only}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ apps:\ The\ /subsystem:console\ flag,\ but\ it\ shows\ a\ console\ when\ the}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ program\ is\ started\ from\ Windows\ Explorer\ (anyway\ we\ could\ call}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ FreeConsole(),\ but\ the\ console\ is\ visible\ some\ milliseconds\ which}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ is\ not\ an\ expected\ behavior\ by\ normal\ Windows\ user).}}
\DoxyCodeLine{00024\ \textcolor{comment}{//}}
\DoxyCodeLine{00025\ \textcolor{comment}{//\ So\ this\ class\ tries\ to\ make\ some\ adjustments\ for\ apps\ linked\ with}}
\DoxyCodeLine{00026\ \textcolor{comment}{//\ /subsystem:windows\ but\ that\ want\ to\ display\ some\ text\ in\ the}}
\DoxyCodeLine{00027\ \textcolor{comment}{//\ console\ in\ certain\ cases\ (e.g.\ when\ -\/-\/help\ flag\ is\ specified).}}
\DoxyCodeLine{00028\ \textcolor{comment}{//}}
\DoxyCodeLine{00029\ \textcolor{comment}{//\ Basically\ it\ tries\ to\ redirect\ stdin/stdout\ handles\ so\ the\ end-\/user}}
\DoxyCodeLine{00030\ \textcolor{comment}{//\ can\ have\ the\ best\ of\ both\ worlds\ on\ Windows:}}
\DoxyCodeLine{00031\ \textcolor{comment}{//\ 1)\ If\ the\ app\ is\ executed\ with\ double-\/click,\ a\ console\ isn't\ shown.}}
\DoxyCodeLine{00032\ \textcolor{comment}{//\ \ \ \ (Because\ the\ process\ was/should\ be\ linked\ with\ /subsystem:windows\ flag.)}}
\DoxyCodeLine{00033\ \textcolor{comment}{//\ 2)\ If\ the\ app\ is\ executed\ from\ a\ process\ like\ cmd.exe,\ the\ output\ is}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ \ \ \ redirected\ to\ the\ cmd.exe\ console.}}
\DoxyCodeLine{00035\ \textcolor{comment}{//}}
\DoxyCodeLine{00036\ \textcolor{comment}{//\ In\ the\ best\ case,\ the\ application\ should\ work\ as\ a\ Unix-\/like}}
\DoxyCodeLine{00037\ \textcolor{comment}{//\ program,\ blocking\ the\ cmd.exe\ in\ case\ 2,\ but\ it\ cannot\ be}}
\DoxyCodeLine{00038\ \textcolor{comment}{//\ possible.\ The\ output/input\ is\ deattached\ as\ soon\ as\ cmd.exe\ knows}}
\DoxyCodeLine{00039\ \textcolor{comment}{//\ that\ the\ program\ was\ linked\ with\ /subsystem:windows.}}
\DoxyCodeLine{00040\ \textcolor{comment}{//}}
\DoxyCodeLine{00041\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbase_1_1_system_console}{SystemConsole}}}
\DoxyCodeLine{00042\ \{}
\DoxyCodeLine{00043\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{classbase_1_1_system_console}{SystemConsole}}();}
\DoxyCodeLine{00045\ \ \ \mbox{\hyperlink{classbase_1_1_system_console}{\string~SystemConsole}}();}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \textcolor{comment}{//\ On\ Windows\ it\ creates\ a\ console\ so\ the\ user\ can\ start\ typing}}
\DoxyCodeLine{00048\ \ \ \textcolor{comment}{//\ commands\ on\ it.\ It's\ necessary\ because\ we\ link\ the\ program\ with}}
\DoxyCodeLine{00049\ \ \ \textcolor{comment}{//\ /subsystem:windows\ flag\ (not\ /subsystem:console),\ so\ the}}
\DoxyCodeLine{00050\ \ \ \textcolor{comment}{//\ process's\ stdin\ starts\ deattached\ from\ the\ parent\ process's}}
\DoxyCodeLine{00051\ \ \ \textcolor{comment}{//\ console.\ (On\ Unix-\/like\ systems\ it\ does\ nothing.)}}
\DoxyCodeLine{00052\ \ \ \textcolor{keywordtype}{void}\ prepareShell();}
\DoxyCodeLine{00053\ \};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \}\ \textcolor{comment}{//\ namespace\ base}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
