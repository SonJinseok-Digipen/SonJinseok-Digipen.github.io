\hypertarget{shape-format_8hh_source}{}\doxysection{shape-\/format.hh}
\label{shape-format_8hh_source}\index{AseSprite/aseprite/third\_party/harfbuzz/util/shape-\/format.hh@{AseSprite/aseprite/third\_party/harfbuzz/util/shape-\/format.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ Copyright\ Â©\ 2011\ \ Google,\ Inc.}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ \ This\ is\ part\ of\ HarfBuzz,\ a\ text\ shaping\ library.}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ Permission\ is\ hereby\ granted,\ without\ written\ agreement\ and\ without}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ license\ or\ royalty\ fees,\ to\ use,\ copy,\ modify,\ and\ distribute\ this}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ software\ and\ its\ documentation\ for\ any\ purpose,\ provided\ that\ the}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ above\ copyright\ notice\ and\ the\ following\ two\ paragraphs\ appear\ in}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ all\ copies\ of\ this\ software.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ IN\ NO\ EVENT\ SHALL\ THE\ COPYRIGHT\ HOLDER\ BE\ LIABLE\ TO\ ANY\ PARTY\ FOR}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ DIRECT,\ INDIRECT,\ SPECIAL,\ INCIDENTAL,\ OR\ CONSEQUENTIAL\ DAMAGES}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ ARISING\ OUT\ OF\ THE\ USE\ OF\ THIS\ SOFTWARE\ AND\ ITS\ DOCUMENTATION,\ EVEN}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ IF\ THE\ COPYRIGHT\ HOLDER\ HAS\ BEEN\ ADVISED\ OF\ THE\ POSSIBILITY\ OF\ SUCH}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ DAMAGE.}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ THE\ COPYRIGHT\ HOLDER\ SPECIFICALLY\ DISCLAIMS\ ANY\ WARRANTIES,\ INCLUDING,}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ BUT\ NOT\ LIMITED\ TO,\ THE\ IMPLIED\ WARRANTIES\ OF\ MERCHANTABILITY\ AND}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ THE\ SOFTWARE\ PROVIDED\ HEREUNDER\ IS}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ ON\ AN\ "{}AS\ IS"{}\ BASIS,\ AND\ THE\ COPYRIGHT\ HOLDER\ HAS\ NO\ OBLIGATION\ TO}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ PROVIDE\ MAINTENANCE,\ SUPPORT,\ UPDATES,\ ENHANCEMENTS,\ OR\ MODIFICATIONS.}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *\ Google\ Author(s):\ Behdad\ Esfahbod}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#ifndef\ SHAPE\_FORMAT\_OPTIONS\_HH}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#define\ SHAPE\_FORMAT\_OPTIONS\_HH}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}options.hh"{}}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structshape__format__options__t}{shape\_format\_options\_t}}}
\DoxyCodeLine{00034\ \{}
\DoxyCodeLine{00035\ \ \ \textcolor{keywordtype}{void}\ add\_options\ (\mbox{\hyperlink{structoption__parser__t}{option\_parser\_t}}\ *parser);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \textcolor{keywordtype}{void}\ serialize\ (\mbox{\hyperlink{structhb__buffer__t}{hb\_buffer\_t}}\ \ *\mbox{\hyperlink{classbuffer}{buffer}},}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhb__font__t}{hb\_font\_t}}\ \ \ \ *font,}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ hb\_buffer\_serialize\_format\_t\ format,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ hb\_buffer\_serialize\_flags\_t\ flags,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ \ *gs);}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordtype}{void}\ serialize\_line\_no\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ line\_no,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ \ *gs);}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordtype}{void}\ serialize\_buffer\_of\_text\ (\mbox{\hyperlink{structhb__buffer__t}{hb\_buffer\_t}}\ \ *\mbox{\hyperlink{classbuffer}{buffer}},}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ line\_no,}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ \ \ *text,}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ text\_len,}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhb__font__t}{hb\_font\_t}}\ \ \ \ *font,}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ \ *gs);}
\DoxyCodeLine{00050\ \ \ \textcolor{keywordtype}{void}\ serialize\_message\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ line\_no,}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ \ \ *type,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ \ \ *msg,}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ \ *gs);}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordtype}{void}\ serialize\_buffer\_of\_glyphs\ (\mbox{\hyperlink{structhb__buffer__t}{hb\_buffer\_t}}\ \ *\mbox{\hyperlink{classbuffer}{buffer}},}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ line\_no,}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ \ \ *text,}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ text\_len,}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhb__font__t}{hb\_font\_t}}\ \ \ \ *font,}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hb\_buffer\_serialize\_format\_t\ output\_format,}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hb\_buffer\_serialize\_flags\_t\ format\_flags,}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ \ *gs);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ hb\_bool\_t\ show\_glyph\_names\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00065\ \ \ hb\_bool\_t\ show\_positions\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00066\ \ \ hb\_bool\_t\ show\_advances\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00067\ \ \ hb\_bool\_t\ show\_clusters\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00068\ \ \ hb\_bool\_t\ show\_text\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00069\ \ \ hb\_bool\_t\ show\_unicode\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00070\ \ \ hb\_bool\_t\ show\_line\_num\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00071\ \ \ hb\_bool\_t\ show\_extents\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00072\ \ \ hb\_bool\_t\ show\_flags\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00073\ \ \ hb\_bool\_t\ trace\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00074\ \};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{static}\ gboolean}
\DoxyCodeLine{00078\ parse\_verbose\ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name\ G\_GNUC\_UNUSED,}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *arg\ G\_GNUC\_UNUSED,}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ gpointer\ \ \ \ \mbox{\hyperlink{structdata}{data}}\ G\_GNUC\_UNUSED,}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ GError\ \ \ \ **error\ G\_GNUC\_UNUSED)}
\DoxyCodeLine{00082\ \{}
\DoxyCodeLine{00083\ \ \ \mbox{\hyperlink{structshape__format__options__t}{shape\_format\_options\_t}}\ *format\_opts\ =\ (\mbox{\hyperlink{structshape__format__options__t}{shape\_format\_options\_t}}\ *)\ \mbox{\hyperlink{structdata}{data}};}
\DoxyCodeLine{00084\ \ \ format\_opts-\/>show\_text\ =\ format\_opts-\/>show\_unicode\ =\ format\_opts-\/>show\_line\_num\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00085\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00086\ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{keyword}{static}\ gboolean}
\DoxyCodeLine{00089\ parse\_ned\ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name\ G\_GNUC\_UNUSED,}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *arg\ G\_GNUC\_UNUSED,}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ gpointer\ \ \ \ \mbox{\hyperlink{structdata}{data}}\ G\_GNUC\_UNUSED,}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ GError\ \ \ \ **error\ G\_GNUC\_UNUSED)}
\DoxyCodeLine{00093\ \{}
\DoxyCodeLine{00094\ \ \ \mbox{\hyperlink{structshape__format__options__t}{shape\_format\_options\_t}}\ *format\_opts\ =\ (\mbox{\hyperlink{structshape__format__options__t}{shape\_format\_options\_t}}\ *)\ \mbox{\hyperlink{structdata}{data}};}
\DoxyCodeLine{00095\ \ \ format\_opts-\/>show\_clusters\ =\ format\_opts-\/>show\_advances\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00096\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00097\ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00100\ shape\_format\_options\_t::serialize\ (\mbox{\hyperlink{structhb__buffer__t}{hb\_buffer\_t}}\ *\mbox{\hyperlink{classbuffer}{buffer}},}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhb__font__t}{hb\_font\_t}}\ \ \ *font,}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hb\_buffer\_serialize\_format\_t\ output\_format,}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hb\_buffer\_serialize\_flags\_t\ flags,}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ *gs)}
\DoxyCodeLine{00105\ \{}
\DoxyCodeLine{00106\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ num\_glyphs\ =\ hb\_buffer\_get\_length\ (\mbox{\hyperlink{classbuffer}{buffer}});}
\DoxyCodeLine{00107\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ start\ =\ 0;}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \textcolor{keywordflow}{while}\ (start\ <\ num\_glyphs)}
\DoxyCodeLine{00110\ \ \ \{}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{structbuf}{buf}}[32768];}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ consumed;}
\DoxyCodeLine{00113\ \ \ \ \ start\ +=\ hb\_buffer\_serialize\ (\mbox{\hyperlink{classbuffer}{buffer}},\ start,\ num\_glyphs,}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}},\ \textcolor{keyword}{sizeof}\ (\mbox{\hyperlink{structbuf}{buf}}),\ \&consumed,}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ font,\ output\_format,\ flags);}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordflow}{if}\ (!consumed)}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00118\ \ \ \ \ g\_string\_append\ (gs,\ \mbox{\hyperlink{structbuf}{buf}});}
\DoxyCodeLine{00119\ \ \ \}}
\DoxyCodeLine{00120\ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00123\ shape\_format\_options\_t::serialize\_line\_no\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ line\_no,}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ \ *gs)}
\DoxyCodeLine{00125\ \{}
\DoxyCodeLine{00126\ \ \ \textcolor{keywordflow}{if}\ (show\_line\_num)}
\DoxyCodeLine{00127\ \ \ \ \ g\_string\_append\_printf\ (gs,\ \textcolor{stringliteral}{"{}\%d:\ "{}},\ line\_no);}
\DoxyCodeLine{00128\ \}}
\DoxyCodeLine{00129\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00130\ shape\_format\_options\_t::serialize\_buffer\_of\_text\ (\mbox{\hyperlink{structhb__buffer__t}{hb\_buffer\_t}}\ \ *\mbox{\hyperlink{classbuffer}{buffer}},}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ line\_no,}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ \ \ *text,}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ text\_len,}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhb__font__t}{hb\_font\_t}}\ \ \ \ *font,}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ \ *gs)}
\DoxyCodeLine{00136\ \{}
\DoxyCodeLine{00137\ \ \ \textcolor{keywordflow}{if}\ (show\_text)}
\DoxyCodeLine{00138\ \ \ \{}
\DoxyCodeLine{00139\ \ \ \ \ serialize\_line\_no\ (line\_no,\ gs);}
\DoxyCodeLine{00140\ \ \ \ \ g\_string\_append\_c\ (gs,\ \textcolor{charliteral}{'('});}
\DoxyCodeLine{00141\ \ \ \ \ g\_string\_append\_len\ (gs,\ text,\ text\_len);}
\DoxyCodeLine{00142\ \ \ \ \ g\_string\_append\_c\ (gs,\ \textcolor{charliteral}{')'});}
\DoxyCodeLine{00143\ \ \ \ \ g\_string\_append\_c\ (gs,\ \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{00144\ \ \ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \textcolor{keywordflow}{if}\ (show\_unicode)}
\DoxyCodeLine{00147\ \ \ \{}
\DoxyCodeLine{00148\ \ \ \ \ serialize\_line\_no\ (line\_no,\ gs);}
\DoxyCodeLine{00149\ \ \ \ \ serialize\ (\mbox{\hyperlink{classbuffer}{buffer}},\ font,\ HB\_BUFFER\_SERIALIZE\_FORMAT\_TEXT,\ HB\_BUFFER\_SERIALIZE\_FLAG\_DEFAULT,\ gs);}
\DoxyCodeLine{00150\ \ \ \ \ g\_string\_append\_c\ (gs,\ \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{00151\ \ \ \}}
\DoxyCodeLine{00152\ \}}
\DoxyCodeLine{00153\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00154\ shape\_format\_options\_t::serialize\_message\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ line\_no,}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ \ \ *type,}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ \ \ *msg,}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ \ *gs)}
\DoxyCodeLine{00158\ \{}
\DoxyCodeLine{00159\ \ \ serialize\_line\_no\ (line\_no,\ gs);}
\DoxyCodeLine{00160\ \ \ g\_string\_append\_printf\ (gs,\ \textcolor{stringliteral}{"{}\%s:\ \%s"{}},\ type,\ msg);}
\DoxyCodeLine{00161\ \ \ g\_string\_append\_c\ (gs,\ \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{00162\ \}}
\DoxyCodeLine{00163\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00164\ shape\_format\_options\_t::serialize\_buffer\_of\_glyphs\ (\mbox{\hyperlink{structhb__buffer__t}{hb\_buffer\_t}}\ \ *\mbox{\hyperlink{classbuffer}{buffer}},}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ line\_no,}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ \ \ *text,}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ text\_len,}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structhb__font__t}{hb\_font\_t}}\ \ \ \ *font,}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hb\_buffer\_serialize\_format\_t\ output\_format,}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hb\_buffer\_serialize\_flags\_t\ format\_flags,}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GString\ \ \ \ \ \ *gs)}
\DoxyCodeLine{00172\ \{}
\DoxyCodeLine{00173\ \ \ serialize\_line\_no\ (line\_no,\ gs);}
\DoxyCodeLine{00174\ \ \ serialize\ (\mbox{\hyperlink{classbuffer}{buffer}},\ font,\ output\_format,\ format\_flags,\ gs);}
\DoxyCodeLine{00175\ \ \ g\_string\_append\_c\ (gs,\ \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{00176\ \}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00180\ shape\_format\_options\_t::add\_options\ (\mbox{\hyperlink{structoption__parser__t}{option\_parser\_t}}\ *parser)}
\DoxyCodeLine{00181\ \{}
\DoxyCodeLine{00182\ \ \ GOptionEntry\ entries[]\ =}
\DoxyCodeLine{00183\ \ \ \{}
\DoxyCodeLine{00184\ \ \ \ \ \{\textcolor{stringliteral}{"{}show-\/text"{}},\ \ \ 0,\ 0,\ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>show\_text,\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Prefix\ each\ line\ of\ output\ with\ its\ corresponding\ input\ text"{}},\ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00185\ \ \ \ \ \{\textcolor{stringliteral}{"{}show-\/unicode"{}},\ \ \ \ 0,\ 0,\ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>show\_unicode,\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Prefix\ each\ line\ of\ output\ with\ its\ corresponding\ input\ codepoint(s)"{}},\ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00186\ \ \ \ \ \{\textcolor{stringliteral}{"{}show-\/line-\/num"{}},\ \ \ 0,\ 0,\ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>show\_line\_num,\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Prefix\ each\ line\ of\ output\ with\ its\ corresponding\ input\ line\ number"{}},\ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00187\ \ \ \ \ \{\textcolor{stringliteral}{"{}verbose"{}},\ \ \ \ \ \ \ \textcolor{charliteral}{'v'},\ G\_OPTION\_FLAG\_NO\_ARG,}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ G\_OPTION\_ARG\_CALLBACK,\ \ \ \ (gpointer)\ \&parse\_verbose,\ \ \textcolor{stringliteral}{"{}Prefix\ each\ line\ of\ output\ with\ all\ of\ the\ above"{}},\ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00189\ \ \ \ \ \{\textcolor{stringliteral}{"{}no-\/glyph-\/names"{}},\ \ 0,\ G\_OPTION\_FLAG\_REVERSE,}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>show\_glyph\_names,\ \ \ \ \textcolor{stringliteral}{"{}Output\ glyph\ indices\ instead\ of\ names"{}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00191\ \ \ \ \ \{\textcolor{stringliteral}{"{}no-\/positions"{}},\ \ \ \ 0,\ G\_OPTION\_FLAG\_REVERSE,}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>show\_positions,\ \ \ \ \ \ \textcolor{stringliteral}{"{}Do\ not\ output\ glyph\ positions"{}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00193\ \ \ \ \ \{\textcolor{stringliteral}{"{}no-\/advances"{}},\ 0,\ G\_OPTION\_FLAG\_REVERSE,}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>show\_advances,\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Do\ not\ output\ glyph\ advances"{}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00195\ \ \ \ \ \{\textcolor{stringliteral}{"{}no-\/clusters"{}},\ 0,\ G\_OPTION\_FLAG\_REVERSE,}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>show\_clusters,\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Do\ not\ output\ cluster\ indices"{}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00197\ \ \ \ \ \{\textcolor{stringliteral}{"{}show-\/extents"{}},\ \ \ \ 0,\ 0,\ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>show\_extents,\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Output\ glyph\ extents"{}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00198\ \ \ \ \ \{\textcolor{stringliteral}{"{}show-\/flags"{}},\ \ 0,\ 0,\ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>show\_flags,\ \ \ \ \ \ \textcolor{stringliteral}{"{}Output\ glyph\ flags"{}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00199\ \ \ \ \ \{\textcolor{stringliteral}{"{}ned"{}},\ \ \ \ \ \ \ \textcolor{charliteral}{'v'},\ G\_OPTION\_FLAG\_NO\_ARG,}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ G\_OPTION\_ARG\_CALLBACK,\ \ \ \ (gpointer)\ \&parse\_ned,\ \ \ \ \ \ \textcolor{stringliteral}{"{}No\ Extra\ Data;\ Do\ not\ output\ clusters\ or\ advances"{}},\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00201\ \ \ \ \ \{\textcolor{stringliteral}{"{}trace"{}},\ \ \ \ \ \ \ \ \ \textcolor{charliteral}{'V'},\ 0,\ G\_OPTION\_ARG\_NONE,\ \ \ \ \&this-\/>trace,\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Output\ interim\ shaping\ results"{}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\},}
\DoxyCodeLine{00202\ \ \ \ \ \{\textcolor{keyword}{nullptr}\}}
\DoxyCodeLine{00203\ \ \ \};}
\DoxyCodeLine{00204\ \ \ parser-\/>add\_group\ (entries,}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}output-\/syntax"{}},}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Output\ syntax:\(\backslash\)n"{}}}
\DoxyCodeLine{00207\ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ text:\ [<glyph\ name\ or\ index>=<glyph\ cluster\ index\ within\ input>@<horizontal\ displacement>,<vertical\ displacement>+<horizontal\ advance>,<vertical\ advance>|...]\(\backslash\)n"{}}}
\DoxyCodeLine{00208\ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \ \ json:\ [\{\(\backslash\)"{}g\(\backslash\)"{}:\ <glyph\ name\ or\ index>,\ \(\backslash\)"{}ax\(\backslash\)"{}:\ <horizontal\ advance>,\ \(\backslash\)"{}ay\(\backslash\)"{}:\ <vertical\ advance>,\ \(\backslash\)"{}dx\(\backslash\)"{}:\ <horizontal\ displacement>,\ \(\backslash\)"{}dy\(\backslash\)"{}:\ <vertical\ displacement>,\ \(\backslash\)"{}cl\(\backslash\)"{}:\ <glyph\ cluster\ index\ within\ input>\},\ ...]\(\backslash\)n"{}}}
\DoxyCodeLine{00209\ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)nOutput\ syntax\ options:"{}},}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Options\ for\ the\ syntax\ of\ the\ output"{}},}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{this});}
\DoxyCodeLine{00212\ \}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
