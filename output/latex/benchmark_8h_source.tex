\hypertarget{benchmark_8h_source}{}\doxysection{benchmark.\+h}
\label{benchmark_8h_source}\index{AseSprite/aseprite/third\_party/benchmark/include/benchmark/benchmark.h@{AseSprite/aseprite/third\_party/benchmark/include/benchmark/benchmark.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2015\ Google\ Inc.\ All\ rights\ reserved.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{comment}{//\ Support\ for\ registering\ benchmarks\ for\ functions.}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{/*\ Example\ usage:}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ Define\ a\ function\ that\ executes\ the\ code\ to\ be\ measured\ a}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ specified\ number\ of\ times:}}
\DoxyCodeLine{00020\ \textcolor{comment}{static\ void\ BM\_StringCreation(benchmark::State\&\ state)\ \{}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ \ for\ (auto\ \_\ :\ state)}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ \ \ \ std::string\ empty\_string;}}
\DoxyCodeLine{00023\ \textcolor{comment}{\}}}
\DoxyCodeLine{00024\ \textcolor{comment}{}}
\DoxyCodeLine{00025\ \textcolor{comment}{//\ Register\ the\ function\ as\ a\ benchmark}}
\DoxyCodeLine{00026\ \textcolor{comment}{BENCHMARK(BM\_StringCreation);}}
\DoxyCodeLine{00027\ \textcolor{comment}{}}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ Define\ another\ benchmark}}
\DoxyCodeLine{00029\ \textcolor{comment}{static\ void\ BM\_StringCopy(benchmark::State\&\ state)\ \{}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ \ std::string\ x\ =\ "{}hello"{};}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ \ for\ (auto\ \_\ :\ state)}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ \ \ \ std::string\ copy(x);}}
\DoxyCodeLine{00033\ \textcolor{comment}{\}}}
\DoxyCodeLine{00034\ \textcolor{comment}{BENCHMARK(BM\_StringCopy);}}
\DoxyCodeLine{00035\ \textcolor{comment}{}}
\DoxyCodeLine{00036\ \textcolor{comment}{//\ Augment\ the\ main()\ program\ to\ invoke\ benchmarks\ if\ specified}}
\DoxyCodeLine{00037\ \textcolor{comment}{//\ via\ the\ -\/-\/benchmarks\ command\ line\ flag.\ \ E.g.,}}
\DoxyCodeLine{00038\ \textcolor{comment}{//\ \ \ \ \ \ \ my\_unittest\ -\/-\/benchmark\_filter=all}}
\DoxyCodeLine{00039\ \textcolor{comment}{//\ \ \ \ \ \ \ my\_unittest\ -\/-\/benchmark\_filter=BM\_StringCreation}}
\DoxyCodeLine{00040\ \textcolor{comment}{//\ \ \ \ \ \ \ my\_unittest\ -\/-\/benchmark\_filter=String}}
\DoxyCodeLine{00041\ \textcolor{comment}{//\ \ \ \ \ \ \ my\_unittest\ -\/-\/benchmark\_filter='Copy|Creation'}}
\DoxyCodeLine{00042\ \textcolor{comment}{int\ main(int\ argc,\ char**\ argv)\ \{}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ \ benchmark::Initialize(\&argc,\ argv);}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ \ benchmark::RunSpecifiedBenchmarks();}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ \ return\ 0;}}
\DoxyCodeLine{00046\ \textcolor{comment}{\}}}
\DoxyCodeLine{00047\ \textcolor{comment}{}}
\DoxyCodeLine{00048\ \textcolor{comment}{//\ Sometimes\ a\ family\ of\ microbenchmarks\ can\ be\ implemented\ with}}
\DoxyCodeLine{00049\ \textcolor{comment}{//\ just\ one\ routine\ that\ takes\ an\ extra\ argument\ to\ specify\ which}}
\DoxyCodeLine{00050\ \textcolor{comment}{//\ one\ of\ the\ family\ of\ benchmarks\ to\ run.\ \ For\ example,\ the\ following}}
\DoxyCodeLine{00051\ \textcolor{comment}{//\ code\ defines\ a\ family\ of\ microbenchmarks\ for\ measuring\ the\ speed}}
\DoxyCodeLine{00052\ \textcolor{comment}{//\ of\ memcpy()\ calls\ of\ different\ lengths:}}
\DoxyCodeLine{00053\ \textcolor{comment}{}}
\DoxyCodeLine{00054\ \textcolor{comment}{static\ void\ BM\_memcpy(benchmark::State\&\ state)\ \{}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ \ char*\ src\ =\ new\ char[state.range(0)];\ char*\ dst\ =\ new\ char[state.range(0)];}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ \ memset(src,\ 'x',\ state.range(0));}}
\DoxyCodeLine{00057\ \textcolor{comment}{\ \ for\ (auto\ \_\ :\ state)}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ \ \ \ memcpy(dst,\ src,\ state.range(0));}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ \ state.SetBytesProcessed(int64\_t(state.iterations())\ *}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int64\_t(state.range(0)));}}
\DoxyCodeLine{00061\ \textcolor{comment}{\ \ delete[]\ src;\ delete[]\ dst;}}
\DoxyCodeLine{00062\ \textcolor{comment}{\}}}
\DoxyCodeLine{00063\ \textcolor{comment}{BENCHMARK(BM\_memcpy)-\/>Arg(8)-\/>Arg(64)-\/>Arg(512)-\/>Arg(1<<10)-\/>Arg(8<<10);}}
\DoxyCodeLine{00064\ \textcolor{comment}{}}
\DoxyCodeLine{00065\ \textcolor{comment}{//\ The\ preceding\ code\ is\ quite\ repetitive,\ and\ can\ be\ replaced\ with\ the}}
\DoxyCodeLine{00066\ \textcolor{comment}{//\ following\ short-\/hand.\ \ The\ following\ invocation\ will\ pick\ a\ few}}
\DoxyCodeLine{00067\ \textcolor{comment}{//\ appropriate\ arguments\ in\ the\ specified\ range\ and\ will\ generate\ a}}
\DoxyCodeLine{00068\ \textcolor{comment}{//\ microbenchmark\ for\ each\ such\ argument.}}
\DoxyCodeLine{00069\ \textcolor{comment}{BENCHMARK(BM\_memcpy)-\/>Range(8,\ 8<<10);}}
\DoxyCodeLine{00070\ \textcolor{comment}{}}
\DoxyCodeLine{00071\ \textcolor{comment}{//\ You\ might\ have\ a\ microbenchmark\ that\ depends\ on\ two\ inputs.\ \ For}}
\DoxyCodeLine{00072\ \textcolor{comment}{//\ example,\ the\ following\ code\ defines\ a\ family\ of\ microbenchmarks\ for}}
\DoxyCodeLine{00073\ \textcolor{comment}{//\ measuring\ the\ speed\ of\ set\ insertion.}}
\DoxyCodeLine{00074\ \textcolor{comment}{static\ void\ BM\_SetInsert(benchmark::State\&\ state)\ \{}}
\DoxyCodeLine{00075\ \textcolor{comment}{\ \ set<int>\ data;}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ \ for\ (auto\ \_\ :\ state)\ \{}}
\DoxyCodeLine{00077\ \textcolor{comment}{\ \ \ \ state.PauseTiming();}}
\DoxyCodeLine{00078\ \textcolor{comment}{\ \ \ \ data\ =\ ConstructRandomSet(state.range(0));}}
\DoxyCodeLine{00079\ \textcolor{comment}{\ \ \ \ state.ResumeTiming();}}
\DoxyCodeLine{00080\ \textcolor{comment}{\ \ \ \ for\ (int\ j\ =\ 0;\ j\ <\ state.range(1);\ ++j)}}
\DoxyCodeLine{00081\ \textcolor{comment}{\ \ \ \ \ \ data.insert(RandomNumber());}}
\DoxyCodeLine{00082\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00083\ \textcolor{comment}{\}}}
\DoxyCodeLine{00084\ \textcolor{comment}{BENCHMARK(BM\_SetInsert)}}
\DoxyCodeLine{00085\ \textcolor{comment}{\ \ \ -\/>Args(\{1<<10,\ 128\})}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ \ \ -\/>Args(\{2<<10,\ 128\})}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ \ \ -\/>Args(\{4<<10,\ 128\})}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ \ \ -\/>Args(\{8<<10,\ 128\})}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ \ \ -\/>Args(\{1<<10,\ 512\})}}
\DoxyCodeLine{00090\ \textcolor{comment}{\ \ \ -\/>Args(\{2<<10,\ 512\})}}
\DoxyCodeLine{00091\ \textcolor{comment}{\ \ \ -\/>Args(\{4<<10,\ 512\})}}
\DoxyCodeLine{00092\ \textcolor{comment}{\ \ \ -\/>Args(\{8<<10,\ 512\});}}
\DoxyCodeLine{00093\ \textcolor{comment}{}}
\DoxyCodeLine{00094\ \textcolor{comment}{//\ The\ preceding\ code\ is\ quite\ repetitive,\ and\ can\ be\ replaced\ with}}
\DoxyCodeLine{00095\ \textcolor{comment}{//\ the\ following\ short-\/hand.\ \ The\ following\ macro\ will\ pick\ a\ few}}
\DoxyCodeLine{00096\ \textcolor{comment}{//\ appropriate\ arguments\ in\ the\ product\ of\ the\ two\ specified\ ranges}}
\DoxyCodeLine{00097\ \textcolor{comment}{//\ and\ will\ generate\ a\ microbenchmark\ for\ each\ such\ pair.}}
\DoxyCodeLine{00098\ \textcolor{comment}{BENCHMARK(BM\_SetInsert)-\/>Ranges(\{\{1<<10,\ 8<<10\},\ \{128,\ 512\}\});}}
\DoxyCodeLine{00099\ \textcolor{comment}{}}
\DoxyCodeLine{00100\ \textcolor{comment}{//\ For\ more\ complex\ patterns\ of\ inputs,\ passing\ a\ custom\ function}}
\DoxyCodeLine{00101\ \textcolor{comment}{//\ to\ Apply\ allows\ programmatic\ specification\ of\ an}}
\DoxyCodeLine{00102\ \textcolor{comment}{//\ arbitrary\ set\ of\ arguments\ to\ run\ the\ microbenchmark\ on.}}
\DoxyCodeLine{00103\ \textcolor{comment}{//\ The\ following\ example\ enumerates\ a\ dense\ range\ on}}
\DoxyCodeLine{00104\ \textcolor{comment}{//\ one\ parameter,\ and\ a\ sparse\ range\ on\ the\ second.}}
\DoxyCodeLine{00105\ \textcolor{comment}{static\ void\ CustomArguments(benchmark::internal::Benchmark*\ b)\ \{}}
\DoxyCodeLine{00106\ \textcolor{comment}{\ \ for\ (int\ i\ =\ 0;\ i\ <=\ 10;\ ++i)}}
\DoxyCodeLine{00107\ \textcolor{comment}{\ \ \ \ for\ (int\ j\ =\ 32;\ j\ <=\ 1024*1024;\ j\ *=\ 8)}}
\DoxyCodeLine{00108\ \textcolor{comment}{\ \ \ \ \ \ b-\/>Args(\{i,\ j\});}}
\DoxyCodeLine{00109\ \textcolor{comment}{\}}}
\DoxyCodeLine{00110\ \textcolor{comment}{BENCHMARK(BM\_SetInsert)-\/>Apply(CustomArguments);}}
\DoxyCodeLine{00111\ \textcolor{comment}{}}
\DoxyCodeLine{00112\ \textcolor{comment}{//\ Templated\ microbenchmarks\ work\ the\ same\ way:}}
\DoxyCodeLine{00113\ \textcolor{comment}{//\ Produce\ then\ consume\ 'size'\ messages\ 'iters'\ times}}
\DoxyCodeLine{00114\ \textcolor{comment}{//\ Measures\ throughput\ in\ the\ absence\ of\ multiprogramming.}}
\DoxyCodeLine{00115\ \textcolor{comment}{template\ <class\ Q>\ int\ BM\_Sequential(benchmark::State\&\ state)\ \{}}
\DoxyCodeLine{00116\ \textcolor{comment}{\ \ Q\ q;}}
\DoxyCodeLine{00117\ \textcolor{comment}{\ \ typename\ Q::value\_type\ v;}}
\DoxyCodeLine{00118\ \textcolor{comment}{\ \ for\ (auto\ \_\ :\ state)\ \{}}
\DoxyCodeLine{00119\ \textcolor{comment}{\ \ \ \ for\ (int\ i\ =\ state.range(0);\ i-\/-\/;\ )}}
\DoxyCodeLine{00120\ \textcolor{comment}{\ \ \ \ \ \ q.push(v);}}
\DoxyCodeLine{00121\ \textcolor{comment}{\ \ \ \ for\ (int\ e\ =\ state.range(0);\ e-\/-\/;\ )}}
\DoxyCodeLine{00122\ \textcolor{comment}{\ \ \ \ \ \ q.Wait(\&v);}}
\DoxyCodeLine{00123\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00124\ \textcolor{comment}{\ \ //\ actually\ messages,\ not\ bytes:}}
\DoxyCodeLine{00125\ \textcolor{comment}{\ \ state.SetBytesProcessed(}}
\DoxyCodeLine{00126\ \textcolor{comment}{\ \ \ \ \ \ static\_cast<int64\_t>(state.iterations())*state.range(0));}}
\DoxyCodeLine{00127\ \textcolor{comment}{\}}}
\DoxyCodeLine{00128\ \textcolor{comment}{BENCHMARK\_TEMPLATE(BM\_Sequential,\ WaitQueue<int>)-\/>Range(1<<0,\ 1<<10);}}
\DoxyCodeLine{00129\ \textcolor{comment}{}}
\DoxyCodeLine{00130\ \textcolor{comment}{Use\ `Benchmark::MinTime(double\ t)`\ to\ set\ the\ minimum\ time\ used\ to\ run\ the}}
\DoxyCodeLine{00131\ \textcolor{comment}{benchmark.\ This\ option\ overrides\ the\ `benchmark\_min\_time`\ flag.}}
\DoxyCodeLine{00132\ \textcolor{comment}{}}
\DoxyCodeLine{00133\ \textcolor{comment}{void\ BM\_test(benchmark::State\&\ state)\ \{}}
\DoxyCodeLine{00134\ \textcolor{comment}{\ ...\ body\ ...}}
\DoxyCodeLine{00135\ \textcolor{comment}{\}}}
\DoxyCodeLine{00136\ \textcolor{comment}{BENCHMARK(BM\_test)-\/>MinTime(2.0);\ //\ Run\ for\ at\ least\ 2\ seconds.}}
\DoxyCodeLine{00137\ \textcolor{comment}{}}
\DoxyCodeLine{00138\ \textcolor{comment}{In\ a\ multithreaded\ test,\ it\ is\ guaranteed\ that\ none\ of\ the\ threads\ will\ start}}
\DoxyCodeLine{00139\ \textcolor{comment}{until\ all\ have\ reached\ the\ loop\ start,\ and\ all\ will\ have\ finished\ before\ any}}
\DoxyCodeLine{00140\ \textcolor{comment}{thread\ exits\ the\ loop\ body.\ As\ such,\ any\ global\ setup\ or\ teardown\ you\ want\ to}}
\DoxyCodeLine{00141\ \textcolor{comment}{do\ can\ be\ wrapped\ in\ a\ check\ against\ the\ thread\ index:}}
\DoxyCodeLine{00142\ \textcolor{comment}{}}
\DoxyCodeLine{00143\ \textcolor{comment}{static\ void\ BM\_MultiThreaded(benchmark::State\&\ state)\ \{}}
\DoxyCodeLine{00144\ \textcolor{comment}{\ \ if\ (state.thread\_index\ ==\ 0)\ \{}}
\DoxyCodeLine{00145\ \textcolor{comment}{\ \ \ \ //\ Setup\ code\ here.}}
\DoxyCodeLine{00146\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00147\ \textcolor{comment}{\ \ for\ (auto\ \_\ :\ state)\ \{}}
\DoxyCodeLine{00148\ \textcolor{comment}{\ \ \ \ //\ Run\ the\ test\ as\ normal.}}
\DoxyCodeLine{00149\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00150\ \textcolor{comment}{\ \ if\ (state.thread\_index\ ==\ 0)\ \{}}
\DoxyCodeLine{00151\ \textcolor{comment}{\ \ \ \ //\ Teardown\ code\ here.}}
\DoxyCodeLine{00152\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00153\ \textcolor{comment}{\}}}
\DoxyCodeLine{00154\ \textcolor{comment}{BENCHMARK(BM\_MultiThreaded)-\/>Threads(4);}}
\DoxyCodeLine{00155\ \textcolor{comment}{}}
\DoxyCodeLine{00156\ \textcolor{comment}{}}
\DoxyCodeLine{00157\ \textcolor{comment}{If\ a\ benchmark\ runs\ a\ few\ milliseconds\ it\ may\ be\ hard\ to\ visually\ compare\ the}}
\DoxyCodeLine{00158\ \textcolor{comment}{measured\ times,\ since\ the\ output\ data\ is\ given\ in\ nanoseconds\ per\ default.\ In}}
\DoxyCodeLine{00159\ \textcolor{comment}{order\ to\ manually\ set\ the\ time\ unit,\ you\ can\ specify\ it\ manually:}}
\DoxyCodeLine{00160\ \textcolor{comment}{}}
\DoxyCodeLine{00161\ \textcolor{comment}{BENCHMARK(BM\_test)-\/>Unit(benchmark::kMillisecond);}}
\DoxyCodeLine{00162\ \textcolor{comment}{*/}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{preprocessor}{\#ifndef\ BENCHMARK\_BENCHMARK\_H\_}}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#define\ BENCHMARK\_BENCHMARK\_H\_}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \textcolor{comment}{//\ The\ \_MSVC\_LANG\ check\ should\ detect\ Visual\ Studio\ 2015\ Update\ 3\ and\ newer.}}
\DoxyCodeLine{00168\ \textcolor{preprocessor}{\#if\ \_\_cplusplus\ >=\ 201103L\ ||\ (defined(\_MSVC\_LANG)\ \&\&\ \_MSVC\_LANG\ >=\ 201103L)}}
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\#define\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{00170\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00175\ \textcolor{preprocessor}{\#include\ <cassert>}}
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00177\ \textcolor{preprocessor}{\#include\ <iosfwd>}}
\DoxyCodeLine{00178\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00179\ \textcolor{preprocessor}{\#include\ <set>}}
\DoxyCodeLine{00180\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00181\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \textcolor{preprocessor}{\#if\ defined(BENCHMARK\_HAS\_CXX11)}}
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\#include\ <initializer\_list>}}
\DoxyCodeLine{00185\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00186\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00187\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00190\ \textcolor{preprocessor}{\#include\ <intrin.h>}\ \ \textcolor{comment}{//\ for\ \_ReadWriteBarrier}}
\DoxyCodeLine{00191\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \textcolor{preprocessor}{\#ifndef\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{00194\ \textcolor{preprocessor}{\#define\ BENCHMARK\_DISALLOW\_COPY\_AND\_ASSIGN(TypeName)\ \(\backslash\)}}
\DoxyCodeLine{00195\ \textcolor{preprocessor}{\ \ TypeName(const\ TypeName\&);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00196\ \textcolor{preprocessor}{\ \ TypeName\&\ operator=(const\ TypeName\&)}}
\DoxyCodeLine{00197\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00198\ \textcolor{preprocessor}{\#define\ BENCHMARK\_DISALLOW\_COPY\_AND\_ASSIGN(TypeName)\ \(\backslash\)}}
\DoxyCodeLine{00199\ \textcolor{preprocessor}{\ \ TypeName(const\ TypeName\&)\ =\ delete;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00200\ \textcolor{preprocessor}{\ \ TypeName\&\ operator=(const\ TypeName\&)\ =\ delete}}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{00204\ \textcolor{preprocessor}{\#define\ BENCHMARK\_UNUSED\ \_\_attribute\_\_((unused))}}
\DoxyCodeLine{00205\ \textcolor{preprocessor}{\#define\ BENCHMARK\_ALWAYS\_INLINE\ \_\_attribute\_\_((always\_inline))}}
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#define\ BENCHMARK\_NOEXCEPT\ noexcept}}
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#define\ BENCHMARK\_NOEXCEPT\_OP(x)\ noexcept(x)}}
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)\ \&\&\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{00209\ \textcolor{preprocessor}{\#define\ BENCHMARK\_UNUSED}}
\DoxyCodeLine{00210\ \textcolor{preprocessor}{\#define\ BENCHMARK\_ALWAYS\_INLINE\ \_\_forceinline}}
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#if\ \_MSC\_VER\ >=\ 1900}}
\DoxyCodeLine{00212\ \textcolor{preprocessor}{\#define\ BENCHMARK\_NOEXCEPT\ noexcept}}
\DoxyCodeLine{00213\ \textcolor{preprocessor}{\#define\ BENCHMARK\_NOEXCEPT\_OP(x)\ noexcept(x)}}
\DoxyCodeLine{00214\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00215\ \textcolor{preprocessor}{\#define\ BENCHMARK\_NOEXCEPT}}
\DoxyCodeLine{00216\ \textcolor{preprocessor}{\#define\ BENCHMARK\_NOEXCEPT\_OP(x)}}
\DoxyCodeLine{00217\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00218\ \textcolor{preprocessor}{\#define\ \_\_func\_\_\ \_\_FUNCTION\_\_}}
\DoxyCodeLine{00219\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00220\ \textcolor{preprocessor}{\#define\ BENCHMARK\_UNUSED}}
\DoxyCodeLine{00221\ \textcolor{preprocessor}{\#define\ BENCHMARK\_ALWAYS\_INLINE}}
\DoxyCodeLine{00222\ \textcolor{preprocessor}{\#define\ BENCHMARK\_NOEXCEPT}}
\DoxyCodeLine{00223\ \textcolor{preprocessor}{\#define\ BENCHMARK\_NOEXCEPT\_OP(x)}}
\DoxyCodeLine{00224\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#define\ BENCHMARK\_INTERNAL\_TOSTRING2(x)\ \#x}}
\DoxyCodeLine{00227\ \textcolor{preprocessor}{\#define\ BENCHMARK\_INTERNAL\_TOSTRING(x)\ BENCHMARK\_INTERNAL\_TOSTRING2(x)}}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ ||\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00230\ \textcolor{preprocessor}{\#define\ BENCHMARK\_BUILTIN\_EXPECT(x,\ y)\ \_\_builtin\_expect(x,\ y)}}
\DoxyCodeLine{00231\ \textcolor{preprocessor}{\#define\ BENCHMARK\_DEPRECATED\_MSG(msg)\ \_\_attribute\_\_((deprecated(msg)))}}
\DoxyCodeLine{00232\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00233\ \textcolor{preprocessor}{\#define\ BENCHMARK\_BUILTIN\_EXPECT(x,\ y)\ x}}
\DoxyCodeLine{00234\ \textcolor{preprocessor}{\#define\ BENCHMARK\_DEPRECATED\_MSG(msg)}}
\DoxyCodeLine{00235\ \textcolor{preprocessor}{\#define\ BENCHMARK\_WARNING\_MSG(msg)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00236\ \textcolor{preprocessor}{\ \ \_\_pragma(message(\_\_FILE\_\_\ "{}("{}}\ BENCHMARK\_INTERNAL\_TOSTRING(\ \(\backslash\)}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \_\_LINE\_\_)\ "{})\ :\ warning\ note:\ "{}\ msg))}
\DoxyCodeLine{00238\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{00241\ \textcolor{preprocessor}{\#define\ BENCHMARK\_GCC\_VERSION\ (\_\_GNUC\_\_\ *\ 100\ +\ \_\_GNUC\_MINOR\_\_)}}
\DoxyCodeLine{00242\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \textcolor{keyword}{namespace\ }benchmark\ \{}
\DoxyCodeLine{00245\ \textcolor{keyword}{class\ }BenchmarkReporter;}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \textcolor{keywordtype}{void}\ Initialize(\textcolor{keywordtype}{int}*\ argc,\ \textcolor{keywordtype}{char}**\ argv);}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \textcolor{comment}{//\ Report\ to\ stdout\ all\ arguments\ in\ 'argv'\ as\ unrecognized\ except\ the\ first.}}
\DoxyCodeLine{00250\ \textcolor{comment}{//\ Returns\ true\ there\ is\ at\ least\ on\ unrecognized\ argument\ (i.e.\ 'argc'\ >\ 1).}}
\DoxyCodeLine{00251\ \textcolor{keywordtype}{bool}\ ReportUnrecognizedArguments(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}**\ argv);}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \textcolor{comment}{//\ Generate\ a\ list\ of\ benchmarks\ matching\ the\ specified\ -\/-\/benchmark\_filter\ flag}}
\DoxyCodeLine{00254\ \textcolor{comment}{//\ and\ if\ -\/-\/benchmark\_list\_tests\ is\ specified\ return\ after\ printing\ the\ name}}
\DoxyCodeLine{00255\ \textcolor{comment}{//\ of\ each\ matching\ benchmark.\ Otherwise\ run\ each\ matching\ benchmark\ and}}
\DoxyCodeLine{00256\ \textcolor{comment}{//\ report\ the\ results.}}
\DoxyCodeLine{00257\ \textcolor{comment}{//}}
\DoxyCodeLine{00258\ \textcolor{comment}{//\ The\ second\ and\ third\ overload\ use\ the\ specified\ 'console\_reporter'\ and}}
\DoxyCodeLine{00259\ \textcolor{comment}{//\ \ 'file\_reporter'\ respectively.\ 'file\_reporter'\ will\ write\ to\ the\ file}}
\DoxyCodeLine{00260\ \textcolor{comment}{//\ \ specified}}
\DoxyCodeLine{00261\ \textcolor{comment}{//\ \ \ by\ '-\/-\/benchmark\_output'.\ If\ '-\/-\/benchmark\_output'\ is\ not\ given\ the}}
\DoxyCodeLine{00262\ \textcolor{comment}{//\ \ 'file\_reporter'\ is\ ignored.}}
\DoxyCodeLine{00263\ \textcolor{comment}{//}}
\DoxyCodeLine{00264\ \textcolor{comment}{//\ RETURNS:\ The\ number\ of\ matching\ benchmarks.}}
\DoxyCodeLine{00265\ \textcolor{keywordtype}{size\_t}\ RunSpecifiedBenchmarks();}
\DoxyCodeLine{00266\ \textcolor{keywordtype}{size\_t}\ RunSpecifiedBenchmarks(BenchmarkReporter*\ console\_reporter);}
\DoxyCodeLine{00267\ \textcolor{keywordtype}{size\_t}\ RunSpecifiedBenchmarks(BenchmarkReporter*\ console\_reporter,}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BenchmarkReporter*\ file\_reporter);}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \textcolor{comment}{//\ If\ this\ routine\ is\ called,\ peak\ memory\ allocation\ past\ this\ point\ in\ the}}
\DoxyCodeLine{00271\ \textcolor{comment}{//\ benchmark\ is\ reported\ at\ the\ end\ of\ the\ benchmark\ report\ line.\ (It\ is}}
\DoxyCodeLine{00272\ \textcolor{comment}{//\ computed\ by\ running\ the\ benchmark\ once\ with\ a\ single\ iteration\ and\ a\ memory}}
\DoxyCodeLine{00273\ \textcolor{comment}{//\ tracer.)}}
\DoxyCodeLine{00274\ \textcolor{comment}{//\ TODO(dominic)}}
\DoxyCodeLine{00275\ \textcolor{comment}{//\ void\ MemoryUsage();}}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00278\ \textcolor{keyword}{class\ }Benchmark;}
\DoxyCodeLine{00279\ \textcolor{keyword}{class\ }BenchmarkImp;}
\DoxyCodeLine{00280\ \textcolor{keyword}{class\ }BenchmarkFamilies;}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \textcolor{keywordtype}{void}\ UseCharPointer(\textcolor{keywordtype}{char}\ \textcolor{keyword}{const}\ \textcolor{keyword}{volatile}*);}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \textcolor{comment}{//\ Take\ ownership\ of\ the\ pointer\ and\ register\ the\ benchmark.\ Return\ the}}
\DoxyCodeLine{00285\ \textcolor{comment}{//\ registered\ benchmark.}}
\DoxyCodeLine{00286\ Benchmark*\ RegisterBenchmarkInternal(Benchmark*);}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \textcolor{comment}{//\ Ensure\ that\ the\ standard\ streams\ are\ properly\ initialized\ in\ every\ TU.}}
\DoxyCodeLine{00289\ \textcolor{keywordtype}{int}\ InitializeStreams();}
\DoxyCodeLine{00290\ BENCHMARK\_UNUSED\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ stream\_init\_anchor\ =\ InitializeStreams();}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \textcolor{preprocessor}{\#if\ (!defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_clang\_\_))\ ||\ defined(\_\_pnacl\_\_)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00295\ \textcolor{preprocessor}{\ \ \ \ defined(\_\_EMSCRIPTEN\_\_)}}
\DoxyCodeLine{00296\ \textcolor{preprocessor}{\#define\ BENCHMARK\_HAS\_NO\_INLINE\_ASSEMBLY}}
\DoxyCodeLine{00297\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \textcolor{comment}{//\ The\ DoNotOptimize(...)\ function\ can\ be\ used\ to\ prevent\ a\ value\ or}}
\DoxyCodeLine{00300\ \textcolor{comment}{//\ expression\ from\ being\ optimized\ away\ by\ the\ compiler.\ This\ function\ is}}
\DoxyCodeLine{00301\ \textcolor{comment}{//\ intended\ to\ add\ little\ to\ no\ overhead.}}
\DoxyCodeLine{00302\ \textcolor{comment}{//\ See:\ https://youtu.be/nXaxk27zwlk?t=2441}}
\DoxyCodeLine{00303\ \textcolor{preprocessor}{\#ifndef\ BENCHMARK\_HAS\_NO\_INLINE\_ASSEMBLY}}
\DoxyCodeLine{00304\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Tp>}
\DoxyCodeLine{00305\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keywordtype}{void}\ DoNotOptimize(Tp\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{00306\ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}"{}}\ :\ :\ \textcolor{stringliteral}{"{}r,m"{}}(\mbox{\hyperlink{classvalue}{value}})\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00307\ \}}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Tp>}
\DoxyCodeLine{00310\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keywordtype}{void}\ DoNotOptimize(Tp\&\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{00311\ \textcolor{preprocessor}{\#if\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00312\ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}+r,m"{}}(\mbox{\hyperlink{classvalue}{value}})\ :\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00313\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00314\ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}+m,r"{}}(\mbox{\hyperlink{classvalue}{value}})\ :\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00315\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00316\ \}}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \textcolor{comment}{//\ Force\ the\ compiler\ to\ flush\ pending\ writes\ to\ global\ memory.\ Acts\ as\ an}}
\DoxyCodeLine{00319\ \textcolor{comment}{//\ effective\ read/write\ barrier}}
\DoxyCodeLine{00320\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keywordtype}{void}\ ClobberMemory()\ \{}
\DoxyCodeLine{00321\ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}"{}}\ :\ :\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00322\ \}}
\DoxyCodeLine{00323\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00324\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Tp>}
\DoxyCodeLine{00325\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keywordtype}{void}\ DoNotOptimize(Tp\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{00326\ \ \ internal::UseCharPointer(\&\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}\ \textcolor{keyword}{const\ }volatile\&\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{00327\ \ \ \_ReadWriteBarrier();}
\DoxyCodeLine{00328\ \}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keywordtype}{void}\ ClobberMemory()\ \{\ \_ReadWriteBarrier();\ \}}
\DoxyCodeLine{00331\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00332\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Tp>}
\DoxyCodeLine{00333\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keywordtype}{void}\ DoNotOptimize(Tp\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{00334\ \ \ internal::UseCharPointer(\&\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}\ \textcolor{keyword}{const\ }volatile\&\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{00335\ \}}
\DoxyCodeLine{00336\ \textcolor{comment}{//\ FIXME\ Add\ ClobberMemory()\ for\ non-\/gnu\ and\ non-\/msvc\ compilers}}
\DoxyCodeLine{00337\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00338\ }
\DoxyCodeLine{00339\ \textcolor{comment}{//\ This\ class\ is\ used\ for\ user-\/defined\ counters.}}
\DoxyCodeLine{00340\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1_counter}{Counter}}\ \{}
\DoxyCodeLine{00341\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00342\ \ \ \textcolor{keyword}{enum}\ Flags\ \{}
\DoxyCodeLine{00343\ \ \ \ \ kDefaults\ =\ 0,}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{comment}{//\ Mark\ the\ counter\ as\ a\ rate.\ It\ will\ be\ presented\ divided}}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{comment}{//\ by\ the\ duration\ of\ the\ benchmark.}}
\DoxyCodeLine{00346\ \ \ \ \ kIsRate\ =\ 1,}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{comment}{//\ Mark\ the\ counter\ as\ a\ thread-\/average\ quantity.\ It\ will\ be}}
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{comment}{//\ presented\ divided\ by\ the\ number\ of\ threads.}}
\DoxyCodeLine{00349\ \ \ \ \ kAvgThreads\ =\ 2,}
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{comment}{//\ Mark\ the\ counter\ as\ a\ thread-\/average\ rate.\ See\ above.}}
\DoxyCodeLine{00351\ \ \ \ \ kAvgThreadsRate\ =\ kIsRate\ |\ kAvgThreads}
\DoxyCodeLine{00352\ \ \ \};}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{00355\ \ \ Flags\ flags;}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00357\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00358\ \ \ \mbox{\hyperlink{classbenchmark_1_1_counter}{Counter}}(\textcolor{keywordtype}{double}\ v\ =\ 0.,\ Flags\ f\ =\ kDefaults)\ :\ \mbox{\hyperlink{classvalue}{value}}(v),\ flags(f)\ \{\}}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keyword}{operator}\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\&()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvalue}{value}};\ \}}
\DoxyCodeLine{00361\ \ \ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keyword}{operator}\ \textcolor{keywordtype}{double}\&()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvalue}{value}};\ \}}
\DoxyCodeLine{00362\ \};}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00364\ \textcolor{comment}{//\ This\ is\ the\ container\ for\ the\ user-\/defined\ counters.}}
\DoxyCodeLine{00365\ \textcolor{keyword}{typedef}\ std::map<std::string,\ Counter>\ UserCounters;}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \textcolor{comment}{//\ TimeUnit\ is\ passed\ to\ a\ benchmark\ in\ order\ to\ specify\ the\ order\ of\ magnitude}}
\DoxyCodeLine{00368\ \textcolor{comment}{//\ for\ the\ measured\ time.}}
\DoxyCodeLine{00369\ \textcolor{keyword}{enum}\ TimeUnit\ \{\ kNanosecond,\ kMicrosecond,\ kMillisecond\ \};}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \textcolor{comment}{//\ BigO\ is\ passed\ to\ a\ benchmark\ in\ order\ to\ specify\ the\ asymptotic}}
\DoxyCodeLine{00372\ \textcolor{comment}{//\ computational}}
\DoxyCodeLine{00373\ \textcolor{comment}{//\ complexity\ for\ the\ benchmark.\ In\ case\ oAuto\ is\ selected,\ complexity\ will\ be}}
\DoxyCodeLine{00374\ \textcolor{comment}{//\ calculated\ automatically\ to\ the\ best\ fit.}}
\DoxyCodeLine{00375\ \textcolor{keyword}{enum}\ BigO\ \{\ oNone,\ o1,\ oN,\ oNSquared,\ oNCubed,\ oLogN,\ oNLogN,\ oAuto,\ oLambda\ \};}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \textcolor{comment}{//\ BigOFunc\ is\ passed\ to\ a\ benchmark\ in\ order\ to\ specify\ the\ asymptotic}}
\DoxyCodeLine{00378\ \textcolor{comment}{//\ computational\ complexity\ for\ the\ benchmark.}}
\DoxyCodeLine{00379\ \textcolor{keyword}{typedef}\ double(BigOFunc)(int64\_t);}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \textcolor{comment}{//\ StatisticsFunc\ is\ passed\ to\ a\ benchmark\ in\ order\ to\ compute\ some\ descriptive}}
\DoxyCodeLine{00382\ \textcolor{comment}{//\ statistics\ over\ all\ the\ measurements\ of\ some\ type}}
\DoxyCodeLine{00383\ \textcolor{keyword}{typedef}\ double(StatisticsFunc)(\textcolor{keyword}{const}\ std::vector<double>\&);}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbenchmark_1_1_statistics}{Statistics}}\ \{}
\DoxyCodeLine{00386\ \ \ std::string\ name\_;}
\DoxyCodeLine{00387\ \ \ StatisticsFunc*\ compute\_;}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \ \ \mbox{\hyperlink{structbenchmark_1_1_statistics}{Statistics}}(std::string\ name,\ StatisticsFunc*\ compute)}
\DoxyCodeLine{00390\ \ \ \ \ \ \ :\ name\_(name),\ compute\_(compute)\ \{\}}
\DoxyCodeLine{00391\ \};}
\DoxyCodeLine{00392\ }
\DoxyCodeLine{00393\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00394\ \textcolor{keyword}{class\ }ThreadTimer;}
\DoxyCodeLine{00395\ \textcolor{keyword}{class\ }ThreadManager;}
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00397\ \textcolor{keyword}{enum}\ ReportMode}
\DoxyCodeLine{00398\ \textcolor{preprocessor}{\#if\ defined(BENCHMARK\_HAS\_CXX11)}}
\DoxyCodeLine{00399\ \ \ \ \ :\ \textcolor{keywordtype}{unsigned}}
\DoxyCodeLine{00400\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00401\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00402\ \{\ RM\_Unspecified,\ \ \textcolor{comment}{//\ The\ mode\ has\ not\ been\ manually\ specified}}
\DoxyCodeLine{00403\ \ \ RM\_Default,\ \ \ \ \ \ \textcolor{comment}{//\ The\ mode\ is\ user-\/specified\ as\ default.}}
\DoxyCodeLine{00404\ \ \ RM\_ReportAggregatesOnly\ \};}
\DoxyCodeLine{00405\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00407\ \textcolor{comment}{//\ State\ is\ passed\ to\ a\ running\ Benchmark\ and\ contains\ state\ for\ the}}
\DoxyCodeLine{00408\ \textcolor{comment}{//\ benchmark\ to\ use.}}
\DoxyCodeLine{00409\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\ \{}
\DoxyCodeLine{00410\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00411\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator}{StateIterator}};}
\DoxyCodeLine{00412\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator}{StateIterator}};}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ \textcolor{comment}{//\ Returns\ iterators\ used\ to\ run\ each\ iteration\ of\ a\ benchmark\ using\ a}}
\DoxyCodeLine{00415\ \ \ \textcolor{comment}{//\ C++11\ ranged-\/based\ for\ loop.\ These\ functions\ should\ not\ be\ called\ directly.}}
\DoxyCodeLine{00416\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00417\ \ \ \textcolor{comment}{//\ REQUIRES:\ The\ benchmark\ has\ not\ started\ running\ yet.\ Neither\ begin\ nor\ end}}
\DoxyCodeLine{00418\ \ \ \textcolor{comment}{//\ have\ been\ called\ previously.}}
\DoxyCodeLine{00419\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00420\ \ \ \textcolor{comment}{//\ NOTE:\ KeepRunning\ may\ not\ be\ used\ after\ calling\ either\ of\ these\ functions.}}
\DoxyCodeLine{00421\ \ \ BENCHMARK\_ALWAYS\_INLINE\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator}{StateIterator}}\ begin();}
\DoxyCodeLine{00422\ \ \ BENCHMARK\_ALWAYS\_INLINE\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator}{StateIterator}}\ end();}
\DoxyCodeLine{00423\ }
\DoxyCodeLine{00424\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ benchmark\ should\ continue\ through\ another\ iteration.}}
\DoxyCodeLine{00425\ \ \ \textcolor{comment}{//\ NOTE:\ A\ benchmark\ may\ not\ return\ from\ the\ test\ until\ KeepRunning()\ has}}
\DoxyCodeLine{00426\ \ \ \textcolor{comment}{//\ returned\ false.}}
\DoxyCodeLine{00427\ \ \ \textcolor{keywordtype}{bool}\ KeepRunning();}
\DoxyCodeLine{00428\ }
\DoxyCodeLine{00429\ \ \ \textcolor{comment}{//\ Returns\ true\ iff\ the\ benchmark\ should\ run\ n\ more\ iterations.}}
\DoxyCodeLine{00430\ \ \ \textcolor{comment}{//\ REQUIRES:\ 'n'\ >\ 0.}}
\DoxyCodeLine{00431\ \ \ \textcolor{comment}{//\ NOTE:\ A\ benchmark\ must\ not\ return\ from\ the\ test\ until\ KeepRunningBatch()}}
\DoxyCodeLine{00432\ \ \ \textcolor{comment}{//\ has\ returned\ false.}}
\DoxyCodeLine{00433\ \ \ \textcolor{comment}{//\ NOTE:\ KeepRunningBatch()\ may\ overshoot\ by\ up\ to\ 'n'\ iterations.}}
\DoxyCodeLine{00434\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00435\ \ \ \textcolor{comment}{//\ Intended\ usage:}}
\DoxyCodeLine{00436\ \ \ \textcolor{comment}{//\ \ \ while\ (state.KeepRunningBatch(1000))\ \{}}
\DoxyCodeLine{00437\ \ \ \textcolor{comment}{//\ \ \ \ \ //\ process\ 1000\ elements}}
\DoxyCodeLine{00438\ \ \ \textcolor{comment}{//\ \ \ \}}}
\DoxyCodeLine{00439\ \ \ \textcolor{keywordtype}{bool}\ KeepRunningBatch(\textcolor{keywordtype}{size\_t}\ n);}
\DoxyCodeLine{00440\ }
\DoxyCodeLine{00441\ \ \ \textcolor{comment}{//\ REQUIRES:\ timer\ is\ running\ and\ 'SkipWithError(...)'\ has\ not\ been\ called}}
\DoxyCodeLine{00442\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ by\ the\ current\ thread.}}
\DoxyCodeLine{00443\ \ \ \textcolor{comment}{//\ Stop\ the\ benchmark\ timer.\ \ If\ not\ called,\ the\ timer\ will\ be}}
\DoxyCodeLine{00444\ \ \ \textcolor{comment}{//\ automatically\ stopped\ after\ the\ last\ iteration\ of\ the\ benchmark\ loop.}}
\DoxyCodeLine{00445\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00446\ \ \ \textcolor{comment}{//\ For\ threaded\ benchmarks\ the\ PauseTiming()\ function\ only\ pauses\ the\ timing}}
\DoxyCodeLine{00447\ \ \ \textcolor{comment}{//\ for\ the\ current\ thread.}}
\DoxyCodeLine{00448\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00449\ \ \ \textcolor{comment}{//\ NOTE:\ The\ "{}real\ time"{}\ measurement\ is\ per-\/thread.\ If\ different\ threads}}
\DoxyCodeLine{00450\ \ \ \textcolor{comment}{//\ report\ different\ measurements\ the\ largest\ one\ is\ reported.}}
\DoxyCodeLine{00451\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00452\ \ \ \textcolor{comment}{//\ NOTE:\ PauseTiming()/ResumeTiming()\ are\ relatively}}
\DoxyCodeLine{00453\ \ \ \textcolor{comment}{//\ heavyweight,\ and\ so\ their\ use\ should\ generally\ be\ avoided}}
\DoxyCodeLine{00454\ \ \ \textcolor{comment}{//\ within\ each\ benchmark\ iteration,\ if\ possible.}}
\DoxyCodeLine{00455\ \ \ \textcolor{keywordtype}{void}\ PauseTiming();}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ \ \ \textcolor{comment}{//\ REQUIRES:\ timer\ is\ not\ running\ and\ 'SkipWithError(...)'\ has\ not\ been\ called}}
\DoxyCodeLine{00458\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ by\ the\ current\ thread.}}
\DoxyCodeLine{00459\ \ \ \textcolor{comment}{//\ Start\ the\ benchmark\ timer.\ \ The\ timer\ is\ NOT\ running\ on\ entrance\ to\ the}}
\DoxyCodeLine{00460\ \ \ \textcolor{comment}{//\ benchmark\ function.\ It\ begins\ running\ after\ control\ flow\ enters\ the}}
\DoxyCodeLine{00461\ \ \ \textcolor{comment}{//\ benchmark\ loop.}}
\DoxyCodeLine{00462\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00463\ \ \ \textcolor{comment}{//\ NOTE:\ PauseTiming()/ResumeTiming()\ are\ relatively}}
\DoxyCodeLine{00464\ \ \ \textcolor{comment}{//\ heavyweight,\ and\ so\ their\ use\ should\ generally\ be\ avoided}}
\DoxyCodeLine{00465\ \ \ \textcolor{comment}{//\ within\ each\ benchmark\ iteration,\ if\ possible.}}
\DoxyCodeLine{00466\ \ \ \textcolor{keywordtype}{void}\ ResumeTiming();}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \ \ \textcolor{comment}{//\ REQUIRES:\ 'SkipWithError(...)'\ has\ not\ been\ called\ previously\ by\ the}}
\DoxyCodeLine{00469\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ current\ thread.}}
\DoxyCodeLine{00470\ \ \ \textcolor{comment}{//\ Report\ the\ benchmark\ as\ resulting\ in\ an\ error\ with\ the\ specified\ 'msg'.}}
\DoxyCodeLine{00471\ \ \ \textcolor{comment}{//\ After\ this\ call\ the\ user\ may\ explicitly\ 'return'\ from\ the\ benchmark.}}
\DoxyCodeLine{00472\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00473\ \ \ \textcolor{comment}{//\ If\ the\ ranged-\/for\ style\ of\ benchmark\ loop\ is\ used,\ the\ user\ must\ explicitly}}
\DoxyCodeLine{00474\ \ \ \textcolor{comment}{//\ break\ from\ the\ loop,\ otherwise\ all\ future\ iterations\ will\ be\ run.}}
\DoxyCodeLine{00475\ \ \ \textcolor{comment}{//\ If\ the\ 'KeepRunning()'\ loop\ is\ used\ the\ current\ thread\ will\ automatically}}
\DoxyCodeLine{00476\ \ \ \textcolor{comment}{//\ exit\ the\ loop\ at\ the\ end\ of\ the\ current\ iteration.}}
\DoxyCodeLine{00477\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00478\ \ \ \textcolor{comment}{//\ For\ threaded\ benchmarks\ only\ the\ current\ thread\ stops\ executing\ and\ future}}
\DoxyCodeLine{00479\ \ \ \textcolor{comment}{//\ calls\ to\ `KeepRunning()`\ will\ block\ until\ all\ threads\ have\ completed}}
\DoxyCodeLine{00480\ \ \ \textcolor{comment}{//\ the\ `KeepRunning()`\ loop.\ If\ multiple\ threads\ report\ an\ error\ only\ the}}
\DoxyCodeLine{00481\ \ \ \textcolor{comment}{//\ first\ error\ message\ is\ used.}}
\DoxyCodeLine{00482\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00483\ \ \ \textcolor{comment}{//\ NOTE:\ Calling\ 'SkipWithError(...)'\ does\ not\ cause\ the\ benchmark\ to\ exit}}
\DoxyCodeLine{00484\ \ \ \textcolor{comment}{//\ the\ current\ scope\ immediately.\ If\ the\ function\ is\ called\ from\ within}}
\DoxyCodeLine{00485\ \ \ \textcolor{comment}{//\ the\ 'KeepRunning()'\ loop\ the\ current\ iteration\ will\ finish.\ It\ is\ the\ users}}
\DoxyCodeLine{00486\ \ \ \textcolor{comment}{//\ responsibility\ to\ exit\ the\ scope\ as\ needed.}}
\DoxyCodeLine{00487\ \ \ \textcolor{keywordtype}{void}\ SkipWithError(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ msg);}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \ \ \textcolor{comment}{//\ REQUIRES:\ called\ exactly\ once\ per\ iteration\ of\ the\ benchmarking\ loop.}}
\DoxyCodeLine{00490\ \ \ \textcolor{comment}{//\ Set\ the\ manually\ measured\ time\ for\ this\ benchmark\ iteration,\ which}}
\DoxyCodeLine{00491\ \ \ \textcolor{comment}{//\ is\ used\ instead\ of\ automatically\ measured\ time\ if\ UseManualTime()\ was}}
\DoxyCodeLine{00492\ \ \ \textcolor{comment}{//\ specified.}}
\DoxyCodeLine{00493\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00494\ \ \ \textcolor{comment}{//\ For\ threaded\ benchmarks\ the\ final\ value\ will\ be\ set\ to\ the\ largest}}
\DoxyCodeLine{00495\ \ \ \textcolor{comment}{//\ reported\ values.}}
\DoxyCodeLine{00496\ \ \ \textcolor{keywordtype}{void}\ SetIterationTime(\textcolor{keywordtype}{double}\ seconds);}
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00498\ \ \ \textcolor{comment}{//\ Set\ the\ number\ of\ bytes\ processed\ by\ the\ current\ benchmark}}
\DoxyCodeLine{00499\ \ \ \textcolor{comment}{//\ execution.\ \ This\ routine\ is\ typically\ called\ once\ at\ the\ end\ of\ a}}
\DoxyCodeLine{00500\ \ \ \textcolor{comment}{//\ throughput\ oriented\ benchmark.\ \ If\ this\ routine\ is\ called\ with\ a}}
\DoxyCodeLine{00501\ \ \ \textcolor{comment}{//\ value\ >\ 0,\ the\ report\ is\ printed\ in\ MB/sec\ instead\ of\ nanoseconds}}
\DoxyCodeLine{00502\ \ \ \textcolor{comment}{//\ per\ iteration.}}
\DoxyCodeLine{00503\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00504\ \ \ \textcolor{comment}{//\ REQUIRES:\ a\ benchmark\ has\ exited\ its\ benchmarking\ loop.}}
\DoxyCodeLine{00505\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00506\ \ \ \textcolor{keywordtype}{void}\ SetBytesProcessed(int64\_t\ \mbox{\hyperlink{classbytes}{bytes}})\ \{\ bytes\_processed\_\ =\ \mbox{\hyperlink{classbytes}{bytes}};\ \}}
\DoxyCodeLine{00507\ }
\DoxyCodeLine{00508\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00509\ \ \ int64\_t\ bytes\_processed()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ bytes\_processed\_;\ \}}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00511\ \ \ \textcolor{comment}{//\ If\ this\ routine\ is\ called\ with\ complexity\_n\ >\ 0\ and\ complexity\ report\ is}}
\DoxyCodeLine{00512\ \ \ \textcolor{comment}{//\ requested\ for\ the}}
\DoxyCodeLine{00513\ \ \ \textcolor{comment}{//\ family\ benchmark,\ then\ current\ benchmark\ will\ be\ part\ of\ the\ computation}}
\DoxyCodeLine{00514\ \ \ \textcolor{comment}{//\ and\ complexity\_n\ will}}
\DoxyCodeLine{00515\ \ \ \textcolor{comment}{//\ represent\ the\ length\ of\ N.}}
\DoxyCodeLine{00516\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00517\ \ \ \textcolor{keywordtype}{void}\ SetComplexityN(int64\_t\ complexity\_n)\ \{\ complexity\_n\_\ =\ complexity\_n;\ \}}
\DoxyCodeLine{00518\ }
\DoxyCodeLine{00519\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00520\ \ \ int64\_t\ complexity\_length\_n()\ \{\ \textcolor{keywordflow}{return}\ complexity\_n\_;\ \}}
\DoxyCodeLine{00521\ }
\DoxyCodeLine{00522\ \ \ \textcolor{comment}{//\ If\ this\ routine\ is\ called\ with\ items\ >\ 0,\ then\ an\ items/s}}
\DoxyCodeLine{00523\ \ \ \textcolor{comment}{//\ label\ is\ printed\ on\ the\ benchmark\ report\ line\ for\ the\ currently}}
\DoxyCodeLine{00524\ \ \ \textcolor{comment}{//\ executing\ benchmark.\ It\ is\ typically\ called\ at\ the\ end\ of\ a\ processing}}
\DoxyCodeLine{00525\ \ \ \textcolor{comment}{//\ benchmark\ where\ a\ processing\ items/second\ output\ is\ desired.}}
\DoxyCodeLine{00526\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00527\ \ \ \textcolor{comment}{//\ REQUIRES:\ a\ benchmark\ has\ exited\ its\ benchmarking\ loop.}}
\DoxyCodeLine{00528\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00529\ \ \ \textcolor{keywordtype}{void}\ SetItemsProcessed(int64\_t\ items)\ \{\ items\_processed\_\ =\ items;\ \}}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00532\ \ \ int64\_t\ items\_processed()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ items\_processed\_;\ \}}
\DoxyCodeLine{00533\ }
\DoxyCodeLine{00534\ \ \ \textcolor{comment}{//\ If\ this\ routine\ is\ called,\ the\ specified\ label\ is\ printed\ at\ the}}
\DoxyCodeLine{00535\ \ \ \textcolor{comment}{//\ end\ of\ the\ benchmark\ report\ line\ for\ the\ currently\ executing}}
\DoxyCodeLine{00536\ \ \ \textcolor{comment}{//\ benchmark.\ \ Example:}}
\DoxyCodeLine{00537\ \ \ \textcolor{comment}{//\ \ static\ void\ BM\_Compress(benchmark::State\&\ state)\ \{}}
\DoxyCodeLine{00538\ \ \ \textcolor{comment}{//\ \ \ \ ...}}
\DoxyCodeLine{00539\ \ \ \textcolor{comment}{//\ \ \ \ double\ compress\ =\ input\_size\ /\ output\_size;}}
\DoxyCodeLine{00540\ \ \ \textcolor{comment}{//\ \ \ \ state.SetLabel(StrFormat("{}compress:\%.1f\%\%"{},\ 100.0*compression));}}
\DoxyCodeLine{00541\ \ \ \textcolor{comment}{//\ \ \}}}
\DoxyCodeLine{00542\ \ \ \textcolor{comment}{//\ Produces\ output\ that\ looks\ like:}}
\DoxyCodeLine{00543\ \ \ \textcolor{comment}{//\ \ BM\_Compress\ \ \ 50\ \ \ \ \ \ \ \ \ 50\ \ \ 14115038\ \ compress:27.3\%}}
\DoxyCodeLine{00544\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00545\ \ \ \textcolor{comment}{//\ REQUIRES:\ a\ benchmark\ has\ exited\ its\ benchmarking\ loop.}}
\DoxyCodeLine{00546\ \ \ \textcolor{keywordtype}{void}\ SetLabel(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ label);}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00548\ \ \ \textcolor{keywordtype}{void}\ BENCHMARK\_ALWAYS\_INLINE\ SetLabel(\textcolor{keyword}{const}\ std::string\&\ str)\ \{}
\DoxyCodeLine{00549\ \ \ \ \ this-\/>SetLabel(str.c\_str());}
\DoxyCodeLine{00550\ \ \ \}}
\DoxyCodeLine{00551\ }
\DoxyCodeLine{00552\ \ \ \textcolor{comment}{//\ Range\ arguments\ for\ this\ run.\ CHECKs\ if\ the\ argument\ has\ been\ set.}}
\DoxyCodeLine{00553\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00554\ \ \ int64\_t\ range(std::size\_t\ pos\ =\ 0)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00555\ \ \ \ \ assert(range\_.size()\ >\ pos);}
\DoxyCodeLine{00556\ \ \ \ \ \textcolor{keywordflow}{return}\ range\_[pos];}
\DoxyCodeLine{00557\ \ \ \}}
\DoxyCodeLine{00558\ }
\DoxyCodeLine{00559\ \ \ BENCHMARK\_DEPRECATED\_MSG(\textcolor{stringliteral}{"{}use\ 'range(0)'\ instead"{}})}
\DoxyCodeLine{00560\ \ \ int64\_t\ range\_x()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ range(0);\ \}}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \ \ BENCHMARK\_DEPRECATED\_MSG(\textcolor{stringliteral}{"{}use\ 'range(1)'\ instead"{}})}
\DoxyCodeLine{00563\ \ \ int64\_t\ range\_y()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ range(1);\ \}}
\DoxyCodeLine{00564\ }
\DoxyCodeLine{00565\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00566\ \ \ \textcolor{keywordtype}{size\_t}\ iterations()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00567\ \ \ \ \ \textcolor{keywordflow}{if}\ (BENCHMARK\_BUILTIN\_EXPECT(!started\_,\ \textcolor{keyword}{false}))\ \{}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00569\ \ \ \ \ \}}
\DoxyCodeLine{00570\ \ \ \ \ \textcolor{keywordflow}{return}\ max\_iterations\ -\/\ total\_iterations\_\ +\ batch\_leftover\_;}
\DoxyCodeLine{00571\ \ \ \}}
\DoxyCodeLine{00572\ }
\DoxyCodeLine{00573\ \ private}
\DoxyCodeLine{00574\ \ \ \ \ \ :\ \ \textcolor{comment}{//\ items\ we\ expect\ on\ the\ first\ cache\ line\ (ie\ 64\ bytes\ of\ the\ struct)}}
\DoxyCodeLine{00575\ \ \ \textcolor{comment}{//\ When\ total\_iterations\_\ is\ 0,\ KeepRunning()\ and\ friends\ will\ return\ false.}}
\DoxyCodeLine{00576\ \ \ \textcolor{comment}{//\ May\ be\ larger\ than\ max\_iterations.}}
\DoxyCodeLine{00577\ \ \ \textcolor{keywordtype}{size\_t}\ total\_iterations\_;}
\DoxyCodeLine{00578\ }
\DoxyCodeLine{00579\ \ \ \textcolor{comment}{//\ When\ using\ KeepRunningBatch(),\ batch\_leftover\_\ holds\ the\ number\ of}}
\DoxyCodeLine{00580\ \ \ \textcolor{comment}{//\ iterations\ beyond\ max\_iters\ that\ were\ run.\ Used\ to\ track}}
\DoxyCodeLine{00581\ \ \ \textcolor{comment}{//\ completed\_iterations\_\ accurately.}}
\DoxyCodeLine{00582\ \ \ \textcolor{keywordtype}{size\_t}\ batch\_leftover\_;}
\DoxyCodeLine{00583\ }
\DoxyCodeLine{00584\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00585\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ max\_iterations;}
\DoxyCodeLine{00586\ }
\DoxyCodeLine{00587\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00588\ \ \ \textcolor{keywordtype}{bool}\ started\_;}
\DoxyCodeLine{00589\ \ \ \textcolor{keywordtype}{bool}\ finished\_;}
\DoxyCodeLine{00590\ \ \ \textcolor{keywordtype}{bool}\ error\_occurred\_;}
\DoxyCodeLine{00591\ }
\DoxyCodeLine{00592\ \ \textcolor{keyword}{private}:\ \ \textcolor{comment}{//\ items\ we\ don't\ need\ on\ the\ first\ cache\ line}}
\DoxyCodeLine{00593\ \ \ std::vector<int64\_t>\ range\_;}
\DoxyCodeLine{00594\ }
\DoxyCodeLine{00595\ \ \ int64\_t\ bytes\_processed\_;}
\DoxyCodeLine{00596\ \ \ int64\_t\ items\_processed\_;}
\DoxyCodeLine{00597\ }
\DoxyCodeLine{00598\ \ \ int64\_t\ complexity\_n\_;}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00601\ \ \ \textcolor{comment}{//\ Container\ for\ user-\/defined\ counters.}}
\DoxyCodeLine{00602\ \ \ UserCounters\ counters;}
\DoxyCodeLine{00603\ \ \ \textcolor{comment}{//\ Index\ of\ the\ executing\ thread.\ Values\ from\ [0,\ threads).}}
\DoxyCodeLine{00604\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ thread\_index;}
\DoxyCodeLine{00605\ \ \ \textcolor{comment}{//\ Number\ of\ threads\ concurrently\ executing\ the\ benchmark.}}
\DoxyCodeLine{00606\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ threads;}
\DoxyCodeLine{00607\ }
\DoxyCodeLine{00608\ \ \ \textcolor{comment}{//\ TODO(EricWF)\ make\ me\ private}}
\DoxyCodeLine{00609\ \ \ \mbox{\hyperlink{classbenchmark_1_1_state}{State}}(\textcolor{keywordtype}{size\_t}\ max\_iters,\ \textcolor{keyword}{const}\ std::vector<int64\_t>\&\ ranges,\ \textcolor{keywordtype}{int}\ thread\_i,}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ n\_threads,\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_thread_timer}{internal::ThreadTimer}}*\ timer,}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_thread_manager}{internal::ThreadManager}}*\ manager);}
\DoxyCodeLine{00612\ }
\DoxyCodeLine{00613\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00614\ \ \ \textcolor{keywordtype}{void}\ StartKeepRunning();}
\DoxyCodeLine{00615\ \ \ \textcolor{comment}{//\ Implementation\ of\ KeepRunning()\ and\ KeepRunningBatch().}}
\DoxyCodeLine{00616\ \ \ \textcolor{comment}{//\ is\_batch\ must\ be\ true\ unless\ n\ is\ 1.}}
\DoxyCodeLine{00617\ \ \ \textcolor{keywordtype}{bool}\ KeepRunningInternal(\textcolor{keywordtype}{size\_t}\ n,\ \textcolor{keywordtype}{bool}\ is\_batch);}
\DoxyCodeLine{00618\ \ \ \textcolor{keywordtype}{void}\ FinishKeepRunning();}
\DoxyCodeLine{00619\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_thread_timer}{internal::ThreadTimer}}*\ timer\_;}
\DoxyCodeLine{00620\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_thread_manager}{internal::ThreadManager}}*\ manager\_;}
\DoxyCodeLine{00621\ \ \ BENCHMARK\_DISALLOW\_COPY\_AND\_ASSIGN(\mbox{\hyperlink{classbenchmark_1_1_state}{State}});}
\DoxyCodeLine{00622\ \};}
\DoxyCodeLine{00623\ }
\DoxyCodeLine{00624\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keywordtype}{bool}\ State::KeepRunning()\ \{}
\DoxyCodeLine{00625\ \ \ \textcolor{keywordflow}{return}\ KeepRunningInternal(1,\ \textcolor{comment}{/*is\_batch=*/}\textcolor{keyword}{false});}
\DoxyCodeLine{00626\ \}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00628\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keywordtype}{bool}\ State::KeepRunningBatch(\textcolor{keywordtype}{size\_t}\ n)\ \{}
\DoxyCodeLine{00629\ \ \ \textcolor{keywordflow}{return}\ KeepRunningInternal(n,\ \textcolor{comment}{/*is\_batch=*/}\textcolor{keyword}{true});}
\DoxyCodeLine{00630\ \}}
\DoxyCodeLine{00631\ }
\DoxyCodeLine{00632\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ \textcolor{keywordtype}{bool}\ State::KeepRunningInternal(\textcolor{keywordtype}{size\_t}\ n,}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_batch)\ \{}
\DoxyCodeLine{00634\ \ \ \textcolor{comment}{//\ total\_iterations\_\ is\ set\ to\ 0\ by\ the\ constructor,\ and\ always\ set\ to\ a}}
\DoxyCodeLine{00635\ \ \ \textcolor{comment}{//\ nonzero\ value\ by\ StartKepRunning().}}
\DoxyCodeLine{00636\ \ \ assert(n\ >\ 0);}
\DoxyCodeLine{00637\ \ \ \textcolor{comment}{//\ n\ must\ be\ 1\ unless\ is\_batch\ is\ true.}}
\DoxyCodeLine{00638\ \ \ assert(is\_batch\ ||\ n\ ==\ 1);}
\DoxyCodeLine{00639\ \ \ \textcolor{keywordflow}{if}\ (BENCHMARK\_BUILTIN\_EXPECT(total\_iterations\_\ >=\ n,\ \textcolor{keyword}{true}))\ \{}
\DoxyCodeLine{00640\ \ \ \ \ total\_iterations\_\ -\/=\ n;}
\DoxyCodeLine{00641\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00642\ \ \ \}}
\DoxyCodeLine{00643\ \ \ \textcolor{keywordflow}{if}\ (!started\_)\ \{}
\DoxyCodeLine{00644\ \ \ \ \ StartKeepRunning();}
\DoxyCodeLine{00645\ \ \ \ \ \textcolor{keywordflow}{if}\ (!error\_occurred\_\ \&\&\ total\_iterations\_\ >=\ n)\ \{}
\DoxyCodeLine{00646\ \ \ \ \ \ \ total\_iterations\_\ -\/=\ n;}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00648\ \ \ \ \ \}}
\DoxyCodeLine{00649\ \ \ \}}
\DoxyCodeLine{00650\ \ \ \textcolor{comment}{//\ For\ non-\/batch\ runs,\ total\_iterations\_\ must\ be\ 0\ by\ now.}}
\DoxyCodeLine{00651\ \ \ \textcolor{keywordflow}{if}\ (is\_batch\ \&\&\ total\_iterations\_\ !=\ 0)\ \{}
\DoxyCodeLine{00652\ \ \ \ \ batch\_leftover\_\ =\ n\ -\/\ total\_iterations\_;}
\DoxyCodeLine{00653\ \ \ \ \ total\_iterations\_\ =\ 0;}
\DoxyCodeLine{00654\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00655\ \ \ \}}
\DoxyCodeLine{00656\ \ \ FinishKeepRunning();}
\DoxyCodeLine{00657\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00658\ \}}
\DoxyCodeLine{00659\ }
\DoxyCodeLine{00660\ \textcolor{keyword}{struct\ }State::StateIterator\ \{}
\DoxyCodeLine{00661\ \ \ \textcolor{keyword}{struct\ }BENCHMARK\_UNUSED\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator_1_1_value}{Value}}\ \{\};}
\DoxyCodeLine{00662\ \ \ \textcolor{keyword}{typedef}\ std::forward\_iterator\_tag\ iterator\_category;}
\DoxyCodeLine{00663\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator_1_1_value}{Value}}\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator_1_1_value}{value\_type}};}
\DoxyCodeLine{00664\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator_1_1_value}{Value}}\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator_1_1_value}{reference}};}
\DoxyCodeLine{00665\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator_1_1_value}{Value}}\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator_1_1_value}{pointer}};}
\DoxyCodeLine{00666\ \ \ \textcolor{keyword}{typedef}\ std::ptrdiff\_t\ difference\_type;}
\DoxyCodeLine{00667\ }
\DoxyCodeLine{00668\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00669\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1_state}{State}};}
\DoxyCodeLine{00670\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00671\ \ \ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator}{StateIterator}}()\ :\ cached\_(0),\ parent\_()\ \{\}}
\DoxyCodeLine{00672\ }
\DoxyCodeLine{00673\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00674\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structbenchmark_1_1_state_1_1_state_iterator}{StateIterator}}(\mbox{\hyperlink{classbenchmark_1_1_state}{State}}*\ st)}
\DoxyCodeLine{00675\ \ \ \ \ \ \ :\ cached\_(st-\/>error\_occurred\_\ ?\ 0\ :\ st-\/>max\_iterations),\ parent\_(st)\ \{\}}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00677\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00678\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00679\ \ \ \mbox{\hyperlink{union_value}{Value}}\ operator*()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{union_value}{Value}}();\ \}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00682\ \ \ StateIterator\&\ operator++()\ \{}
\DoxyCodeLine{00683\ \ \ \ \ assert(cached\_\ >\ 0);}
\DoxyCodeLine{00684\ \ \ \ \ -\/-\/cached\_;}
\DoxyCodeLine{00685\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00686\ \ \ \}}
\DoxyCodeLine{00687\ }
\DoxyCodeLine{00688\ \ \ BENCHMARK\_ALWAYS\_INLINE}
\DoxyCodeLine{00689\ \ \ \textcolor{keywordtype}{bool}\ operator!=(StateIterator\ \textcolor{keyword}{const}\&)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00690\ \ \ \ \ \textcolor{keywordflow}{if}\ (BENCHMARK\_BUILTIN\_EXPECT(cached\_\ !=\ 0,\ \textcolor{keyword}{true}))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00691\ \ \ \ \ parent\_-\/>FinishKeepRunning();}
\DoxyCodeLine{00692\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00693\ \ \ \}}
\DoxyCodeLine{00694\ }
\DoxyCodeLine{00695\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00696\ \ \ \textcolor{keywordtype}{size\_t}\ cached\_;}
\DoxyCodeLine{00697\ \ \ \mbox{\hyperlink{struct_state}{State}}*\ \textcolor{keyword}{const}\ parent\_;}
\DoxyCodeLine{00698\ \};}
\DoxyCodeLine{00699\ }
\DoxyCodeLine{00700\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ State::StateIterator\ State::begin()\ \{}
\DoxyCodeLine{00701\ \ \ \textcolor{keywordflow}{return}\ StateIterator(\textcolor{keyword}{this});}
\DoxyCodeLine{00702\ \}}
\DoxyCodeLine{00703\ \textcolor{keyword}{inline}\ BENCHMARK\_ALWAYS\_INLINE\ State::StateIterator\ State::end()\ \{}
\DoxyCodeLine{00704\ \ \ StartKeepRunning();}
\DoxyCodeLine{00705\ \ \ \textcolor{keywordflow}{return}\ StateIterator();}
\DoxyCodeLine{00706\ \}}
\DoxyCodeLine{00707\ }
\DoxyCodeLine{00708\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00709\ }
\DoxyCodeLine{00710\ \textcolor{keyword}{typedef}\ void(Function)(\mbox{\hyperlink{struct_state}{State}}\&);}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00713\ \textcolor{comment}{//\ Benchmark\ registration\ object.\ \ The\ BENCHMARK()\ macro\ expands}}
\DoxyCodeLine{00714\ \textcolor{comment}{//\ into\ an\ internal::Benchmark*\ object.\ \ Various\ methods\ can}}
\DoxyCodeLine{00715\ \textcolor{comment}{//\ be\ called\ on\ this\ object\ to\ change\ the\ properties\ of\ the\ benchmark.}}
\DoxyCodeLine{00716\ \textcolor{comment}{//\ Each\ method\ returns\ "{}this"{}\ so\ that\ multiple\ method\ calls\ can}}
\DoxyCodeLine{00717\ \textcolor{comment}{//\ chained\ into\ one\ expression.}}
\DoxyCodeLine{00718\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}\ \{}
\DoxyCodeLine{00719\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00720\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{\string~Benchmark}}();}
\DoxyCodeLine{00721\ }
\DoxyCodeLine{00722\ \ \ \textcolor{comment}{//\ Note:\ the\ following\ methods\ all\ return\ "{}this"{}\ so\ that\ multiple}}
\DoxyCodeLine{00723\ \ \ \textcolor{comment}{//\ method\ calls\ can\ be\ chained\ together\ in\ one\ expression.}}
\DoxyCodeLine{00724\ }
\DoxyCodeLine{00725\ \ \ \textcolor{comment}{//\ Run\ this\ benchmark\ once\ with\ "{}x"{}\ as\ the\ extra\ argument\ passed}}
\DoxyCodeLine{00726\ \ \ \textcolor{comment}{//\ to\ the\ function.}}
\DoxyCodeLine{00727\ \ \ \textcolor{comment}{//\ REQUIRES:\ The\ function\ passed\ to\ the\ constructor\ must\ accept\ an\ arg1.}}
\DoxyCodeLine{00728\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Arg(int64\_t\ x);}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00730\ \ \ \textcolor{comment}{//\ Run\ this\ benchmark\ with\ the\ given\ time\ unit\ for\ the\ generated\ output\ report}}
\DoxyCodeLine{00731\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Unit(TimeUnit\ unit);}
\DoxyCodeLine{00732\ }
\DoxyCodeLine{00733\ \ \ \textcolor{comment}{//\ Run\ this\ benchmark\ once\ for\ a\ number\ of\ values\ picked\ from\ the}}
\DoxyCodeLine{00734\ \ \ \textcolor{comment}{//\ range\ [start..limit].\ \ (start\ and\ limit\ are\ always\ picked.)}}
\DoxyCodeLine{00735\ \ \ \textcolor{comment}{//\ REQUIRES:\ The\ function\ passed\ to\ the\ constructor\ must\ accept\ an\ arg1.}}
\DoxyCodeLine{00736\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Range(int64\_t\ start,\ int64\_t\ limit);}
\DoxyCodeLine{00737\ }
\DoxyCodeLine{00738\ \ \ \textcolor{comment}{//\ Run\ this\ benchmark\ once\ for\ all\ values\ in\ the\ range\ [start..limit]\ with}}
\DoxyCodeLine{00739\ \ \ \textcolor{comment}{//\ specific\ step}}
\DoxyCodeLine{00740\ \ \ \textcolor{comment}{//\ REQUIRES:\ The\ function\ passed\ to\ the\ constructor\ must\ accept\ an\ arg1.}}
\DoxyCodeLine{00741\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ DenseRange(int64\_t\ start,\ int64\_t\ limit,\ \textcolor{keywordtype}{int}\ step\ =\ 1);}
\DoxyCodeLine{00742\ }
\DoxyCodeLine{00743\ \ \ \textcolor{comment}{//\ Run\ this\ benchmark\ once\ with\ "{}args"{}\ as\ the\ extra\ arguments\ passed}}
\DoxyCodeLine{00744\ \ \ \textcolor{comment}{//\ to\ the\ function.}}
\DoxyCodeLine{00745\ \ \ \textcolor{comment}{//\ REQUIRES:\ The\ function\ passed\ to\ the\ constructor\ must\ accept\ arg1,\ arg2\ ...}}
\DoxyCodeLine{00746\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Args(\textcolor{keyword}{const}\ std::vector<int64\_t>\&\ args);}
\DoxyCodeLine{00747\ }
\DoxyCodeLine{00748\ \ \ \textcolor{comment}{//\ Equivalent\ to\ Args(\{x,\ y\})}}
\DoxyCodeLine{00749\ \ \ \textcolor{comment}{//\ NOTE:\ This\ is\ a\ legacy\ C++03\ interface\ provided\ for\ compatibility\ only.}}
\DoxyCodeLine{00750\ \ \ \textcolor{comment}{//\ \ \ New\ code\ should\ use\ 'Args'.}}
\DoxyCodeLine{00751\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ ArgPair(int64\_t\ x,\ int64\_t\ y)\ \{}
\DoxyCodeLine{00752\ \ \ \ \ std::vector<int64\_t>\ args;}
\DoxyCodeLine{00753\ \ \ \ \ args.push\_back(x);}
\DoxyCodeLine{00754\ \ \ \ \ args.push\_back(y);}
\DoxyCodeLine{00755\ \ \ \ \ \textcolor{keywordflow}{return}\ Args(args);}
\DoxyCodeLine{00756\ \ \ \}}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00758\ \ \ \textcolor{comment}{//\ Run\ this\ benchmark\ once\ for\ a\ number\ of\ values\ picked\ from\ the}}
\DoxyCodeLine{00759\ \ \ \textcolor{comment}{//\ ranges\ [start..limit].\ \ (starts\ and\ limits\ are\ always\ picked.)}}
\DoxyCodeLine{00760\ \ \ \textcolor{comment}{//\ REQUIRES:\ The\ function\ passed\ to\ the\ constructor\ must\ accept\ arg1,\ arg2\ ...}}
\DoxyCodeLine{00761\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Ranges(\textcolor{keyword}{const}\ std::vector<std::pair<int64\_t,\ int64\_t>\ >\&\ ranges);}
\DoxyCodeLine{00762\ }
\DoxyCodeLine{00763\ \ \ \textcolor{comment}{//\ Equivalent\ to\ ArgNames(\{name\})}}
\DoxyCodeLine{00764\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ ArgName(\textcolor{keyword}{const}\ std::string\&\ name);}
\DoxyCodeLine{00765\ }
\DoxyCodeLine{00766\ \ \ \textcolor{comment}{//\ Set\ the\ argument\ names\ to\ display\ in\ the\ benchmark\ name.\ If\ not\ called,}}
\DoxyCodeLine{00767\ \ \ \textcolor{comment}{//\ only\ argument\ values\ will\ be\ shown.}}
\DoxyCodeLine{00768\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ ArgNames(\textcolor{keyword}{const}\ std::vector<std::string>\&\ names);}
\DoxyCodeLine{00769\ }
\DoxyCodeLine{00770\ \ \ \textcolor{comment}{//\ Equivalent\ to\ Ranges(\{\{lo1,\ hi1\},\ \{lo2,\ hi2\}\}).}}
\DoxyCodeLine{00771\ \ \ \textcolor{comment}{//\ NOTE:\ This\ is\ a\ legacy\ C++03\ interface\ provided\ for\ compatibility\ only.}}
\DoxyCodeLine{00772\ \ \ \textcolor{comment}{//\ \ \ New\ code\ should\ use\ 'Ranges'.}}
\DoxyCodeLine{00773\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ RangePair(int64\_t\ lo1,\ int64\_t\ hi1,\ int64\_t\ lo2,\ int64\_t\ hi2)\ \{}
\DoxyCodeLine{00774\ \ \ \ \ std::vector<std::pair<int64\_t,\ int64\_t>\ >\ ranges;}
\DoxyCodeLine{00775\ \ \ \ \ ranges.push\_back(std::make\_pair(lo1,\ hi1));}
\DoxyCodeLine{00776\ \ \ \ \ ranges.push\_back(std::make\_pair(lo2,\ hi2));}
\DoxyCodeLine{00777\ \ \ \ \ \textcolor{keywordflow}{return}\ Ranges(ranges);}
\DoxyCodeLine{00778\ \ \ \}}
\DoxyCodeLine{00779\ }
\DoxyCodeLine{00780\ \ \ \textcolor{comment}{//\ Pass\ this\ benchmark\ object\ to\ *func,\ which\ can\ customize}}
\DoxyCodeLine{00781\ \ \ \textcolor{comment}{//\ the\ benchmark\ by\ calling\ various\ methods\ like\ Arg,\ Args,}}
\DoxyCodeLine{00782\ \ \ \textcolor{comment}{//\ Threads,\ etc.}}
\DoxyCodeLine{00783\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Apply(\textcolor{keywordtype}{void}\ (*func)(\mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ benchmark));}
\DoxyCodeLine{00784\ }
\DoxyCodeLine{00785\ \ \ \textcolor{comment}{//\ Set\ the\ range\ multiplier\ for\ non-\/dense\ range.\ If\ not\ called,\ the\ range}}
\DoxyCodeLine{00786\ \ \ \textcolor{comment}{//\ multiplier\ kRangeMultiplier\ will\ be\ used.}}
\DoxyCodeLine{00787\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ RangeMultiplier(\textcolor{keywordtype}{int}\ multiplier);}
\DoxyCodeLine{00788\ }
\DoxyCodeLine{00789\ \ \ \textcolor{comment}{//\ Set\ the\ minimum\ amount\ of\ time\ to\ use\ when\ running\ this\ benchmark.\ This}}
\DoxyCodeLine{00790\ \ \ \textcolor{comment}{//\ option\ overrides\ the\ `benchmark\_min\_time`\ flag.}}
\DoxyCodeLine{00791\ \ \ \textcolor{comment}{//\ REQUIRES:\ `t\ >\ 0`\ and\ `Iterations`\ has\ not\ been\ called\ on\ this\ benchmark.}}
\DoxyCodeLine{00792\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ MinTime(\textcolor{keywordtype}{double}\ t);}
\DoxyCodeLine{00793\ }
\DoxyCodeLine{00794\ \ \ \textcolor{comment}{//\ Specify\ the\ amount\ of\ iterations\ that\ should\ be\ run\ by\ this\ benchmark.}}
\DoxyCodeLine{00795\ \ \ \textcolor{comment}{//\ REQUIRES:\ 'n\ >\ 0'\ and\ `MinTime`\ has\ not\ been\ called\ on\ this\ benchmark.}}
\DoxyCodeLine{00796\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00797\ \ \ \textcolor{comment}{//\ NOTE:\ This\ function\ should\ only\ be\ used\ when\ *exact*\ iteration\ control\ is}}
\DoxyCodeLine{00798\ \ \ \textcolor{comment}{//\ \ \ needed\ and\ never\ to\ control\ or\ limit\ how\ long\ a\ benchmark\ runs,\ where}}
\DoxyCodeLine{00799\ \ \ \textcolor{comment}{//\ `-\/-\/benchmark\_min\_time=N`\ or\ `MinTime(...)`\ should\ be\ used\ instead.}}
\DoxyCodeLine{00800\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Iterations(\textcolor{keywordtype}{size\_t}\ n);}
\DoxyCodeLine{00801\ }
\DoxyCodeLine{00802\ \ \ \textcolor{comment}{//\ Specify\ the\ amount\ of\ times\ to\ repeat\ this\ benchmark.\ This\ option\ overrides}}
\DoxyCodeLine{00803\ \ \ \textcolor{comment}{//\ the\ `benchmark\_repetitions`\ flag.}}
\DoxyCodeLine{00804\ \ \ \textcolor{comment}{//\ REQUIRES:\ `n\ >\ 0`}}
\DoxyCodeLine{00805\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Repetitions(\textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00806\ }
\DoxyCodeLine{00807\ \ \ \textcolor{comment}{//\ Specify\ if\ each\ repetition\ of\ the\ benchmark\ should\ be\ reported\ separately}}
\DoxyCodeLine{00808\ \ \ \textcolor{comment}{//\ or\ if\ only\ the\ final\ statistics\ should\ be\ reported.\ If\ the\ benchmark}}
\DoxyCodeLine{00809\ \ \ \textcolor{comment}{//\ is\ not\ repeated\ then\ the\ single\ result\ is\ always\ reported.}}
\DoxyCodeLine{00810\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ ReportAggregatesOnly(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classvalue}{value}}\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00811\ }
\DoxyCodeLine{00812\ \ \ \textcolor{comment}{//\ If\ a\ particular\ benchmark\ is\ I/O\ bound,\ runs\ multiple\ threads\ internally\ or}}
\DoxyCodeLine{00813\ \ \ \textcolor{comment}{//\ if\ for\ some\ reason\ CPU\ timings\ are\ not\ representative,\ call\ this\ method.\ If}}
\DoxyCodeLine{00814\ \ \ \textcolor{comment}{//\ called,\ the\ elapsed\ time\ will\ be\ used\ to\ control\ how\ many\ iterations\ are}}
\DoxyCodeLine{00815\ \ \ \textcolor{comment}{//\ run,\ and\ in\ the\ printing\ of\ items/second\ or\ MB/seconds\ values.\ \ If\ not}}
\DoxyCodeLine{00816\ \ \ \textcolor{comment}{//\ called,\ the\ cpu\ time\ used\ by\ the\ benchmark\ will\ be\ used.}}
\DoxyCodeLine{00817\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ UseRealTime();}
\DoxyCodeLine{00818\ }
\DoxyCodeLine{00819\ \ \ \textcolor{comment}{//\ If\ a\ benchmark\ must\ measure\ time\ manually\ (e.g.\ if\ GPU\ execution\ time\ is}}
\DoxyCodeLine{00820\ \ \ \textcolor{comment}{//\ being}}
\DoxyCodeLine{00821\ \ \ \textcolor{comment}{//\ measured),\ call\ this\ method.\ If\ called,\ each\ benchmark\ iteration\ should}}
\DoxyCodeLine{00822\ \ \ \textcolor{comment}{//\ call}}
\DoxyCodeLine{00823\ \ \ \textcolor{comment}{//\ SetIterationTime(seconds)\ to\ report\ the\ measured\ time,\ which\ will\ be\ used}}
\DoxyCodeLine{00824\ \ \ \textcolor{comment}{//\ to\ control\ how\ many\ iterations\ are\ run,\ and\ in\ the\ printing\ of\ items/second}}
\DoxyCodeLine{00825\ \ \ \textcolor{comment}{//\ or\ MB/second\ values.}}
\DoxyCodeLine{00826\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ UseManualTime();}
\DoxyCodeLine{00827\ }
\DoxyCodeLine{00828\ \ \ \textcolor{comment}{//\ Set\ the\ asymptotic\ computational\ complexity\ for\ the\ benchmark.\ If\ called}}
\DoxyCodeLine{00829\ \ \ \textcolor{comment}{//\ the\ asymptotic\ computational\ complexity\ will\ be\ shown\ on\ the\ output.}}
\DoxyCodeLine{00830\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Complexity(BigO\ complexity\ =\ benchmark::oAuto);}
\DoxyCodeLine{00831\ }
\DoxyCodeLine{00832\ \ \ \textcolor{comment}{//\ Set\ the\ asymptotic\ computational\ complexity\ for\ the\ benchmark.\ If\ called}}
\DoxyCodeLine{00833\ \ \ \textcolor{comment}{//\ the\ asymptotic\ computational\ complexity\ will\ be\ shown\ on\ the\ output.}}
\DoxyCodeLine{00834\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Complexity(BigOFunc*\ complexity);}
\DoxyCodeLine{00835\ }
\DoxyCodeLine{00836\ \ \ \textcolor{comment}{//\ Add\ this\ statistics\ to\ be\ computed\ over\ all\ the\ values\ of\ benchmark\ run}}
\DoxyCodeLine{00837\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ ComputeStatistics(std::string\ name,\ StatisticsFunc*\ statistics);}
\DoxyCodeLine{00838\ }
\DoxyCodeLine{00839\ \ \ \textcolor{comment}{//\ Support\ for\ running\ multiple\ copies\ of\ the\ same\ benchmark\ concurrently}}
\DoxyCodeLine{00840\ \ \ \textcolor{comment}{//\ in\ multiple\ threads.\ \ This\ may\ be\ useful\ when\ measuring\ the\ scaling}}
\DoxyCodeLine{00841\ \ \ \textcolor{comment}{//\ of\ some\ piece\ of\ code.}}
\DoxyCodeLine{00842\ }
\DoxyCodeLine{00843\ \ \ \textcolor{comment}{//\ Run\ one\ instance\ of\ this\ benchmark\ concurrently\ in\ t\ threads.}}
\DoxyCodeLine{00844\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ Threads(\textcolor{keywordtype}{int}\ t);}
\DoxyCodeLine{00845\ }
\DoxyCodeLine{00846\ \ \ \textcolor{comment}{//\ Pick\ a\ set\ of\ values\ T\ from\ [min\_threads,max\_threads].}}
\DoxyCodeLine{00847\ \ \ \textcolor{comment}{//\ min\_threads\ and\ max\_threads\ are\ always\ included\ in\ T.\ \ Run\ this}}
\DoxyCodeLine{00848\ \ \ \textcolor{comment}{//\ benchmark\ once\ for\ each\ value\ in\ T.\ \ The\ benchmark\ run\ for\ a}}
\DoxyCodeLine{00849\ \ \ \textcolor{comment}{//\ particular\ value\ t\ consists\ of\ t\ threads\ running\ the\ benchmark}}
\DoxyCodeLine{00850\ \ \ \textcolor{comment}{//\ function\ concurrently.\ \ For\ example,\ consider:}}
\DoxyCodeLine{00851\ \ \ \textcolor{comment}{//\ \ \ \ BENCHMARK(Foo)-\/>ThreadRange(1,16);}}
\DoxyCodeLine{00852\ \ \ \textcolor{comment}{//\ This\ will\ run\ the\ following\ benchmarks:}}
\DoxyCodeLine{00853\ \ \ \textcolor{comment}{//\ \ \ \ Foo\ in\ 1\ thread}}
\DoxyCodeLine{00854\ \ \ \textcolor{comment}{//\ \ \ \ Foo\ in\ 2\ threads}}
\DoxyCodeLine{00855\ \ \ \textcolor{comment}{//\ \ \ \ Foo\ in\ 4\ threads}}
\DoxyCodeLine{00856\ \ \ \textcolor{comment}{//\ \ \ \ Foo\ in\ 8\ threads}}
\DoxyCodeLine{00857\ \ \ \textcolor{comment}{//\ \ \ \ Foo\ in\ 16\ threads}}
\DoxyCodeLine{00858\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ ThreadRange(\textcolor{keywordtype}{int}\ min\_threads,\ \textcolor{keywordtype}{int}\ max\_threads);}
\DoxyCodeLine{00859\ }
\DoxyCodeLine{00860\ \ \ \textcolor{comment}{//\ For\ each\ value\ n\ in\ the\ range,\ run\ this\ benchmark\ once\ using\ n\ threads.}}
\DoxyCodeLine{00861\ \ \ \textcolor{comment}{//\ min\_threads\ and\ max\_threads\ are\ always\ included\ in\ the\ range.}}
\DoxyCodeLine{00862\ \ \ \textcolor{comment}{//\ stride\ specifies\ the\ increment.\ E.g.\ DenseThreadRange(1,\ 8,\ 3)\ starts}}
\DoxyCodeLine{00863\ \ \ \textcolor{comment}{//\ a\ benchmark\ with\ 1,\ 4,\ 7\ and\ 8\ threads.}}
\DoxyCodeLine{00864\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ DenseThreadRange(\textcolor{keywordtype}{int}\ min\_threads,\ \textcolor{keywordtype}{int}\ max\_threads,\ \textcolor{keywordtype}{int}\ stride\ =\ 1);}
\DoxyCodeLine{00865\ }
\DoxyCodeLine{00866\ \ \ \textcolor{comment}{//\ Equivalent\ to\ ThreadRange(NumCPUs(),\ NumCPUs())}}
\DoxyCodeLine{00867\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}*\ ThreadPerCpu();}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run(\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&\ \mbox{\hyperlink{structstate}{state}})\ =\ 0;}
\DoxyCodeLine{00870\ }
\DoxyCodeLine{00871\ \ \ \textcolor{comment}{//\ Used\ inside\ the\ benchmark\ implementation}}
\DoxyCodeLine{00872\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbenchmark_1_1internal_1_1_benchmark_1_1_instance}{Instance}};}
\DoxyCodeLine{00873\ }
\DoxyCodeLine{00874\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00875\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name);}
\DoxyCodeLine{00876\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}(\mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}\ \textcolor{keyword}{const}\&);}
\DoxyCodeLine{00877\ \ \ \textcolor{keywordtype}{void}\ SetName(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name);}
\DoxyCodeLine{00878\ }
\DoxyCodeLine{00879\ \ \ \textcolor{keywordtype}{int}\ ArgsCnt()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00880\ }
\DoxyCodeLine{00881\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00882\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark_families}{BenchmarkFamilies}};}
\DoxyCodeLine{00883\ }
\DoxyCodeLine{00884\ \ \ std::string\ name\_;}
\DoxyCodeLine{00885\ \ \ ReportMode\ report\_mode\_;}
\DoxyCodeLine{00886\ \ \ std::vector<std::string>\ arg\_names\_;\ \ \ \ \ \ \ \textcolor{comment}{//\ Args\ for\ all\ benchmark\ runs}}
\DoxyCodeLine{00887\ \ \ std::vector<std::vector<int64\_t>\ >\ args\_;\ \ \textcolor{comment}{//\ Args\ for\ all\ benchmark\ runs}}
\DoxyCodeLine{00888\ \ \ TimeUnit\ time\_unit\_;}
\DoxyCodeLine{00889\ \ \ \textcolor{keywordtype}{int}\ range\_multiplier\_;}
\DoxyCodeLine{00890\ \ \ \textcolor{keywordtype}{double}\ min\_time\_;}
\DoxyCodeLine{00891\ \ \ \textcolor{keywordtype}{size\_t}\ iterations\_;}
\DoxyCodeLine{00892\ \ \ \textcolor{keywordtype}{int}\ repetitions\_;}
\DoxyCodeLine{00893\ \ \ \textcolor{keywordtype}{bool}\ use\_real\_time\_;}
\DoxyCodeLine{00894\ \ \ \textcolor{keywordtype}{bool}\ use\_manual\_time\_;}
\DoxyCodeLine{00895\ \ \ BigO\ complexity\_;}
\DoxyCodeLine{00896\ \ \ BigOFunc*\ complexity\_lambda\_;}
\DoxyCodeLine{00897\ \ \ std::vector<Statistics>\ statistics\_;}
\DoxyCodeLine{00898\ \ \ std::vector<int>\ thread\_counts\_;}
\DoxyCodeLine{00899\ }
\DoxyCodeLine{00900\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}\&\ operator=(\mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}\ \textcolor{keyword}{const}\&);}
\DoxyCodeLine{00901\ \};}
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00904\ }
\DoxyCodeLine{00905\ \textcolor{comment}{//\ Create\ and\ register\ a\ benchmark\ with\ the\ specified\ 'name'\ that\ invokes}}
\DoxyCodeLine{00906\ \textcolor{comment}{//\ the\ specified\ functor\ 'fn'.}}
\DoxyCodeLine{00907\ \textcolor{comment}{//}}
\DoxyCodeLine{00908\ \textcolor{comment}{//\ RETURNS:\ A\ pointer\ to\ the\ registered\ benchmark.}}
\DoxyCodeLine{00909\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{internal::Benchmark}}*\ RegisterBenchmark(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name,}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ internal::Function*\ fn);}
\DoxyCodeLine{00911\ }
\DoxyCodeLine{00912\ \textcolor{preprocessor}{\#if\ defined(BENCHMARK\_HAS\_CXX11)}}
\DoxyCodeLine{00913\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Lambda>}
\DoxyCodeLine{00914\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{internal::Benchmark}}*\ RegisterBenchmark(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name,\ Lambda\&\&\ fn);}
\DoxyCodeLine{00915\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00917\ \textcolor{comment}{//\ Remove\ all\ registered\ benchmarks.\ All\ pointers\ to\ previously\ registered}}
\DoxyCodeLine{00918\ \textcolor{comment}{//\ benchmarks\ are\ invalidated.}}
\DoxyCodeLine{00919\ \textcolor{keywordtype}{void}\ ClearRegisteredBenchmarks();}
\DoxyCodeLine{00920\ }
\DoxyCodeLine{00921\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00922\ \textcolor{comment}{//\ The\ class\ used\ to\ hold\ all\ Benchmarks\ created\ from\ static\ function.}}
\DoxyCodeLine{00923\ \textcolor{comment}{//\ (ie\ those\ created\ using\ the\ BENCHMARK(...)\ macros.}}
\DoxyCodeLine{00924\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1internal_1_1_function_benchmark}{FunctionBenchmark}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}\ \{}
\DoxyCodeLine{00925\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00926\ \ \ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_function_benchmark}{FunctionBenchmark}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name,\ Function*\ func)}
\DoxyCodeLine{00927\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}(name),\ func\_(func)\ \{\}}
\DoxyCodeLine{00928\ }
\DoxyCodeLine{00929\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run(\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&\ st);}
\DoxyCodeLine{00930\ }
\DoxyCodeLine{00931\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00932\ \ \ Function*\ func\_;}
\DoxyCodeLine{00933\ \};}
\DoxyCodeLine{00934\ }
\DoxyCodeLine{00935\ \textcolor{preprocessor}{\#ifdef\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{00936\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Lambda>}
\DoxyCodeLine{00937\ \textcolor{keyword}{class\ }LambdaBenchmark\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{Benchmark}}\ \{}
\DoxyCodeLine{00938\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00939\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run(\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&\ st)\ \{\ lambda\_(st);\ \}}
\DoxyCodeLine{00940\ }
\DoxyCodeLine{00941\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00942\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ OLambda>}
\DoxyCodeLine{00943\ \ \ LambdaBenchmark(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name,\ OLambda\&\&\ lam)}
\DoxyCodeLine{00944\ \ \ \ \ \ \ :\ Benchmark(name),\ lambda\_(std::forward<OLambda>(lam))\ \{\}}
\DoxyCodeLine{00945\ }
\DoxyCodeLine{00946\ \ \ LambdaBenchmark(LambdaBenchmark\ \textcolor{keyword}{const}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00947\ }
\DoxyCodeLine{00948\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00949\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Lam>}
\DoxyCodeLine{00950\ \ \ \textcolor{keyword}{friend}\ Benchmark*\ ::benchmark::RegisterBenchmark(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*,\ Lam\&\&);}
\DoxyCodeLine{00951\ }
\DoxyCodeLine{00952\ \ \ Lambda\ lambda\_;}
\DoxyCodeLine{00953\ \};}
\DoxyCodeLine{00954\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00955\ }
\DoxyCodeLine{00956\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00957\ }
\DoxyCodeLine{00958\ \textcolor{keyword}{inline}\ internal::Benchmark*\ RegisterBenchmark(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name,}
\DoxyCodeLine{00959\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ internal::Function*\ fn)\ \{}
\DoxyCodeLine{00960\ \ \ \textcolor{keywordflow}{return}\ internal::RegisterBenchmarkInternal(}
\DoxyCodeLine{00961\ \ \ \ \ \ \ ::new\ internal::FunctionBenchmark(name,\ fn));}
\DoxyCodeLine{00962\ \}}
\DoxyCodeLine{00963\ }
\DoxyCodeLine{00964\ \textcolor{preprocessor}{\#ifdef\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{00965\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Lambda>}
\DoxyCodeLine{00966\ internal::Benchmark*\ RegisterBenchmark(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name,\ Lambda\&\&\ fn)\ \{}
\DoxyCodeLine{00967\ \ \ \textcolor{keyword}{using\ }BenchType\ =}
\DoxyCodeLine{00968\ \ \ \ \ \ \ internal::LambdaBenchmark<typename\ std::decay<Lambda>::type>;}
\DoxyCodeLine{00969\ \ \ \textcolor{keywordflow}{return}\ internal::RegisterBenchmarkInternal(}
\DoxyCodeLine{00970\ \ \ \ \ \ \ ::new\ BenchType(name,\ std::forward<Lambda>(fn)));}
\DoxyCodeLine{00971\ \}}
\DoxyCodeLine{00972\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00973\ }
\DoxyCodeLine{00974\ \textcolor{preprocessor}{\#if\ defined(BENCHMARK\_HAS\_CXX11)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00975\ \textcolor{preprocessor}{\ \ \ \ (!defined(BENCHMARK\_GCC\_VERSION)\ ||\ BENCHMARK\_GCC\_VERSION\ >=\ 409)}}
\DoxyCodeLine{00976\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class\ }Lambda,\ \textcolor{keyword}{class}...\ Args>}
\DoxyCodeLine{00977\ internal::Benchmark*\ RegisterBenchmark(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name,\ Lambda\&\&\ fn,}
\DoxyCodeLine{00978\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Args\&\&...\ args)\ \{}
\DoxyCodeLine{00979\ \ \ \textcolor{keywordflow}{return}\ benchmark::RegisterBenchmark(}
\DoxyCodeLine{00980\ \ \ \ \ \ \ name,\ [=](\mbox{\hyperlink{classbenchmark_1_1_state}{benchmark::State}}\&\ st)\ \{\ fn(st,\ args...);\ \});}
\DoxyCodeLine{00981\ \}}
\DoxyCodeLine{00982\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00983\ \textcolor{preprocessor}{\#define\ BENCHMARK\_HAS\_NO\_VARIADIC\_REGISTER\_BENCHMARK}}
\DoxyCodeLine{00984\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00985\ }
\DoxyCodeLine{00986\ \textcolor{comment}{//\ The\ base\ class\ for\ all\ fixture\ tests.}}
\DoxyCodeLine{00987\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1_fixture}{Fixture}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{internal::Benchmark}}\ \{}
\DoxyCodeLine{00988\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00989\ \ \ \mbox{\hyperlink{classbenchmark_1_1_fixture}{Fixture}}()\ :\ \mbox{\hyperlink{classbenchmark_1_1internal_1_1_benchmark}{internal::Benchmark}}(\textcolor{stringliteral}{"{}"{}})\ \{\}}
\DoxyCodeLine{00990\ }
\DoxyCodeLine{00991\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Run(\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&\ st)\ \{}
\DoxyCodeLine{00992\ \ \ \ \ this-\/>SetUp(st);}
\DoxyCodeLine{00993\ \ \ \ \ this-\/>BenchmarkCase(st);}
\DoxyCodeLine{00994\ \ \ \ \ this-\/>TearDown(st);}
\DoxyCodeLine{00995\ \ \ \}}
\DoxyCodeLine{00996\ }
\DoxyCodeLine{00997\ \ \ \textcolor{comment}{//\ These\ will\ be\ deprecated\ ...}}
\DoxyCodeLine{00998\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ SetUp(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&)\ \{\}}
\DoxyCodeLine{00999\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ TearDown(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&)\ \{\}}
\DoxyCodeLine{01000\ \ \ \textcolor{comment}{//\ ...\ In\ favor\ of\ these.}}
\DoxyCodeLine{01001\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ SetUp(\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&\ st)\ \{\ SetUp(\textcolor{keyword}{const\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&\textcolor{keyword}{>}(st));\ \}}
\DoxyCodeLine{01002\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ TearDown(\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&\ st)\ \{\ TearDown(\textcolor{keyword}{const\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&\textcolor{keyword}{>}(st));\ \}}
\DoxyCodeLine{01003\ }
\DoxyCodeLine{01004\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01005\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ BenchmarkCase(\mbox{\hyperlink{classbenchmark_1_1_state}{State}}\&)\ =\ 0;}
\DoxyCodeLine{01006\ \};}
\DoxyCodeLine{01007\ }
\DoxyCodeLine{01008\ \}\ \ \textcolor{comment}{//\ namespace\ benchmark}}
\DoxyCodeLine{01009\ }
\DoxyCodeLine{01010\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01011\ \textcolor{comment}{//\ Macro\ to\ register\ benchmarks}}
\DoxyCodeLine{01012\ }
\DoxyCodeLine{01013\ \textcolor{comment}{//\ Check\ that\ \_\_COUNTER\_\_\ is\ defined\ and\ that\ \_\_COUNTER\_\_\ increases\ by\ 1}}
\DoxyCodeLine{01014\ \textcolor{comment}{//\ every\ time\ it\ is\ expanded.\ X\ +\ 1\ ==\ X\ +\ 0\ is\ used\ in\ case\ X\ is\ defined\ to\ be}}
\DoxyCodeLine{01015\ \textcolor{comment}{//\ empty.\ If\ X\ is\ empty\ the\ expression\ becomes\ (+1\ ==\ +0).}}
\DoxyCodeLine{01016\ \textcolor{preprocessor}{\#if\ defined(\_\_COUNTER\_\_)\ \&\&\ (\_\_COUNTER\_\_\ +\ 1\ ==\ \_\_COUNTER\_\_\ +\ 0)}}
\DoxyCodeLine{01017\ \textcolor{preprocessor}{\#define\ BENCHMARK\_PRIVATE\_UNIQUE\_ID\ \_\_COUNTER\_\_}}
\DoxyCodeLine{01018\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01019\ \textcolor{preprocessor}{\#define\ BENCHMARK\_PRIVATE\_UNIQUE\_ID\ \_\_LINE\_\_}}
\DoxyCodeLine{01020\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01021\ }
\DoxyCodeLine{01022\ \textcolor{comment}{//\ Helpers\ for\ generating\ unique\ variable\ names}}
\DoxyCodeLine{01023\ \textcolor{preprocessor}{\#define\ BENCHMARK\_PRIVATE\_NAME(n)\ \(\backslash\)}}
\DoxyCodeLine{01024\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_CONCAT(\_benchmark\_,\ BENCHMARK\_PRIVATE\_UNIQUE\_ID,\ n)}}
\DoxyCodeLine{01025\ \textcolor{preprocessor}{\#define\ BENCHMARK\_PRIVATE\_CONCAT(a,\ b,\ c)\ BENCHMARK\_PRIVATE\_CONCAT2(a,\ b,\ c)}}
\DoxyCodeLine{01026\ \textcolor{preprocessor}{\#define\ BENCHMARK\_PRIVATE\_CONCAT2(a,\ b,\ c)\ a\#\#b\#\#c}}
\DoxyCodeLine{01027\ }
\DoxyCodeLine{01028\ \textcolor{preprocessor}{\#define\ BENCHMARK\_PRIVATE\_DECLARE(n)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01029\ \textcolor{preprocessor}{\ \ static\ ::benchmark::internal::Benchmark*\ BENCHMARK\_PRIVATE\_NAME(n)\ \(\backslash\)}}
\DoxyCodeLine{01030\ \textcolor{preprocessor}{\ \ \ \ \ \ BENCHMARK\_UNUSED}}
\DoxyCodeLine{01031\ }
\DoxyCodeLine{01032\ \textcolor{preprocessor}{\#define\ BENCHMARK(n)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01033\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_DECLARE(n)\ =\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01034\ \textcolor{preprocessor}{\ \ \ \ \ \ (::benchmark::internal::RegisterBenchmarkInternal(\ \(\backslash\)}}
\DoxyCodeLine{01035\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ new\ ::benchmark::internal::FunctionBenchmark(\#n,\ n)))}}
\DoxyCodeLine{01036\ }
\DoxyCodeLine{01037\ \textcolor{comment}{//\ Old-\/style\ macros}}
\DoxyCodeLine{01038\ \textcolor{preprocessor}{\#define\ BENCHMARK\_WITH\_ARG(n,\ a)\ BENCHMARK(n)-\/>Arg((a))}}
\DoxyCodeLine{01039\ \textcolor{preprocessor}{\#define\ BENCHMARK\_WITH\_ARG2(n,\ a1,\ a2)\ BENCHMARK(n)-\/>Args(\{(a1),\ (a2)\})}}
\DoxyCodeLine{01040\ \textcolor{preprocessor}{\#define\ BENCHMARK\_WITH\_UNIT(n,\ t)\ BENCHMARK(n)-\/>Unit((t))}}
\DoxyCodeLine{01041\ \textcolor{preprocessor}{\#define\ BENCHMARK\_RANGE(n,\ lo,\ hi)\ BENCHMARK(n)-\/>Range((lo),\ (hi))}}
\DoxyCodeLine{01042\ \textcolor{preprocessor}{\#define\ BENCHMARK\_RANGE2(n,\ l1,\ h1,\ l2,\ h2)\ \(\backslash\)}}
\DoxyCodeLine{01043\ \textcolor{preprocessor}{\ \ BENCHMARK(n)-\/>RangePair(\{\{(l1),\ (h1)\},\ \{(l2),\ (h2)\}\})}}
\DoxyCodeLine{01044\ }
\DoxyCodeLine{01045\ \textcolor{preprocessor}{\#ifdef\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{01046\ }
\DoxyCodeLine{01047\ \textcolor{comment}{//\ Register\ a\ benchmark\ which\ invokes\ the\ function\ specified\ by\ `func`}}
\DoxyCodeLine{01048\ \textcolor{comment}{//\ with\ the\ additional\ arguments\ specified\ by\ `...`.}}
\DoxyCodeLine{01049\ \textcolor{comment}{//}}
\DoxyCodeLine{01050\ \textcolor{comment}{//\ For\ example:}}
\DoxyCodeLine{01051\ \textcolor{comment}{//}}
\DoxyCodeLine{01052\ \textcolor{comment}{//\ template\ <class\ ...ExtraArgs>`}}
\DoxyCodeLine{01053\ \textcolor{comment}{//\ void\ BM\_takes\_args(benchmark::State\&\ state,\ ExtraArgs\&\&...\ extra\_args)\ \{}}
\DoxyCodeLine{01054\ \textcolor{comment}{//\ \ [...]}}
\DoxyCodeLine{01055\ \textcolor{comment}{//\}}}
\DoxyCodeLine{01056\ \textcolor{comment}{//\ /*\ Registers\ a\ benchmark\ named\ "{}BM\_takes\_args/int\_string\_test`\ */}}
\DoxyCodeLine{01057\ \textcolor{comment}{//\ BENCHMARK\_CAPTURE(BM\_takes\_args,\ int\_string\_test,\ 42,\ std::string("{}abc"{}));}}
\DoxyCodeLine{01058\ \textcolor{preprocessor}{\#define\ BENCHMARK\_CAPTURE(func,\ test\_case\_name,\ ...)\ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01059\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_DECLARE(func)\ =\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01060\ \textcolor{preprocessor}{\ \ \ \ \ \ (::benchmark::internal::RegisterBenchmarkInternal(\ \(\backslash\)}}
\DoxyCodeLine{01061\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ new\ ::benchmark::internal::FunctionBenchmark(\ \ \(\backslash\)}}
\DoxyCodeLine{01062\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \#func\ "{}/"{}}\ \#test\_case\_name,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](::benchmark::State\&\ st)\ \{\ func(st,\ \_\_VA\_ARGS\_\_);\ \})))}
\DoxyCodeLine{01064\ }
\DoxyCodeLine{01065\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{01066\ }
\DoxyCodeLine{01067\ \textcolor{comment}{//\ This\ will\ register\ a\ benchmark\ for\ a\ templatized\ function.\ \ For\ example:}}
\DoxyCodeLine{01068\ \textcolor{comment}{//}}
\DoxyCodeLine{01069\ \textcolor{comment}{//\ template<int\ arg>}}
\DoxyCodeLine{01070\ \textcolor{comment}{//\ void\ BM\_Foo(int\ iters);}}
\DoxyCodeLine{01071\ \textcolor{comment}{//}}
\DoxyCodeLine{01072\ \textcolor{comment}{//\ BENCHMARK\_TEMPLATE(BM\_Foo,\ 1);}}
\DoxyCodeLine{01073\ \textcolor{comment}{//}}
\DoxyCodeLine{01074\ \textcolor{comment}{//\ will\ register\ BM\_Foo<1>\ as\ a\ benchmark.}}
\DoxyCodeLine{01075\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE1(n,\ a)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01076\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_DECLARE(n)\ =\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01077\ \textcolor{preprocessor}{\ \ \ \ \ \ (::benchmark::internal::RegisterBenchmarkInternal(\ \(\backslash\)}}
\DoxyCodeLine{01078\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ new\ ::benchmark::internal::FunctionBenchmark(\#n\ "{}<"{}}\ \#a\ "{}>"{},\ n<a>)))}
\DoxyCodeLine{01079\ }
\DoxyCodeLine{01080\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE2(n,\ a,\ b)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01081\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_DECLARE(n)\ =\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01082\ \textcolor{preprocessor}{\ \ \ \ \ \ (::benchmark::internal::RegisterBenchmarkInternal(\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01083\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ new\ ::benchmark::internal::FunctionBenchmark(\#n\ "{}<"{}}\ \#a\ "{},"{}\ \#b\ "{}>"{},\ \(\backslash\)}
\DoxyCodeLine{01084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ n<a,\ b>)))}
\DoxyCodeLine{01085\ }
\DoxyCodeLine{01086\ \textcolor{preprocessor}{\#ifdef\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{01087\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE(n,\ ...)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01088\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_DECLARE(n)\ =\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01089\ \textcolor{preprocessor}{\ \ \ \ \ \ (::benchmark::internal::RegisterBenchmarkInternal(\ \(\backslash\)}}
\DoxyCodeLine{01090\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ new\ ::benchmark::internal::FunctionBenchmark(\ \ \(\backslash\)}}
\DoxyCodeLine{01091\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \#n\ "{}<"{}}\ \#\_\_VA\_ARGS\_\_\ "{}>"{},\ n<\_\_VA\_ARGS\_\_>)))}
\DoxyCodeLine{01092\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01093\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE(n,\ a)\ BENCHMARK\_TEMPLATE1(n,\ a)}}
\DoxyCodeLine{01094\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01095\ }
\DoxyCodeLine{01096\ \textcolor{preprocessor}{\#define\ BENCHMARK\_PRIVATE\_DECLARE\_F(BaseClass,\ Method)\ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01097\ \textcolor{preprocessor}{\ \ class\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark\ :\ public\ BaseClass\ \{\ \(\backslash\)}}
\DoxyCodeLine{01098\ \textcolor{preprocessor}{\ \ \ public:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01099\ \textcolor{preprocessor}{\ \ \ \ BaseClass\#\#\_\#\#Method\#\#\_Benchmark()\ :\ BaseClass()\ \{\ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01100\ \textcolor{preprocessor}{\ \ \ \ \ \ this-\/>SetName(\#BaseClass\ "{}/"{}}\ \#Method);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01101\ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01103\ \ \ \ protected:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01104\ \ \ \ \ virtual\ void\ BenchmarkCase(::benchmark::State\&);\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01105\ \ \ \};}
\DoxyCodeLine{01106\ }
\DoxyCodeLine{01107\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE1\_PRIVATE\_DECLARE\_F(BaseClass,\ Method,\ a)\ \(\backslash\)}}
\DoxyCodeLine{01108\ \textcolor{preprocessor}{\ \ class\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark\ :\ public\ BaseClass<a>\ \{\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01109\ \textcolor{preprocessor}{\ \ \ public:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01110\ \textcolor{preprocessor}{\ \ \ \ BaseClass\#\#\_\#\#Method\#\#\_Benchmark()\ :\ BaseClass<a>()\ \{\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01111\ \textcolor{preprocessor}{\ \ \ \ \ \ this-\/>SetName(\#BaseClass\ "{}<"{}}\ \#a\ "{}>/"{}\ \#Method);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01112\ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01114\ \ \ \ protected:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01115\ \ \ \ \ virtual\ void\ BenchmarkCase(::benchmark::State\&);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01116\ \ \ \};}
\DoxyCodeLine{01117\ }
\DoxyCodeLine{01118\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE2\_PRIVATE\_DECLARE\_F(BaseClass,\ Method,\ a,\ b)\ \(\backslash\)}}
\DoxyCodeLine{01119\ \textcolor{preprocessor}{\ \ class\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark\ :\ public\ BaseClass<a,\ b>\ \{\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01120\ \textcolor{preprocessor}{\ \ \ public:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01121\ \textcolor{preprocessor}{\ \ \ \ BaseClass\#\#\_\#\#Method\#\#\_Benchmark()\ :\ BaseClass<a,\ b>()\ \{\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01122\ \textcolor{preprocessor}{\ \ \ \ \ \ this-\/>SetName(\#BaseClass\ "{}<"{}}\ \#a\ "{},"{}\ \#b\ "{}>/"{}\ \#Method);\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01123\ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01125\ \ \ \ protected:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01126\ \ \ \ \ virtual\ void\ BenchmarkCase(::benchmark::State\&);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01127\ \ \ \};}
\DoxyCodeLine{01128\ }
\DoxyCodeLine{01129\ \textcolor{preprocessor}{\#ifdef\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{01130\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE\_PRIVATE\_DECLARE\_F(BaseClass,\ Method,\ ...)\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01131\ \textcolor{preprocessor}{\ \ class\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark\ :\ public\ BaseClass<\_\_VA\_ARGS\_\_>\ \{\ \(\backslash\)}}
\DoxyCodeLine{01132\ \textcolor{preprocessor}{\ \ \ public:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01133\ \textcolor{preprocessor}{\ \ \ \ BaseClass\#\#\_\#\#Method\#\#\_Benchmark()\ :\ BaseClass<\_\_VA\_ARGS\_\_>()\ \{\ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01134\ \textcolor{preprocessor}{\ \ \ \ \ \ this-\/>SetName(\#BaseClass\ "{}<"{}}\ \#\_\_VA\_ARGS\_\_\ "{}>/"{}\ \#Method);\ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01135\ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01137\ \ \ \ protected:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01138\ \ \ \ \ virtual\ void\ BenchmarkCase(::benchmark::State\&);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{01139\ \ \ \};}
\DoxyCodeLine{01140\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01141\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE\_PRIVATE\_DECLARE\_F(n,\ a)\ \(\backslash\)}}
\DoxyCodeLine{01142\ \textcolor{preprocessor}{\ \ BENCHMARK\_TEMPLATE1\_PRIVATE\_DECLARE\_F(n,\ a)}}
\DoxyCodeLine{01143\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01144\ }
\DoxyCodeLine{01145\ \textcolor{preprocessor}{\#define\ BENCHMARK\_DEFINE\_F(BaseClass,\ Method)\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01146\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_DECLARE\_F(BaseClass,\ Method)\ \(\backslash\)}}
\DoxyCodeLine{01147\ \textcolor{preprocessor}{\ \ void\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark::BenchmarkCase}}
\DoxyCodeLine{01148\ }
\DoxyCodeLine{01149\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE1\_DEFINE\_F(BaseClass,\ Method,\ a)\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01150\ \textcolor{preprocessor}{\ \ BENCHMARK\_TEMPLATE1\_PRIVATE\_DECLARE\_F(BaseClass,\ Method,\ a)\ \(\backslash\)}}
\DoxyCodeLine{01151\ \textcolor{preprocessor}{\ \ void\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark::BenchmarkCase}}
\DoxyCodeLine{01152\ }
\DoxyCodeLine{01153\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE2\_DEFINE\_F(BaseClass,\ Method,\ a,\ b)\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01154\ \textcolor{preprocessor}{\ \ BENCHMARK\_TEMPLATE2\_PRIVATE\_DECLARE\_F(BaseClass,\ Method,\ a,\ b)\ \(\backslash\)}}
\DoxyCodeLine{01155\ \textcolor{preprocessor}{\ \ void\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark::BenchmarkCase}}
\DoxyCodeLine{01156\ }
\DoxyCodeLine{01157\ \textcolor{preprocessor}{\#ifdef\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{01158\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE\_DEFINE\_F(BaseClass,\ Method,\ ...)\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01159\ \textcolor{preprocessor}{\ \ BENCHMARK\_TEMPLATE\_PRIVATE\_DECLARE\_F(BaseClass,\ Method,\ \_\_VA\_ARGS\_\_)\ \(\backslash\)}}
\DoxyCodeLine{01160\ \textcolor{preprocessor}{\ \ void\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark::BenchmarkCase}}
\DoxyCodeLine{01161\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01162\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE\_DEFINE\_F(BaseClass,\ Method,\ a)\ \(\backslash\)}}
\DoxyCodeLine{01163\ \textcolor{preprocessor}{\ \ BENCHMARK\_TEMPLATE1\_DEFINE\_F(BaseClass,\ Method,\ a)}}
\DoxyCodeLine{01164\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01165\ }
\DoxyCodeLine{01166\ \textcolor{preprocessor}{\#define\ BENCHMARK\_REGISTER\_F(BaseClass,\ Method)\ \(\backslash\)}}
\DoxyCodeLine{01167\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_REGISTER\_F(BaseClass\#\#\_\#\#Method\#\#\_Benchmark)}}
\DoxyCodeLine{01168\ }
\DoxyCodeLine{01169\ \textcolor{preprocessor}{\#define\ BENCHMARK\_PRIVATE\_REGISTER\_F(TestName)\ \(\backslash\)}}
\DoxyCodeLine{01170\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_DECLARE(TestName)\ =\ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01171\ \textcolor{preprocessor}{\ \ \ \ \ \ (::benchmark::internal::RegisterBenchmarkInternal(new\ TestName()))}}
\DoxyCodeLine{01172\ }
\DoxyCodeLine{01173\ \textcolor{comment}{//\ This\ macro\ will\ define\ and\ register\ a\ benchmark\ within\ a\ fixture\ class.}}
\DoxyCodeLine{01174\ \textcolor{preprocessor}{\#define\ BENCHMARK\_F(BaseClass,\ Method)\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01175\ \textcolor{preprocessor}{\ \ BENCHMARK\_PRIVATE\_DECLARE\_F(BaseClass,\ Method)\ \(\backslash\)}}
\DoxyCodeLine{01176\ \textcolor{preprocessor}{\ \ BENCHMARK\_REGISTER\_F(BaseClass,\ Method);\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01177\ \textcolor{preprocessor}{\ \ void\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark::BenchmarkCase}}
\DoxyCodeLine{01178\ }
\DoxyCodeLine{01179\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE1\_F(BaseClass,\ Method,\ a)\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01180\ \textcolor{preprocessor}{\ \ BENCHMARK\_TEMPLATE1\_PRIVATE\_DECLARE\_F(BaseClass,\ Method,\ a)\ \(\backslash\)}}
\DoxyCodeLine{01181\ \textcolor{preprocessor}{\ \ BENCHMARK\_REGISTER\_F(BaseClass,\ Method);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01182\ \textcolor{preprocessor}{\ \ void\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark::BenchmarkCase}}
\DoxyCodeLine{01183\ }
\DoxyCodeLine{01184\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE2\_F(BaseClass,\ Method,\ a,\ b)\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01185\ \textcolor{preprocessor}{\ \ BENCHMARK\_TEMPLATE2\_PRIVATE\_DECLARE\_F(BaseClass,\ Method,\ a,\ b)\ \(\backslash\)}}
\DoxyCodeLine{01186\ \textcolor{preprocessor}{\ \ BENCHMARK\_REGISTER\_F(BaseClass,\ Method);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01187\ \textcolor{preprocessor}{\ \ void\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark::BenchmarkCase}}
\DoxyCodeLine{01188\ }
\DoxyCodeLine{01189\ \textcolor{preprocessor}{\#ifdef\ BENCHMARK\_HAS\_CXX11}}
\DoxyCodeLine{01190\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE\_F(BaseClass,\ Method,\ ...)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01191\ \textcolor{preprocessor}{\ \ BENCHMARK\_TEMPLATE\_PRIVATE\_DECLARE\_F(BaseClass,\ Method,\ \_\_VA\_ARGS\_\_)\ \(\backslash\)}}
\DoxyCodeLine{01192\ \textcolor{preprocessor}{\ \ BENCHMARK\_REGISTER\_F(BaseClass,\ Method);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01193\ \textcolor{preprocessor}{\ \ void\ BaseClass\#\#\_\#\#Method\#\#\_Benchmark::BenchmarkCase}}
\DoxyCodeLine{01194\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01195\ \textcolor{preprocessor}{\#define\ BENCHMARK\_TEMPLATE\_F(BaseClass,\ Method,\ a)\ \(\backslash\)}}
\DoxyCodeLine{01196\ \textcolor{preprocessor}{\ \ BENCHMARK\_TEMPLATE1\_F(BaseClass,\ Method,\ a)}}
\DoxyCodeLine{01197\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01198\ }
\DoxyCodeLine{01199\ \textcolor{comment}{//\ Helper\ macro\ to\ create\ a\ main\ routine\ in\ a\ test\ that\ runs\ the\ benchmarks}}
\DoxyCodeLine{01200\ \textcolor{preprocessor}{\#define\ BENCHMARK\_MAIN()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01201\ \textcolor{preprocessor}{\ \ int\ main(int\ argc,\ char**\ argv)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01202\ \textcolor{preprocessor}{\ \ \ \ ::benchmark::Initialize(\&argc,\ argv);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01203\ \textcolor{preprocessor}{\ \ \ \ if\ (::benchmark::ReportUnrecognizedArguments(argc,\ argv))\ return\ 1;\ \(\backslash\)}}
\DoxyCodeLine{01204\ \textcolor{preprocessor}{\ \ \ \ ::benchmark::RunSpecifiedBenchmarks();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01205\ \textcolor{preprocessor}{\ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01206\ \textcolor{preprocessor}{\ \ int\ main(int,\ char**)}}
\DoxyCodeLine{01207\ }
\DoxyCodeLine{01208\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01209\ \textcolor{comment}{//\ Benchmark\ Reporters}}
\DoxyCodeLine{01210\ }
\DoxyCodeLine{01211\ \textcolor{keyword}{namespace\ }benchmark\ \{}
\DoxyCodeLine{01212\ }
\DoxyCodeLine{01213\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbenchmark_1_1_c_p_u_info}{CPUInfo}}\ \{}
\DoxyCodeLine{01214\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbenchmark_1_1_c_p_u_info_1_1_cache_info}{CacheInfo}}\ \{}
\DoxyCodeLine{01215\ \ \ \ \ std::string\ type;}
\DoxyCodeLine{01216\ \ \ \ \ \textcolor{keywordtype}{int}\ level;}
\DoxyCodeLine{01217\ \ \ \ \ \textcolor{keywordtype}{int}\ size;}
\DoxyCodeLine{01218\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_sharing;}
\DoxyCodeLine{01219\ \ \ \};}
\DoxyCodeLine{01220\ }
\DoxyCodeLine{01221\ \ \ \textcolor{keywordtype}{int}\ num\_cpus;}
\DoxyCodeLine{01222\ \ \ \textcolor{keywordtype}{double}\ cycles\_per\_second;}
\DoxyCodeLine{01223\ \ \ std::vector<CacheInfo>\ caches;}
\DoxyCodeLine{01224\ \ \ \textcolor{keywordtype}{bool}\ scaling\_enabled;}
\DoxyCodeLine{01225\ }
\DoxyCodeLine{01226\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbenchmark_1_1_c_p_u_info}{CPUInfo}}\&\ Get();}
\DoxyCodeLine{01227\ }
\DoxyCodeLine{01228\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01229\ \ \ \mbox{\hyperlink{structbenchmark_1_1_c_p_u_info}{CPUInfo}}();}
\DoxyCodeLine{01230\ \ \ BENCHMARK\_DISALLOW\_COPY\_AND\_ASSIGN(\mbox{\hyperlink{structbenchmark_1_1_c_p_u_info}{CPUInfo}});}
\DoxyCodeLine{01231\ \};}
\DoxyCodeLine{01232\ }
\DoxyCodeLine{01233\ \textcolor{comment}{//\ Interface\ for\ custom\ benchmark\ result\ printers.}}
\DoxyCodeLine{01234\ \textcolor{comment}{//\ By\ default,\ benchmark\ reports\ are\ printed\ to\ stdout.\ However\ an\ application}}
\DoxyCodeLine{01235\ \textcolor{comment}{//\ can\ control\ the\ destination\ of\ the\ reports\ by\ calling}}
\DoxyCodeLine{01236\ \textcolor{comment}{//\ RunSpecifiedBenchmarks\ and\ passing\ it\ a\ custom\ reporter\ object.}}
\DoxyCodeLine{01237\ \textcolor{comment}{//\ The\ reporter\ object\ must\ implement\ the\ following\ interface.}}
\DoxyCodeLine{01238\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1_benchmark_reporter}{BenchmarkReporter}}\ \{}
\DoxyCodeLine{01239\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01240\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_context}{Context}}\ \{}
\DoxyCodeLine{01241\ \ \ \ \ \mbox{\hyperlink{structbenchmark_1_1_c_p_u_info}{CPUInfo}}\ \textcolor{keyword}{const}\&\ cpu\_info;}
\DoxyCodeLine{01242\ \ \ \ \ \textcolor{comment}{//\ The\ number\ of\ chars\ in\ the\ longest\ benchmark\ name.}}
\DoxyCodeLine{01243\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ name\_field\_width;}
\DoxyCodeLine{01244\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ executable\_name;}
\DoxyCodeLine{01245\ \ \ \ \ \mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_context}{Context}}();}
\DoxyCodeLine{01246\ \ \ \};}
\DoxyCodeLine{01247\ }
\DoxyCodeLine{01248\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_run}{Run}}\ \{}
\DoxyCodeLine{01249\ \ \ \ \ \mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_run}{Run}}()}
\DoxyCodeLine{01250\ \ \ \ \ \ \ \ \ :\ error\_occurred(\textcolor{keyword}{false}),}
\DoxyCodeLine{01251\ \ \ \ \ \ \ \ \ \ \ iterations(1),}
\DoxyCodeLine{01252\ \ \ \ \ \ \ \ \ \ \ time\_unit(kNanosecond),}
\DoxyCodeLine{01253\ \ \ \ \ \ \ \ \ \ \ real\_accumulated\_time(0),}
\DoxyCodeLine{01254\ \ \ \ \ \ \ \ \ \ \ cpu\_accumulated\_time(0),}
\DoxyCodeLine{01255\ \ \ \ \ \ \ \ \ \ \ bytes\_per\_second(0),}
\DoxyCodeLine{01256\ \ \ \ \ \ \ \ \ \ \ items\_per\_second(0),}
\DoxyCodeLine{01257\ \ \ \ \ \ \ \ \ \ \ max\_heapbytes\_used(0),}
\DoxyCodeLine{01258\ \ \ \ \ \ \ \ \ \ \ complexity(oNone),}
\DoxyCodeLine{01259\ \ \ \ \ \ \ \ \ \ \ complexity\_lambda(),}
\DoxyCodeLine{01260\ \ \ \ \ \ \ \ \ \ \ complexity\_n(0),}
\DoxyCodeLine{01261\ \ \ \ \ \ \ \ \ \ \ report\_big\_o(\textcolor{keyword}{false}),}
\DoxyCodeLine{01262\ \ \ \ \ \ \ \ \ \ \ report\_rms(\textcolor{keyword}{false}),}
\DoxyCodeLine{01263\ \ \ \ \ \ \ \ \ \ \ counters()\ \{\}}
\DoxyCodeLine{01264\ }
\DoxyCodeLine{01265\ \ \ \ \ std::string\ benchmark\_name;}
\DoxyCodeLine{01266\ \ \ \ \ std::string\ report\_label;\ \ \textcolor{comment}{//\ Empty\ if\ not\ set\ by\ benchmark.}}
\DoxyCodeLine{01267\ \ \ \ \ \textcolor{keywordtype}{bool}\ error\_occurred;}
\DoxyCodeLine{01268\ \ \ \ \ std::string\ error\_message;}
\DoxyCodeLine{01269\ }
\DoxyCodeLine{01270\ \ \ \ \ int64\_t\ iterations;}
\DoxyCodeLine{01271\ \ \ \ \ TimeUnit\ time\_unit;}
\DoxyCodeLine{01272\ \ \ \ \ \textcolor{keywordtype}{double}\ real\_accumulated\_time;}
\DoxyCodeLine{01273\ \ \ \ \ \textcolor{keywordtype}{double}\ cpu\_accumulated\_time;}
\DoxyCodeLine{01274\ }
\DoxyCodeLine{01275\ \ \ \ \ \textcolor{comment}{//\ Return\ a\ value\ representing\ the\ real\ time\ per\ iteration\ in\ the\ unit}}
\DoxyCodeLine{01276\ \ \ \ \ \textcolor{comment}{//\ specified\ by\ 'time\_unit'.}}
\DoxyCodeLine{01277\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ If\ 'iterations'\ is\ zero\ the\ returned\ value\ represents\ the}}
\DoxyCodeLine{01278\ \ \ \ \ \textcolor{comment}{//\ accumulated\ time.}}
\DoxyCodeLine{01279\ \ \ \ \ \textcolor{keywordtype}{double}\ GetAdjustedRealTime()\ \textcolor{keyword}{const};}
\DoxyCodeLine{01280\ }
\DoxyCodeLine{01281\ \ \ \ \ \textcolor{comment}{//\ Return\ a\ value\ representing\ the\ cpu\ time\ per\ iteration\ in\ the\ unit}}
\DoxyCodeLine{01282\ \ \ \ \ \textcolor{comment}{//\ specified\ by\ 'time\_unit'.}}
\DoxyCodeLine{01283\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ If\ 'iterations'\ is\ zero\ the\ returned\ value\ represents\ the}}
\DoxyCodeLine{01284\ \ \ \ \ \textcolor{comment}{//\ accumulated\ time.}}
\DoxyCodeLine{01285\ \ \ \ \ \textcolor{keywordtype}{double}\ GetAdjustedCPUTime()\ \textcolor{keyword}{const};}
\DoxyCodeLine{01286\ }
\DoxyCodeLine{01287\ \ \ \ \ \textcolor{comment}{//\ Zero\ if\ not\ set\ by\ benchmark.}}
\DoxyCodeLine{01288\ \ \ \ \ \textcolor{keywordtype}{double}\ bytes\_per\_second;}
\DoxyCodeLine{01289\ \ \ \ \ \textcolor{keywordtype}{double}\ items\_per\_second;}
\DoxyCodeLine{01290\ }
\DoxyCodeLine{01291\ \ \ \ \ \textcolor{comment}{//\ This\ is\ set\ to\ 0.0\ if\ memory\ tracing\ is\ not\ enabled.}}
\DoxyCodeLine{01292\ \ \ \ \ \textcolor{keywordtype}{double}\ max\_heapbytes\_used;}
\DoxyCodeLine{01293\ }
\DoxyCodeLine{01294\ \ \ \ \ \textcolor{comment}{//\ Keep\ track\ of\ arguments\ to\ compute\ asymptotic\ complexity}}
\DoxyCodeLine{01295\ \ \ \ \ BigO\ complexity;}
\DoxyCodeLine{01296\ \ \ \ \ BigOFunc*\ complexity\_lambda;}
\DoxyCodeLine{01297\ \ \ \ \ int64\_t\ complexity\_n;}
\DoxyCodeLine{01298\ }
\DoxyCodeLine{01299\ \ \ \ \ \textcolor{comment}{//\ what\ statistics\ to\ compute\ from\ the\ measurements}}
\DoxyCodeLine{01300\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<Statistics>*\ statistics;}
\DoxyCodeLine{01301\ }
\DoxyCodeLine{01302\ \ \ \ \ \textcolor{comment}{//\ Inform\ print\ function\ whether\ the\ current\ run\ is\ a\ complexity\ report}}
\DoxyCodeLine{01303\ \ \ \ \ \textcolor{keywordtype}{bool}\ report\_big\_o;}
\DoxyCodeLine{01304\ \ \ \ \ \textcolor{keywordtype}{bool}\ report\_rms;}
\DoxyCodeLine{01305\ }
\DoxyCodeLine{01306\ \ \ \ \ UserCounters\ counters;}
\DoxyCodeLine{01307\ \ \ \};}
\DoxyCodeLine{01308\ }
\DoxyCodeLine{01309\ \ \ \textcolor{comment}{//\ Construct\ a\ BenchmarkReporter\ with\ the\ output\ stream\ set\ to\ 'std::cout'}}
\DoxyCodeLine{01310\ \ \ \textcolor{comment}{//\ and\ the\ error\ stream\ set\ to\ 'std::cerr'}}
\DoxyCodeLine{01311\ \ \ \mbox{\hyperlink{classbenchmark_1_1_benchmark_reporter}{BenchmarkReporter}}();}
\DoxyCodeLine{01312\ }
\DoxyCodeLine{01313\ \ \ \textcolor{comment}{//\ Called\ once\ for\ every\ suite\ of\ benchmarks\ run.}}
\DoxyCodeLine{01314\ \ \ \textcolor{comment}{//\ The\ parameter\ "{}context"{}\ contains\ information\ that\ the}}
\DoxyCodeLine{01315\ \ \ \textcolor{comment}{//\ reporter\ may\ wish\ to\ use\ when\ generating\ its\ report,\ for\ example\ the}}
\DoxyCodeLine{01316\ \ \ \textcolor{comment}{//\ platform\ under\ which\ the\ benchmarks\ are\ running.\ The\ benchmark\ run\ is}}
\DoxyCodeLine{01317\ \ \ \textcolor{comment}{//\ never\ started\ if\ this\ function\ returns\ false,\ allowing\ the\ reporter}}
\DoxyCodeLine{01318\ \ \ \textcolor{comment}{//\ to\ skip\ runs\ based\ on\ the\ context\ information.}}
\DoxyCodeLine{01319\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ ReportContext(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_context}{Context}}\&\ context)\ =\ 0;}
\DoxyCodeLine{01320\ }
\DoxyCodeLine{01321\ \ \ \textcolor{comment}{//\ Called\ once\ for\ each\ group\ of\ benchmark\ runs,\ gives\ information\ about}}
\DoxyCodeLine{01322\ \ \ \textcolor{comment}{//\ cpu-\/time\ and\ heap\ memory\ usage\ during\ the\ benchmark\ run.\ If\ the\ group}}
\DoxyCodeLine{01323\ \ \ \textcolor{comment}{//\ of\ runs\ contained\ more\ than\ two\ entries\ then\ 'report'\ contains\ additional}}
\DoxyCodeLine{01324\ \ \ \textcolor{comment}{//\ elements\ representing\ the\ mean\ and\ standard\ deviation\ of\ those\ runs.}}
\DoxyCodeLine{01325\ \ \ \textcolor{comment}{//\ Additionally\ if\ this\ group\ of\ runs\ was\ the\ last\ in\ a\ family\ of\ benchmarks}}
\DoxyCodeLine{01326\ \ \ \textcolor{comment}{//\ 'reports'\ contains\ additional\ entries\ representing\ the\ asymptotic}}
\DoxyCodeLine{01327\ \ \ \textcolor{comment}{//\ complexity\ and\ RMS\ of\ that\ benchmark\ family.}}
\DoxyCodeLine{01328\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ ReportRuns(\textcolor{keyword}{const}\ std::vector<Run>\&\ report)\ =\ 0;}
\DoxyCodeLine{01329\ }
\DoxyCodeLine{01330\ \ \ \textcolor{comment}{//\ Called\ once\ and\ only\ once\ after\ ever\ group\ of\ benchmarks\ is\ run\ and}}
\DoxyCodeLine{01331\ \ \ \textcolor{comment}{//\ reported.}}
\DoxyCodeLine{01332\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Finalize()\ \{\}}
\DoxyCodeLine{01333\ }
\DoxyCodeLine{01334\ \ \ \textcolor{comment}{//\ REQUIRES:\ The\ object\ referenced\ by\ 'out'\ is\ valid\ for\ the\ lifetime}}
\DoxyCodeLine{01335\ \ \ \textcolor{comment}{//\ of\ the\ reporter.}}
\DoxyCodeLine{01336\ \ \ \textcolor{keywordtype}{void}\ SetOutputStream(std::ostream*\ out)\ \{}
\DoxyCodeLine{01337\ \ \ \ \ assert(out);}
\DoxyCodeLine{01338\ \ \ \ \ output\_stream\_\ =\ out;}
\DoxyCodeLine{01339\ \ \ \}}
\DoxyCodeLine{01340\ }
\DoxyCodeLine{01341\ \ \ \textcolor{comment}{//\ REQUIRES:\ The\ object\ referenced\ by\ 'err'\ is\ valid\ for\ the\ lifetime}}
\DoxyCodeLine{01342\ \ \ \textcolor{comment}{//\ of\ the\ reporter.}}
\DoxyCodeLine{01343\ \ \ \textcolor{keywordtype}{void}\ SetErrorStream(std::ostream*\ err)\ \{}
\DoxyCodeLine{01344\ \ \ \ \ assert(err);}
\DoxyCodeLine{01345\ \ \ \ \ error\_stream\_\ =\ err;}
\DoxyCodeLine{01346\ \ \ \}}
\DoxyCodeLine{01347\ }
\DoxyCodeLine{01348\ \ \ std::ostream\&\ GetOutputStream()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *output\_stream\_;\ \}}
\DoxyCodeLine{01349\ }
\DoxyCodeLine{01350\ \ \ std::ostream\&\ GetErrorStream()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *error\_stream\_;\ \}}
\DoxyCodeLine{01351\ }
\DoxyCodeLine{01352\ \ \ \textcolor{keyword}{virtual}\ \string~BenchmarkReporter();}
\DoxyCodeLine{01353\ }
\DoxyCodeLine{01354\ \ \ \textcolor{comment}{//\ Write\ a\ human\ readable\ string\ to\ 'out'\ representing\ the\ specified}}
\DoxyCodeLine{01355\ \ \ \textcolor{comment}{//\ 'context'.}}
\DoxyCodeLine{01356\ \ \ \textcolor{comment}{//\ REQUIRES:\ 'out'\ is\ non-\/null.}}
\DoxyCodeLine{01357\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ PrintBasicContext(std::ostream*\ out,\ \mbox{\hyperlink{struct_context}{Context}}\ \textcolor{keyword}{const}\&\ context);}
\DoxyCodeLine{01358\ }
\DoxyCodeLine{01359\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01360\ \ \ std::ostream*\ output\_stream\_;}
\DoxyCodeLine{01361\ \ \ std::ostream*\ error\_stream\_;}
\DoxyCodeLine{01362\ \};}
\DoxyCodeLine{01363\ }
\DoxyCodeLine{01364\ \textcolor{comment}{//\ Simple\ reporter\ that\ outputs\ benchmark\ data\ to\ the\ console.\ This\ is\ the}}
\DoxyCodeLine{01365\ \textcolor{comment}{//\ default\ reporter\ used\ by\ RunSpecifiedBenchmarks().}}
\DoxyCodeLine{01366\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1_console_reporter}{ConsoleReporter}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classbenchmark_1_1_benchmark_reporter}{BenchmarkReporter}}\ \{}
\DoxyCodeLine{01367\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01368\ \ \ \textcolor{keyword}{enum}\ OutputOptions\ \{}
\DoxyCodeLine{01369\ \ \ \ \ OO\_None\ =\ 0,}
\DoxyCodeLine{01370\ \ \ \ \ OO\_Color\ =\ 1,}
\DoxyCodeLine{01371\ \ \ \ \ OO\_Tabular\ =\ 2,}
\DoxyCodeLine{01372\ \ \ \ \ OO\_ColorTabular\ =\ OO\_Color\ |\ OO\_Tabular,}
\DoxyCodeLine{01373\ \ \ \ \ OO\_Defaults\ =\ OO\_ColorTabular}
\DoxyCodeLine{01374\ \ \ \};}
\DoxyCodeLine{01375\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classbenchmark_1_1_console_reporter}{ConsoleReporter}}(OutputOptions\ opts\_\ =\ OO\_Defaults)}
\DoxyCodeLine{01376\ \ \ \ \ \ \ :\ output\_options\_(opts\_),}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ name\_field\_width\_(0),}
\DoxyCodeLine{01378\ \ \ \ \ \ \ \ \ prev\_counters\_(),}
\DoxyCodeLine{01379\ \ \ \ \ \ \ \ \ printed\_header\_(\textcolor{keyword}{false})\ \{\}}
\DoxyCodeLine{01380\ }
\DoxyCodeLine{01381\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ ReportContext(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_context}{Context}}\&\ context);}
\DoxyCodeLine{01382\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ ReportRuns(\textcolor{keyword}{const}\ std::vector<Run>\&\ reports);}
\DoxyCodeLine{01383\ }
\DoxyCodeLine{01384\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01385\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ PrintRunData(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_run}{Run}}\&\ report);}
\DoxyCodeLine{01386\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ PrintHeader(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_run}{Run}}\&\ report);}
\DoxyCodeLine{01387\ }
\DoxyCodeLine{01388\ \ \ OutputOptions\ output\_options\_;}
\DoxyCodeLine{01389\ \ \ \textcolor{keywordtype}{size\_t}\ name\_field\_width\_;}
\DoxyCodeLine{01390\ \ \ UserCounters\ prev\_counters\_;}
\DoxyCodeLine{01391\ \ \ \textcolor{keywordtype}{bool}\ printed\_header\_;}
\DoxyCodeLine{01392\ \};}
\DoxyCodeLine{01393\ }
\DoxyCodeLine{01394\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbenchmark_1_1_j_s_o_n_reporter}{JSONReporter}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classbenchmark_1_1_benchmark_reporter}{BenchmarkReporter}}\ \{}
\DoxyCodeLine{01395\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01396\ \ \ \mbox{\hyperlink{classbenchmark_1_1_j_s_o_n_reporter}{JSONReporter}}()\ :\ first\_report\_(\textcolor{keyword}{true})\ \{\}}
\DoxyCodeLine{01397\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ ReportContext(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_context}{Context}}\&\ context);}
\DoxyCodeLine{01398\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ ReportRuns(\textcolor{keyword}{const}\ std::vector<Run>\&\ reports);}
\DoxyCodeLine{01399\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Finalize();}
\DoxyCodeLine{01400\ }
\DoxyCodeLine{01401\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01402\ \ \ \textcolor{keywordtype}{void}\ PrintRunData(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbenchmark_1_1_benchmark_reporter_1_1_run}{Run}}\&\ report);}
\DoxyCodeLine{01403\ }
\DoxyCodeLine{01404\ \ \ \textcolor{keywordtype}{bool}\ first\_report\_;}
\DoxyCodeLine{01405\ \};}
\DoxyCodeLine{01406\ }
\DoxyCodeLine{01407\ \textcolor{keyword}{class\ }BENCHMARK\_DEPRECATED\_MSG(\textcolor{stringliteral}{"{}The\ CSV\ Reporter\ will\ be\ removed\ in\ a\ future\ release"{}})}
\DoxyCodeLine{01408\ \ \ \ \ \ \ CSVReporter\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classbenchmark_1_1_benchmark_reporter}{BenchmarkReporter}}\ \{}
\DoxyCodeLine{01409\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01410\ \ \ CSVReporter()\ :\ printed\_header\_(false)\ \{\}}
\DoxyCodeLine{01411\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ ReportContext(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_context}{Context}}\&\ context);}
\DoxyCodeLine{01412\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ ReportRuns(\textcolor{keyword}{const}\ std::vector<Run>\&\ reports);}
\DoxyCodeLine{01413\ }
\DoxyCodeLine{01414\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01415\ \ \ \textcolor{keywordtype}{void}\ PrintRunData(\textcolor{keyword}{const}\ Run\&\ report);}
\DoxyCodeLine{01416\ }
\DoxyCodeLine{01417\ \ \ \textcolor{keywordtype}{bool}\ printed\_header\_;}
\DoxyCodeLine{01418\ \ \ std::set<std::string>\ user\_counter\_names\_;}
\DoxyCodeLine{01419\ \};}
\DoxyCodeLine{01420\ }
\DoxyCodeLine{01421\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetTimeUnitString(TimeUnit\ unit)\ \{}
\DoxyCodeLine{01422\ \ \ \textcolor{keywordflow}{switch}\ (unit)\ \{}
\DoxyCodeLine{01423\ \ \ \ \ \textcolor{keywordflow}{case}\ kMillisecond:}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}ms"{}};}
\DoxyCodeLine{01425\ \ \ \ \ \textcolor{keywordflow}{case}\ kMicrosecond:}
\DoxyCodeLine{01426\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}us"{}};}
\DoxyCodeLine{01427\ \ \ \ \ \textcolor{keywordflow}{case}\ kNanosecond:}
\DoxyCodeLine{01428\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01429\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}ns"{}};}
\DoxyCodeLine{01430\ \ \ \}}
\DoxyCodeLine{01431\ \}}
\DoxyCodeLine{01432\ }
\DoxyCodeLine{01433\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ GetTimeUnitMultiplier(TimeUnit\ unit)\ \{}
\DoxyCodeLine{01434\ \ \ \textcolor{keywordflow}{switch}\ (unit)\ \{}
\DoxyCodeLine{01435\ \ \ \ \ \textcolor{keywordflow}{case}\ kMillisecond:}
\DoxyCodeLine{01436\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1e3;}
\DoxyCodeLine{01437\ \ \ \ \ \textcolor{keywordflow}{case}\ kMicrosecond:}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1e6;}
\DoxyCodeLine{01439\ \ \ \ \ \textcolor{keywordflow}{case}\ kNanosecond:}
\DoxyCodeLine{01440\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1e9;}
\DoxyCodeLine{01442\ \ \ \}}
\DoxyCodeLine{01443\ \}}
\DoxyCodeLine{01444\ }
\DoxyCodeLine{01445\ \}\ \ \textcolor{comment}{//\ namespace\ benchmark}}
\DoxyCodeLine{01446\ }
\DoxyCodeLine{01447\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ BENCHMARK\_BENCHMARK\_H\_}}

\end{DoxyCode}
