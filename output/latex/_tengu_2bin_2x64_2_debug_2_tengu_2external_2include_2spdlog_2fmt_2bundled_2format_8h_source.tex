\hypertarget{_tengu_2bin_2x64_2_debug_2_tengu_2external_2include_2spdlog_2fmt_2bundled_2format_8h_source}{}\doxysection{format.\+h}
\label{_tengu_2bin_2x64_2_debug_2_tengu_2external_2include_2spdlog_2fmt_2bundled_2format_8h_source}\index{Tengu/bin/x64/Debug/Tengu/external/include/spdlog/fmt/bundled/format.h@{Tengu/bin/x64/Debug/Tengu/external/include/spdlog/fmt/bundled/format.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ Formatting\ library\ for\ C++}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ Copyright\ (c)\ 2012\ -\/\ present,\ Victor\ Zverovich}}
\DoxyCodeLine{00005\ \textcolor{comment}{}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ Permission\ is\ hereby\ granted,\ free\ of\ charge,\ to\ any\ person\ obtaining}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ \ a\ copy\ of\ this\ software\ and\ associated\ documentation\ files\ (the}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ "{}Software"{}),\ to\ deal\ in\ the\ Software\ without\ restriction,\ including}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ \ without\ limitation\ the\ rights\ to\ use,\ copy,\ modify,\ merge,\ publish,}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ distribute,\ sublicense,\ and/or\ sell\ copies\ of\ the\ Software,\ and\ to}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ permit\ persons\ to\ whom\ the\ Software\ is\ furnished\ to\ do\ so,\ subject\ to}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ the\ following\ conditions:}}
\DoxyCodeLine{00013\ \textcolor{comment}{}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ The\ above\ copyright\ notice\ and\ this\ permission\ notice\ shall\ be}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ \ included\ in\ all\ copies\ or\ substantial\ portions\ of\ the\ Software.}}
\DoxyCodeLine{00016\ \textcolor{comment}{}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ \ THE\ SOFTWARE\ IS\ PROVIDED\ "{}AS\ IS"{},\ WITHOUT\ WARRANTY\ OF\ ANY\ KIND,}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ \ EXPRESS\ OR\ IMPLIED,\ INCLUDING\ BUT\ NOT\ LIMITED\ TO\ THE\ WARRANTIES\ OF}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ \ MERCHANTABILITY,\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE\ AND}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ \ NONINFRINGEMENT.\ IN\ NO\ EVENT\ SHALL\ THE\ AUTHORS\ OR\ COPYRIGHT\ HOLDERS\ BE}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ \ LIABLE\ FOR\ ANY\ CLAIM,\ DAMAGES\ OR\ OTHER\ LIABILITY,\ WHETHER\ IN\ AN\ ACTION}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ \ OF\ CONTRACT,\ TORT\ OR\ OTHERWISE,\ ARISING\ FROM,\ OUT\ OF\ OR\ IN\ CONNECTION}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ \ WITH\ THE\ SOFTWARE\ OR\ THE\ USE\ OR\ OTHER\ DEALINGS\ IN\ THE\ SOFTWARE.}}
\DoxyCodeLine{00024\ \textcolor{comment}{}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ \ -\/-\/-\/\ Optional\ exception\ to\ the\ license\ -\/-\/-\/}}
\DoxyCodeLine{00026\ \textcolor{comment}{}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ \ As\ an\ exception,\ if,\ as\ a\ result\ of\ your\ compiling\ your\ source\ code,\ portions}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ \ of\ this\ Software\ are\ embedded\ into\ a\ machine-\/executable\ object\ form\ of\ such}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ \ source\ code,\ you\ may\ redistribute\ such\ embedded\ portions\ in\ such\ object\ form}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ \ without\ including\ the\ above\ copyright\ and\ permission\ notices.}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#ifndef\ FMT\_FORMAT\_H\_}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ FMT\_FORMAT\_H\_}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ <cmath>}\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::signbit}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#include\ <cstdint>}\ \ \ \ \ \ \ \textcolor{comment}{//\ uint32\_t}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ <cstring>}\ \ \ \ \ \ \ \textcolor{comment}{//\ std::memcpy}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ <limits>}\ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::numeric\_limits}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ <memory>}\ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::uninitialized\_copy}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ <stdexcept>}\ \ \ \ \ \textcolor{comment}{//\ std::runtime\_error}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#include\ <system\_error>}\ \ \textcolor{comment}{//\ std::system\_error}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_lib\_bit\_cast}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#\ \ include\ <bit>}\ \ \textcolor{comment}{//\ std::bitcast}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ "{}core.h"{}}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#if\ FMT\_GCC\_VERSION}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#\ \ define\ FMT\_GCC\_VISIBILITY\_HIDDEN\ \_\_attribute\_\_((visibility("{}hidden"{}})))}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#\ \ define\ FMT\_GCC\_VISIBILITY\_HIDDEN}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#ifdef\ \_\_NVCC\_\_}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#\ \ define\ FMT\_CUDA\_VERSION\ (\_\_CUDACC\_VER\_MAJOR\_\_\ *\ 100\ +\ \_\_CUDACC\_VER\_MINOR\_\_)}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#\ \ define\ FMT\_CUDA\_VERSION\ 0}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#ifdef\ \_\_has\_builtin}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#\ \ define\ FMT\_HAS\_BUILTIN(x)\ \_\_has\_builtin(x)}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#\ \ define\ FMT\_HAS\_BUILTIN(x)\ 0}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#if\ FMT\_GCC\_VERSION\ ||\ FMT\_CLANG\_VERSION}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#\ \ define\ FMT\_NOINLINE\ \_\_attribute\_\_((noinline))}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#\ \ define\ FMT\_NOINLINE}}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#if\ FMT\_MSC\_VERSION}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#\ \ define\ FMT\_MSC\_DEFAULT\ =\ default}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#\ \ define\ FMT\_MSC\_DEFAULT}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\#ifndef\ FMT\_THROW}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#\ \ if\ FMT\_EXCEPTIONS}}
\DoxyCodeLine{00082\ \textcolor{preprocessor}{\#\ \ \ \ if\ FMT\_MSC\_VERSION\ ||\ defined(\_\_NVCC\_\_)}}
\DoxyCodeLine{00083\ FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00084\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00085\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Exception>\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ do\_throw(\textcolor{keyword}{const}\ Exception\&\ x)\ \{}
\DoxyCodeLine{00086\ \ \ \textcolor{comment}{//\ Silence\ unreachable\ code\ warnings\ in\ MSVC\ and\ NVCC\ because\ these}}
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ are\ nearly\ impossible\ to\ fix\ in\ a\ generic\ code.}}
\DoxyCodeLine{00088\ \ \ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{bool}\ b\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00089\ \ \ \textcolor{keywordflow}{if}\ (b)\ \textcolor{keywordflow}{throw}\ x;}
\DoxyCodeLine{00090\ \}}
\DoxyCodeLine{00091\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00092\ FMT\_END\_NAMESPACE}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\#\ \ \ \ \ \ define\ FMT\_THROW(x)\ detail::do\_throw(x)}}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{\#\ \ \ \ else}}
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\#\ \ \ \ \ \ define\ FMT\_THROW(x)\ throw\ x}}
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\#\ \ \ \ endif}}
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_THROW(x)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00099\ \textcolor{preprocessor}{\ \ \ \ \ \ do\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ FMT\_ASSERT(false,\ (x).what());\ \(\backslash\)}}
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\ \ \ \ \ \ \}\ while\ (false)}}
\DoxyCodeLine{00102\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#if\ FMT\_EXCEPTIONS}}
\DoxyCodeLine{00106\ \textcolor{preprocessor}{\#\ \ define\ FMT\_TRY\ try}}
\DoxyCodeLine{00107\ \textcolor{preprocessor}{\#\ \ define\ FMT\_CATCH(x)\ catch\ (x)}}
\DoxyCodeLine{00108\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#\ \ define\ FMT\_TRY\ if\ (true)}}
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#\ \ define\ FMT\_CATCH(x)\ if\ (false)}}
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#ifndef\ FMT\_MAYBE\_UNUSED}}
\DoxyCodeLine{00114\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_CPP17\_ATTRIBUTE(maybe\_unused)}}
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_MAYBE\_UNUSED\ [[maybe\_unused]]}}
\DoxyCodeLine{00116\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_MAYBE\_UNUSED}}
\DoxyCodeLine{00118\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{00122\ \textcolor{comment}{//\ EDG\ based\ compilers\ (Intel,\ NVIDIA,\ Elbrus,\ etc),\ GCC\ and\ MSVC\ support\ UDLs.}}
\DoxyCodeLine{00123\ \textcolor{preprocessor}{\#\ \ if\ (FMT\_HAS\_FEATURE(cxx\_user\_literals)\ ||\ FMT\_GCC\_VERSION\ >=\ 407\ ||\ \(\backslash\)}}
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\ \ \ \ \ \ \ FMT\_MSC\_VERSION\ >=\ 1900)\ \&\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\ \ \ \ \ \ (!defined(\_\_EDG\_VERSION\_\_)\ ||\ \_\_EDG\_VERSION\_\_\ >=\ }\textcolor{comment}{/*\ UDL\ feature\ */}\textcolor{preprocessor}{\ 480)}}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_USER\_DEFINED\_LITERALS\ 1}}
\DoxyCodeLine{00127\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_USER\_DEFINED\_LITERALS\ 0}}
\DoxyCodeLine{00129\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \textcolor{comment}{//\ Defining\ FMT\_REDUCE\_INT\_INSTANTIATIONS\ to\ 1,\ will\ reduce\ the\ number\ of}}
\DoxyCodeLine{00133\ \textcolor{comment}{//\ integer\ formatter\ template\ instantiations\ to\ just\ one\ by\ only\ using\ the}}
\DoxyCodeLine{00134\ \textcolor{comment}{//\ largest\ integer\ type.\ This\ results\ in\ a\ reduction\ in\ binary\ size\ but\ will}}
\DoxyCodeLine{00135\ \textcolor{comment}{//\ cause\ a\ decrease\ in\ integer\ formatting\ performance.}}
\DoxyCodeLine{00136\ \textcolor{preprocessor}{\#if\ !defined(FMT\_REDUCE\_INT\_INSTANTIATIONS)}}
\DoxyCodeLine{00137\ \textcolor{preprocessor}{\#\ \ define\ FMT\_REDUCE\_INT\_INSTANTIATIONS\ 0}}
\DoxyCodeLine{00138\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \textcolor{comment}{//\ \_\_builtin\_clz\ is\ broken\ in\ clang\ with\ Microsoft\ CodeGen:}}
\DoxyCodeLine{00141\ \textcolor{comment}{//\ https://github.com/fmtlib/fmt/issues/519.}}
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\#if\ !FMT\_MSC\_VERSION}}
\DoxyCodeLine{00143\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_BUILTIN(\_\_builtin\_clz)\ ||\ FMT\_GCC\_VERSION\ ||\ FMT\_ICC\_VERSION}}
\DoxyCodeLine{00144\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_BUILTIN\_CLZ(n)\ \_\_builtin\_clz(n)}}
\DoxyCodeLine{00145\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00146\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_BUILTIN(\_\_builtin\_clzll)\ ||\ FMT\_GCC\_VERSION\ ||\ FMT\_ICC\_VERSION}}
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_BUILTIN\_CLZLL(n)\ \_\_builtin\_clzll(n)}}
\DoxyCodeLine{00148\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00149\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \textcolor{comment}{//\ \_\_builtin\_ctz\ is\ broken\ in\ Intel\ Compiler\ Classic\ on\ Windows:}}
\DoxyCodeLine{00152\ \textcolor{comment}{//\ https://github.com/fmtlib/fmt/issues/2510.}}
\DoxyCodeLine{00153\ \textcolor{preprocessor}{\#ifndef\ \_\_ICL}}
\DoxyCodeLine{00154\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_BUILTIN(\_\_builtin\_ctz)\ ||\ FMT\_GCC\_VERSION\ ||\ FMT\_ICC\_VERSION\ ||\ \(\backslash\)}}
\DoxyCodeLine{00155\ \textcolor{preprocessor}{\ \ \ \ \ \ defined(\_\_NVCOMPILER)}}
\DoxyCodeLine{00156\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_BUILTIN\_CTZ(n)\ \_\_builtin\_ctz(n)}}
\DoxyCodeLine{00157\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\#\ \ if\ FMT\_HAS\_BUILTIN(\_\_builtin\_ctzll)\ ||\ FMT\_GCC\_VERSION\ ||\ \(\backslash\)}}
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\ \ \ \ \ \ FMT\_ICC\_VERSION\ ||\ defined(\_\_NVCOMPILER)}}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_BUILTIN\_CTZLL(n)\ \_\_builtin\_ctzll(n)}}
\DoxyCodeLine{00161\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00162\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{preprocessor}{\#if\ FMT\_MSC\_VERSION}}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#\ \ include\ <intrin.h>}\ \ \textcolor{comment}{//\ \_BitScanReverse[64],\ \_BitScanForward[64],\ \_umul128}}
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \textcolor{comment}{//\ Some\ compilers\ masquerade\ as\ both\ MSVC\ and\ GCC-\/likes\ or\ otherwise\ support}}
\DoxyCodeLine{00169\ \textcolor{comment}{//\ \_\_builtin\_clz\ and\ \_\_builtin\_clzll,\ so\ only\ define\ FMT\_BUILTIN\_CLZ\ using\ the}}
\DoxyCodeLine{00170\ \textcolor{comment}{//\ MSVC\ intrinsics\ if\ the\ clz\ and\ clzll\ builtins\ are\ not\ available.}}
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#if\ FMT\_MSC\_VERSION\ \&\&\ !defined(FMT\_BUILTIN\_CLZLL)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\ \ \ \ !defined(FMT\_BUILTIN\_CTZLL)}}
\DoxyCodeLine{00173\ FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00174\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00175\ \textcolor{comment}{//\ Avoid\ Clang\ with\ Microsoft\ CodeGen's\ -\/Wunknown-\/pragmas\ warning.}}
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\#\ \ if\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{00177\ \textcolor{preprocessor}{\#\ \ \ \ pragma\ intrinsic(\_BitScanForward)}}
\DoxyCodeLine{00178\ \textcolor{preprocessor}{\#\ \ \ \ pragma\ intrinsic(\_BitScanReverse)}}
\DoxyCodeLine{00179\ \textcolor{preprocessor}{\#\ \ \ \ if\ defined(\_WIN64)}}
\DoxyCodeLine{00180\ \textcolor{preprocessor}{\#\ \ \ \ \ \ pragma\ intrinsic(\_BitScanForward64)}}
\DoxyCodeLine{00181\ \textcolor{preprocessor}{\#\ \ \ \ \ \ pragma\ intrinsic(\_BitScanReverse64)}}
\DoxyCodeLine{00182\ \textcolor{preprocessor}{\#\ \ \ \ endif}}
\DoxyCodeLine{00183\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ clz(uint32\_t\ x)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00186\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00187\ \ \ \_BitScanReverse(\&r,\ x);}
\DoxyCodeLine{00188\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00189\ \ \ \textcolor{comment}{//\ Static\ analysis\ complains\ about\ using\ uninitialized\ data}}
\DoxyCodeLine{00190\ \ \ \textcolor{comment}{//\ "{}r"{},\ but\ the\ only\ way\ that\ can\ happen\ is\ if\ "{}x"{}\ is\ 0,}}
\DoxyCodeLine{00191\ \ \ \textcolor{comment}{//\ which\ the\ callers\ guarantee\ to\ not\ happen.}}
\DoxyCodeLine{00192\ \ \ FMT\_MSC\_WARNING(suppress\ :\ 6102)}
\DoxyCodeLine{00193\ \ \ \textcolor{keywordflow}{return}\ 31\ \string^\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00194\ \}}
\DoxyCodeLine{00195\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CLZ(n)\ detail::clz(n)}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ clzll(uint64\_t\ x)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00198\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00199\ \textcolor{preprocessor}{\#\ \ ifdef\ \_WIN64}}
\DoxyCodeLine{00200\ \ \ \_BitScanReverse64(\&r,\ x);}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00202\ \ \ \textcolor{comment}{//\ Scan\ the\ high\ 32\ bits.}}
\DoxyCodeLine{00203\ \ \ \textcolor{keywordflow}{if}\ (\_BitScanReverse(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x\ >>\ 32)))\ \textcolor{keywordflow}{return}\ 63\ \string^\ (r\ +\ 32);}
\DoxyCodeLine{00204\ \ \ \textcolor{comment}{//\ Scan\ the\ low\ 32\ bits.}}
\DoxyCodeLine{00205\ \ \ \_BitScanReverse(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x));}
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00207\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00208\ \ \ FMT\_MSC\_WARNING(suppress\ :\ 6102)\ \ \textcolor{comment}{//\ Suppress\ a\ bogus\ static\ analysis\ warning.}}
\DoxyCodeLine{00209\ \ \ \textcolor{keywordflow}{return}\ 63\ \string^\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00210\ \}}
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CLZLL(n)\ detail::clzll(n)}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ ctz(uint32\_t\ x)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00214\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00215\ \ \ \_BitScanForward(\&r,\ x);}
\DoxyCodeLine{00216\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00217\ \ \ FMT\_MSC\_WARNING(suppress\ :\ 6102)\ \ \textcolor{comment}{//\ Suppress\ a\ bogus\ static\ analysis\ warning.}}
\DoxyCodeLine{00218\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00219\ \}}
\DoxyCodeLine{00220\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CTZ(n)\ detail::ctz(n)}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ ctzll(uint64\_t\ x)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00223\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ r\ =\ 0;}
\DoxyCodeLine{00224\ \ \ FMT\_ASSERT(x\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00225\ \ \ FMT\_MSC\_WARNING(suppress\ :\ 6102)\ \ \textcolor{comment}{//\ Suppress\ a\ bogus\ static\ analysis\ warning.}}
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#\ \ ifdef\ \_WIN64}}
\DoxyCodeLine{00227\ \ \ \_BitScanForward64(\&r,\ x);}
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00229\ \ \ \textcolor{comment}{//\ Scan\ the\ low\ 32\ bits.}}
\DoxyCodeLine{00230\ \ \ \textcolor{keywordflow}{if}\ (\_BitScanForward(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x)))\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00231\ \ \ \textcolor{comment}{//\ Scan\ the\ high\ 32\ bits.}}
\DoxyCodeLine{00232\ \ \ \_BitScanForward(\&r,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(x\ >>\ 32));}
\DoxyCodeLine{00233\ \ \ r\ +=\ 32;}
\DoxyCodeLine{00234\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00235\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(r);}
\DoxyCodeLine{00236\ \}}
\DoxyCodeLine{00237\ \textcolor{preprocessor}{\#\ \ define\ FMT\_BUILTIN\_CTZLL(n)\ detail::ctzll(n)}}
\DoxyCodeLine{00238\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00239\ FMT\_END\_NAMESPACE}
\DoxyCodeLine{00240\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{00243\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ abort\_fuzzing\_if(\textcolor{keywordtype}{bool}\ condition)\ \{}
\DoxyCodeLine{00246\ \ \ ignore\_unused(condition);}
\DoxyCodeLine{00247\ \textcolor{preprocessor}{\#ifdef\ FMT\_FUZZ}}
\DoxyCodeLine{00248\ \ \ \textcolor{keywordflow}{if}\ (condition)\ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}fuzzing\ limit\ reached"{}});}
\DoxyCodeLine{00249\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00250\ \}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ CharT,\ CharT...\ C>\ \textcolor{keyword}{struct\ }string\_literal\ \{}
\DoxyCodeLine{00253\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ CharT\ \mbox{\hyperlink{classvalue}{value}}[\textcolor{keyword}{sizeof}...(C)]\ =\ \{C...\};}
\DoxyCodeLine{00254\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{operator}\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<CharT>}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\mbox{\hyperlink{classvalue}{value}},\ \textcolor{keyword}{sizeof}...(C)\};}
\DoxyCodeLine{00256\ \ \ \}}
\DoxyCodeLine{00257\ \};}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \textcolor{preprocessor}{\#if\ FMT\_CPLUSPLUS\ <\ 201703L}}
\DoxyCodeLine{00260\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ CharT,\ CharT...\ C>}
\DoxyCodeLine{00261\ \textcolor{keyword}{constexpr}\ CharT\ string\_literal<CharT,\ C...>\mbox{\hyperlink{classvalue}{::value}}[\textcolor{keyword}{sizeof}...(C)];}
\DoxyCodeLine{00262\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Streambuf>\ \textcolor{keyword}{class\ }formatbuf\ :\ \textcolor{keyword}{public}\ Streambuf\ \{}
\DoxyCodeLine{00265\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00266\ \ \ \textcolor{keyword}{using\ }char\_type\ =\ \textcolor{keyword}{typename}\ Streambuf::char\_type;}
\DoxyCodeLine{00267\ \ \ \textcolor{keyword}{using\ }streamsize\ =\ \textcolor{keyword}{decltype}(std::declval<Streambuf>().sputn(\textcolor{keyword}{nullptr},\ 0));}
\DoxyCodeLine{00268\ \ \ \textcolor{keyword}{using\ }int\_type\ =\ \textcolor{keyword}{typename}\ Streambuf::int\_type;}
\DoxyCodeLine{00269\ \ \ \textcolor{keyword}{using\ }traits\_type\ =\ \textcolor{keyword}{typename}\ Streambuf::traits\_type;}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \ \ \mbox{\hyperlink{classbuffer}{buffer<char\_type>}}\&\ buffer\_;}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00274\ \ \ \textcolor{keyword}{explicit}\ formatbuf(\mbox{\hyperlink{classbuffer}{buffer<char\_type>}}\&\ \mbox{\hyperlink{structbuf}{buf}})\ :\ buffer\_(\mbox{\hyperlink{structbuf}{buf}})\ \{\}}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00277\ \ \ \textcolor{comment}{//\ The\ put\ area\ is\ always\ empty.\ This\ makes\ the\ implementation\ simpler\ and\ has}}
\DoxyCodeLine{00278\ \ \ \textcolor{comment}{//\ the\ advantage\ that\ the\ streambuf\ and\ the\ buffer\ are\ always\ in\ sync\ and}}
\DoxyCodeLine{00279\ \ \ \textcolor{comment}{//\ sputc\ never\ writes\ into\ uninitialized\ memory.\ A\ disadvantage\ is\ that\ each}}
\DoxyCodeLine{00280\ \ \ \textcolor{comment}{//\ call\ to\ sputc\ always\ results\ in\ a\ (virtual)\ call\ to\ overflow.\ There\ is\ no}}
\DoxyCodeLine{00281\ \ \ \textcolor{comment}{//\ disadvantage\ here\ for\ sputn\ since\ this\ always\ results\ in\ a\ call\ to\ xsputn.}}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \ \ \textcolor{keyword}{auto}\ overflow(int\_type\ ch)\ -\/>\ int\_type\ \textcolor{keyword}{override}\ \{}
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{keywordflow}{if}\ (!traits\_type::eq\_int\_type(ch,\ traits\_type::eof()))}
\DoxyCodeLine{00285\ \ \ \ \ \ \ buffer\_.push\_back(\textcolor{keyword}{static\_cast<}char\_type\textcolor{keyword}{>}(ch));}
\DoxyCodeLine{00286\ \ \ \ \ \textcolor{keywordflow}{return}\ ch;}
\DoxyCodeLine{00287\ \ \ \}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \textcolor{keyword}{auto}\ xsputn(\textcolor{keyword}{const}\ char\_type*\ s,\ streamsize\ count)\ -\/>\ streamsize\ \textcolor{keyword}{override}\ \{}
\DoxyCodeLine{00290\ \ \ \ \ buffer\_.\mbox{\hyperlink{classbuffer_a144ad707b324a714fbe334896f90ba28}{append}}(s,\ s\ +\ count);}
\DoxyCodeLine{00291\ \ \ \ \ \textcolor{keywordflow}{return}\ count;}
\DoxyCodeLine{00292\ \ \ \}}
\DoxyCodeLine{00293\ \};}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \textcolor{comment}{//\ Implementation\ of\ std::bit\_cast\ for\ pre-\/C++20.}}
\DoxyCodeLine{00296\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From,\ FMT\_ENABLE\_IF(sizeof(To)\ ==\ sizeof(From))>}
\DoxyCodeLine{00297\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ bit\_cast(\textcolor{keyword}{const}\ From\&\ from)\ -\/>\ To\ \{}
\DoxyCodeLine{00298\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_lib\_bit\_cast}}
\DoxyCodeLine{00299\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \textcolor{keywordflow}{return}\ std::bit\_cast<To>(from);}
\DoxyCodeLine{00300\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00301\ \ \ \textcolor{keyword}{auto}\ to\ =\ To();}
\DoxyCodeLine{00302\ \ \ \textcolor{comment}{//\ The\ cast\ suppresses\ a\ bogus\ -\/Wclass-\/memaccess\ on\ GCC.}}
\DoxyCodeLine{00303\ \ \ std::memcpy(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\&to),\ \&from,\ \textcolor{keyword}{sizeof}(to));}
\DoxyCodeLine{00304\ \ \ \textcolor{keywordflow}{return}\ to;}
\DoxyCodeLine{00305\ \}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ is\_big\_endian()\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00308\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{00309\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00310\ \textcolor{preprocessor}{\#elif\ defined(\_\_BIG\_ENDIAN\_\_)}}
\DoxyCodeLine{00311\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00312\ \textcolor{preprocessor}{\#elif\ defined(\_\_BYTE\_ORDER\_\_)\ \&\&\ defined(\_\_ORDER\_BIG\_ENDIAN\_\_)}}
\DoxyCodeLine{00313\ \ \ \textcolor{keywordflow}{return}\ \_\_BYTE\_ORDER\_\_\ ==\ \_\_ORDER\_BIG\_ENDIAN\_\_;}
\DoxyCodeLine{00314\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00315\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{classbytes}{bytes}}\ \{}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{structdata}{data}}[\textcolor{keyword}{sizeof}(int)];}
\DoxyCodeLine{00317\ \ \ \};}
\DoxyCodeLine{00318\ \ \ \textcolor{keywordflow}{return}\ bit\_cast<bytes>(1).data[0]\ ==\ 0;}
\DoxyCodeLine{00319\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00320\ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \textcolor{keyword}{class\ }uint128\_fallback\ \{}
\DoxyCodeLine{00323\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00324\ \ \ uint64\_t\ lo\_,\ hi\_;}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \textcolor{keyword}{friend}\ uint128\_fallback\ umul128(uint64\_t\ x,\ uint64\_t\ y)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00329\ \ \ \textcolor{keyword}{constexpr}\ uint128\_fallback(uint64\_t\ hi,\ uint64\_t\ lo)\ :\ lo\_(lo),\ hi\_(hi)\ \{\}}
\DoxyCodeLine{00330\ \ \ \textcolor{keyword}{constexpr}\ uint128\_fallback(uint64\_t\ \mbox{\hyperlink{classvalue}{value}}\ =\ 0)\ :\ lo\_(\mbox{\hyperlink{classvalue}{value}}),\ hi\_(0)\ \{\}}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \textcolor{keyword}{constexpr}\ uint64\_t\ high()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ hi\_;\ \}}
\DoxyCodeLine{00333\ \ \ \textcolor{keyword}{constexpr}\ uint64\_t\ low()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ lo\_;\ \}}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(std::is\_\textcolor{keywordtype}{int}egral<T>::value)>}
\DoxyCodeLine{00336\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \textcolor{keyword}{operator}\ T()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00337\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(lo\_);}
\DoxyCodeLine{00338\ \ \ \}}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator==(\textcolor{keyword}{const}\ uint128\_fallback\&\ lhs,}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint128\_fallback\&\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{keywordflow}{return}\ lhs.hi\_\ ==\ rhs.hi\_\ \&\&\ lhs.lo\_\ ==\ rhs.lo\_;}
\DoxyCodeLine{00343\ \ \ \}}
\DoxyCodeLine{00344\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator!=(\textcolor{keyword}{const}\ uint128\_fallback\&\ lhs,}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint128\_fallback\&\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keywordflow}{return}\ !(lhs\ ==\ rhs);}
\DoxyCodeLine{00347\ \ \ \}}
\DoxyCodeLine{00348\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator>(\textcolor{keyword}{const}\ uint128\_fallback\&\ lhs,}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint128\_fallback\&\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{keywordflow}{return}\ lhs.hi\_\ !=\ rhs.hi\_\ ?\ lhs.hi\_\ >\ rhs.hi\_\ :\ lhs.lo\_\ >\ rhs.lo\_;}
\DoxyCodeLine{00351\ \ \ \}}
\DoxyCodeLine{00352\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator|(\textcolor{keyword}{const}\ uint128\_fallback\&\ lhs,}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint128\_fallback\&\ rhs)}
\DoxyCodeLine{00354\ \ \ \ \ \ \ -\/>\ uint128\_fallback\ \{}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keywordflow}{return}\ \{lhs.hi\_\ |\ rhs.hi\_,\ lhs.lo\_\ |\ rhs.lo\_\};}
\DoxyCodeLine{00356\ \ \ \}}
\DoxyCodeLine{00357\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ operator\&(\textcolor{keyword}{const}\ uint128\_fallback\&\ lhs,}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint128\_fallback\&\ rhs)}
\DoxyCodeLine{00359\ \ \ \ \ \ \ -\/>\ uint128\_fallback\ \{}
\DoxyCodeLine{00360\ \ \ \ \ \textcolor{keywordflow}{return}\ \{lhs.hi\_\ \&\ rhs.hi\_,\ lhs.lo\_\ \&\ rhs.lo\_\};}
\DoxyCodeLine{00361\ \ \ \}}
\DoxyCodeLine{00362\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{auto}\ operator+(\textcolor{keyword}{const}\ uint128\_fallback\&\ lhs,}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint128\_fallback\&\ rhs)\ -\/>\ uint128\_fallback\ \{}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ uint128\_fallback(lhs);}
\DoxyCodeLine{00365\ \ \ \ \ result\ +=\ rhs;}
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00367\ \ \ \}}
\DoxyCodeLine{00368\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{auto}\ operator*(\textcolor{keyword}{const}\ uint128\_fallback\&\ lhs,\ uint32\_t\ rhs)}
\DoxyCodeLine{00369\ \ \ \ \ \ \ -\/>\ uint128\_fallback\ \{}
\DoxyCodeLine{00370\ \ \ \ \ FMT\_ASSERT(lhs.hi\_\ ==\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00371\ \ \ \ \ uint64\_t\ hi\ =\ (lhs.lo\_\ >>\ 32)\ *\ rhs;}
\DoxyCodeLine{00372\ \ \ \ \ uint64\_t\ lo\ =\ (lhs.lo\_\ \&\ \string~uint32\_t())\ *\ rhs;}
\DoxyCodeLine{00373\ \ \ \ \ uint64\_t\ new\_lo\ =\ (hi\ <<\ 32)\ +\ lo;}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keywordflow}{return}\ \{(hi\ >>\ 32)\ +\ (new\_lo\ <\ lo\ ?\ 1\ :\ 0),\ new\_lo\};}
\DoxyCodeLine{00375\ \ \ \}}
\DoxyCodeLine{00376\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{auto}\ operator-\/(\textcolor{keyword}{const}\ uint128\_fallback\&\ lhs,\ uint64\_t\ rhs)}
\DoxyCodeLine{00377\ \ \ \ \ \ \ -\/>\ uint128\_fallback\ \{}
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{keywordflow}{return}\ \{lhs.hi\_\ -\/\ (lhs.lo\_\ <\ rhs\ ?\ 1\ :\ 0),\ lhs.lo\_\ -\/\ rhs\};}
\DoxyCodeLine{00379\ \ \ \}}
\DoxyCodeLine{00380\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator>>(\textcolor{keywordtype}{int}\ shift)\ \textcolor{keyword}{const}\ -\/>\ uint128\_fallback\ \{}
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ ==\ 64)\ \textcolor{keywordflow}{return}\ \{0,\ hi\_\};}
\DoxyCodeLine{00382\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ >\ 64)\ \textcolor{keywordflow}{return}\ uint128\_fallback(0,\ hi\_)\ >>\ (shift\ -\/\ 64);}
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{keywordflow}{return}\ \{hi\_\ >>\ shift,\ (hi\_\ <<\ (64\ -\/\ shift))\ |\ (lo\_\ >>\ shift)\};}
\DoxyCodeLine{00384\ \ \ \}}
\DoxyCodeLine{00385\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator<<(\textcolor{keywordtype}{int}\ shift)\ \textcolor{keyword}{const}\ -\/>\ uint128\_fallback\ \{}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ ==\ 64)\ \textcolor{keywordflow}{return}\ \{lo\_,\ 0\};}
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ >\ 64)\ \textcolor{keywordflow}{return}\ uint128\_fallback(lo\_,\ 0)\ <<\ (shift\ -\/\ 64);}
\DoxyCodeLine{00388\ \ \ \ \ \textcolor{keywordflow}{return}\ \{hi\_\ <<\ shift\ |\ (lo\_\ >>\ (64\ -\/\ shift)),\ (lo\_\ <<\ shift)\};}
\DoxyCodeLine{00389\ \ \ \}}
\DoxyCodeLine{00390\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator>>=(\textcolor{keywordtype}{int}\ shift)\ -\/>\ uint128\_fallback\&\ \{}
\DoxyCodeLine{00391\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ =\ *\textcolor{keyword}{this}\ >>\ shift;}
\DoxyCodeLine{00392\ \ \ \}}
\DoxyCodeLine{00393\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator+=(uint128\_fallback\ n)\ \{}
\DoxyCodeLine{00394\ \ \ \ \ uint64\_t\ new\_lo\ =\ lo\_\ +\ n.lo\_;}
\DoxyCodeLine{00395\ \ \ \ \ uint64\_t\ new\_hi\ =\ hi\_\ +\ n.hi\_\ +\ (new\_lo\ <\ lo\_\ ?\ 1\ :\ 0);}
\DoxyCodeLine{00396\ \ \ \ \ FMT\_ASSERT(new\_hi\ >=\ hi\_,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00397\ \ \ \ \ lo\_\ =\ new\_lo;}
\DoxyCodeLine{00398\ \ \ \ \ hi\_\ =\ new\_hi;}
\DoxyCodeLine{00399\ \ \ \}}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \ \ FMT\_CONSTEXPR20\ uint128\_fallback\&\ operator+=(uint64\_t\ n)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \{}
\DoxyCodeLine{00403\ \ \ \ \ \ \ lo\_\ +=\ n;}
\DoxyCodeLine{00404\ \ \ \ \ \ \ hi\_\ +=\ (lo\_\ <\ n\ ?\ 1\ :\ 0);}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00406\ \ \ \ \ \}}
\DoxyCodeLine{00407\ \textcolor{preprocessor}{\#if\ FMT\_HAS\_BUILTIN(\_\_builtin\_addcll)\ \&\&\ !defined(\_\_ibmxl\_\_)}}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ carry;}
\DoxyCodeLine{00409\ \ \ \ \ lo\_\ =\ \_\_builtin\_addcll(lo\_,\ n,\ 0,\ \&carry);}
\DoxyCodeLine{00410\ \ \ \ \ hi\_\ +=\ carry;}
\DoxyCodeLine{00411\ \textcolor{preprocessor}{\#elif\ FMT\_HAS\_BUILTIN(\_\_builtin\_ia32\_addcarryx\_u64)\ \&\&\ !defined(\_\_ibmxl\_\_)}}
\DoxyCodeLine{00412\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ result;}
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{keyword}{auto}\ carry\ =\ \_\_builtin\_ia32\_addcarryx\_u64(0,\ lo\_,\ n,\ \&result);}
\DoxyCodeLine{00414\ \ \ \ \ lo\_\ =\ result;}
\DoxyCodeLine{00415\ \ \ \ \ hi\_\ +=\ carry;}
\DoxyCodeLine{00416\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)\ \&\&\ defined(\_M\_X64)}}
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{keyword}{auto}\ carry\ =\ \_addcarry\_u64(0,\ lo\_,\ n,\ \&lo\_);}
\DoxyCodeLine{00418\ \ \ \ \ \_addcarry\_u64(carry,\ hi\_,\ 0,\ \&hi\_);}
\DoxyCodeLine{00419\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00420\ \ \ \ \ lo\_\ +=\ n;}
\DoxyCodeLine{00421\ \ \ \ \ hi\_\ +=\ (lo\_\ <\ n\ ?\ 1\ :\ 0);}
\DoxyCodeLine{00422\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00423\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00424\ \ \ \}}
\DoxyCodeLine{00425\ \};}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00427\ \textcolor{keyword}{using\ }uint128\_t\ =\ conditional\_t<FMT\_USE\_INT128,\ uint128\_opt,\ uint128\_fallback>;}
\DoxyCodeLine{00428\ }
\DoxyCodeLine{00429\ \textcolor{preprocessor}{\#ifdef\ UINTPTR\_MAX}}
\DoxyCodeLine{00430\ \textcolor{keyword}{using\ }uintptr\_t\ =\ ::uintptr\_t;}
\DoxyCodeLine{00431\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00432\ \textcolor{keyword}{using\ }uintptr\_t\ =\ uint128\_t;}
\DoxyCodeLine{00433\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \textcolor{comment}{//\ Returns\ the\ largest\ possible\ value\ for\ type\ T.\ Same\ as}}
\DoxyCodeLine{00436\ \textcolor{comment}{//\ std::numeric\_limits<T>::max()\ but\ shorter\ and\ not\ affected\ by\ the\ max\ macro.}}
\DoxyCodeLine{00437\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ max\_value()\ -\/>\ T\ \{}
\DoxyCodeLine{00438\ \ \ \textcolor{keywordflow}{return}\ (std::numeric\_limits<T>::max)();}
\DoxyCodeLine{00439\ \}}
\DoxyCodeLine{00440\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_bits()\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{00441\ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<T>::digits;}
\DoxyCodeLine{00442\ \}}
\DoxyCodeLine{00443\ \textcolor{comment}{//\ std::numeric\_limits<T>::digits\ may\ return\ 0\ for\ 128-\/bit\ ints.}}
\DoxyCodeLine{00444\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_bits<int128\_opt>()\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 128;\ \}}
\DoxyCodeLine{00445\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ num\_bits<uint128\_t>()\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 128;\ \}}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \textcolor{comment}{//\ A\ heterogeneous\ bit\_cast\ used\ for\ converting\ 96-\/bit\ long\ double\ to\ uint128\_t}}
\DoxyCodeLine{00448\ \textcolor{comment}{//\ and\ 128-\/bit\ pointers\ to\ uint128\_fallback.}}
\DoxyCodeLine{00449\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ To,\ \textcolor{keyword}{typename}\ From,\ FMT\_ENABLE\_IF(sizeof(To)\ >\ \textcolor{keyword}{sizeof}(From))>}
\DoxyCodeLine{00450\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ bit\_cast(\textcolor{keyword}{const}\ From\&\ from)\ -\/>\ To\ \{}
\DoxyCodeLine{00451\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ size\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\textcolor{keyword}{sizeof}(From)\ /\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned}));}
\DoxyCodeLine{00452\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdata__t}{data\_t}}\ \{}
\DoxyCodeLine{00453\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classvalue}{value}}[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(size)];}
\DoxyCodeLine{00454\ \ \ \}\ \mbox{\hyperlink{structdata}{data}}\ =\ bit\_cast<data\_t>(from);}
\DoxyCodeLine{00455\ \ \ \textcolor{keyword}{auto}\ result\ =\ To();}
\DoxyCodeLine{00456\ \ \ \textcolor{keywordflow}{if}\ (const\_check(is\_big\_endian()))\ \{}
\DoxyCodeLine{00457\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)}
\DoxyCodeLine{00458\ \ \ \ \ \ \ result\ =\ (result\ <<\ num\_bits<unsigned>())\ |\ \mbox{\hyperlink{structdata}{data}}.value[i];}
\DoxyCodeLine{00459\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00460\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ size\ -\/\ 1;\ i\ >=\ 0;\ -\/-\/i)}
\DoxyCodeLine{00461\ \ \ \ \ \ \ result\ =\ (result\ <<\ num\_bits<unsigned>())\ |\ \mbox{\hyperlink{structdata}{data}}.value[i];}
\DoxyCodeLine{00462\ \ \ \}}
\DoxyCodeLine{00463\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00464\ \}}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00466\ FMT\_INLINE\ \textcolor{keywordtype}{void}\ assume(\textcolor{keywordtype}{bool}\ condition)\ \{}
\DoxyCodeLine{00467\ \ \ (void)condition;}
\DoxyCodeLine{00468\ \textcolor{preprocessor}{\#if\ FMT\_HAS\_BUILTIN(\_\_builtin\_assume)\ \&\&\ !FMT\_ICC\_VERSION}}
\DoxyCodeLine{00469\ \ \ \_\_builtin\_assume(condition);}
\DoxyCodeLine{00470\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00471\ \}}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \textcolor{comment}{//\ An\ approximation\ of\ iterator\_t\ for\ pre-\/C++20\ systems.}}
\DoxyCodeLine{00474\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00475\ \textcolor{keyword}{using\ }iterator\_t\ =\ \textcolor{keyword}{decltype}(std::begin(std::declval<T\&>()));}
\DoxyCodeLine{00476\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }sentinel\_t\ =\ \textcolor{keyword}{decltype}(std::end(std::declval<T\&>()));}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00478\ \textcolor{comment}{//\ A\ workaround\ for\ std::string\ not\ having\ mutable\ data()\ until\ C++17.}}
\DoxyCodeLine{00479\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00480\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ get\_data(std::basic\_string<Char>\&\ s)\ -\/>\ Char*\ \{}
\DoxyCodeLine{00481\ \ \ \textcolor{keywordflow}{return}\ \&s[0];}
\DoxyCodeLine{00482\ \}}
\DoxyCodeLine{00483\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Container>}
\DoxyCodeLine{00484\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ get\_data(Container\&\ c)\ -\/>\ \textcolor{keyword}{typename}\ Container::value\_type*\ \{}
\DoxyCodeLine{00485\ \ \ \textcolor{keywordflow}{return}\ c.data();}
\DoxyCodeLine{00486\ \}}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00488\ \textcolor{preprocessor}{\#if\ defined(\_SECURE\_SCL)\ \&\&\ \_SECURE\_SCL}}
\DoxyCodeLine{00489\ \textcolor{comment}{//\ Make\ a\ checked\ iterator\ to\ avoid\ MSVC\ warnings.}}
\DoxyCodeLine{00490\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }checked\_ptr\ =\ stdext::checked\_array\_iterator<T*>;}
\DoxyCodeLine{00491\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00492\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ make\_checked(T*\ p,\ \textcolor{keywordtype}{size\_t}\ size)\ -\/>\ checked\_ptr<T>\ \{}
\DoxyCodeLine{00493\ \ \ \textcolor{keywordflow}{return}\ \{p,\ size\};}
\DoxyCodeLine{00494\ \}}
\DoxyCodeLine{00495\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00496\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }checked\_ptr\ =\ T*;}
\DoxyCodeLine{00497\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ make\_checked(T*\ p,\ \textcolor{keywordtype}{size\_t})\ -\/>\ T*\ \{}
\DoxyCodeLine{00498\ \ \ \textcolor{keywordflow}{return}\ p;}
\DoxyCodeLine{00499\ \}}
\DoxyCodeLine{00500\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00502\ \textcolor{comment}{//\ Attempts\ to\ reserve\ space\ for\ n\ extra\ characters\ in\ the\ output\ range.}}
\DoxyCodeLine{00503\ \textcolor{comment}{//\ Returns\ a\ pointer\ to\ the\ reserved\ range\ or\ a\ reference\ to\ it.}}
\DoxyCodeLine{00504\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Container,\ FMT\_ENABLE\_IF(is\_contiguous<Container>::value)>}
\DoxyCodeLine{00505\ \textcolor{preprocessor}{\#if\ FMT\_CLANG\_VERSION\ >=\ 307\ \&\&\ !FMT\_ICC\_VERSION}}
\DoxyCodeLine{00506\ \_\_attribute\_\_((no\_sanitize(\textcolor{stringliteral}{"{}undefined"{}})))}
\DoxyCodeLine{00507\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00508\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}}
\DoxyCodeLine{00509\ reserve(std::back\_insert\_iterator<Container>\ it,\ \textcolor{keywordtype}{size\_t}\ n)}
\DoxyCodeLine{00510\ \ \ \ \ -\/>\ checked\_ptr<typename\ Container::value\_type>\ \{}
\DoxyCodeLine{00511\ \ \ Container\&\ c\ =\ get\_container(it);}
\DoxyCodeLine{00512\ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ c.size();}
\DoxyCodeLine{00513\ \ \ c.resize(size\ +\ n);}
\DoxyCodeLine{00514\ \ \ \textcolor{keywordflow}{return}\ make\_checked(get\_data(c)\ +\ size,\ n);}
\DoxyCodeLine{00515\ \}}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00517\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00518\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ reserve(buffer\_appender<T>\ it,\ \textcolor{keywordtype}{size\_t}\ n)\ -\/>\ buffer\_appender<T>\ \{}
\DoxyCodeLine{00519\ \ \ \mbox{\hyperlink{classbuffer}{buffer<T>}}\&\ \mbox{\hyperlink{structbuf}{buf}}\ =\ get\_container(it);}
\DoxyCodeLine{00520\ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_reserve(\mbox{\hyperlink{structbuf}{buf}}.size()\ +\ n);}
\DoxyCodeLine{00521\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00522\ \}}
\DoxyCodeLine{00523\ }
\DoxyCodeLine{00524\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>}
\DoxyCodeLine{00525\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ reserve(Iterator\&\ it,\ \textcolor{keywordtype}{size\_t})\ -\/>\ Iterator\&\ \{}
\DoxyCodeLine{00526\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00527\ \}}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00529\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00530\ \textcolor{keyword}{using\ }reserve\_iterator\ =}
\DoxyCodeLine{00531\ \ \ \ \ remove\_reference\_t<decltype(reserve(std::declval<OutputIt\&>(),\ 0))>;}
\DoxyCodeLine{00532\ }
\DoxyCodeLine{00533\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00534\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ to\_pointer(OutputIt,\ \textcolor{keywordtype}{size\_t})\ -\/>\ T*\ \{}
\DoxyCodeLine{00535\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00536\ \}}
\DoxyCodeLine{00537\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ to\_pointer(buffer\_appender<T>\ it,\ \textcolor{keywordtype}{size\_t}\ n)\ -\/>\ T*\ \{}
\DoxyCodeLine{00538\ \ \ \mbox{\hyperlink{classbuffer}{buffer<T>}}\&\ \mbox{\hyperlink{structbuf}{buf}}\ =\ get\_container(it);}
\DoxyCodeLine{00539\ \ \ \textcolor{keyword}{auto}\ size\ =\ \mbox{\hyperlink{structbuf}{buf}}.size();}
\DoxyCodeLine{00540\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structbuf}{buf}}.capacity()\ <\ size\ +\ n)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00541\ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_resize(size\ +\ n);}
\DoxyCodeLine{00542\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structbuf}{buf}}.data()\ +\ size;}
\DoxyCodeLine{00543\ \}}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Container,\ FMT\_ENABLE\_IF(is\_contiguous<Container>::value)>}
\DoxyCodeLine{00546\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ base\_iterator(std::back\_insert\_iterator<Container>\&\ it,}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ checked\_ptr<typename\ Container::value\_type>)}
\DoxyCodeLine{00548\ \ \ \ \ -\/>\ std::back\_insert\_iterator<Container>\ \{}
\DoxyCodeLine{00549\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00550\ \}}
\DoxyCodeLine{00551\ }
\DoxyCodeLine{00552\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>}
\DoxyCodeLine{00553\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ base\_iterator(Iterator,\ Iterator\ it)\ -\/>\ Iterator\ \{}
\DoxyCodeLine{00554\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00555\ \}}
\DoxyCodeLine{00556\ }
\DoxyCodeLine{00557\ \textcolor{comment}{//\ <algorithm>\ is\ spectacularly\ slow\ to\ compile\ in\ C++20\ so\ use\ a\ simple\ fill\_n}}
\DoxyCodeLine{00558\ \textcolor{comment}{//\ instead\ (\#1998).}}
\DoxyCodeLine{00559\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Size,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00560\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ fill\_n(OutputIt\ out,\ Size\ count,\ \textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{classvalue}{value}})}
\DoxyCodeLine{00561\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{00562\ \ \ \textcolor{keywordflow}{for}\ (Size\ i\ =\ 0;\ i\ <\ count;\ ++i)\ *out++\ =\ \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{00563\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00564\ \}}
\DoxyCodeLine{00565\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Size>}
\DoxyCodeLine{00566\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ fill\_n(T*\ out,\ Size\ count,\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ T*\ \{}
\DoxyCodeLine{00567\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \{}
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{keywordflow}{return}\ fill\_n<T*,\ Size,\ T>(out,\ count,\ \mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{00569\ \ \ \}}
\DoxyCodeLine{00570\ \ \ std::memset(out,\ \mbox{\hyperlink{classvalue}{value}},\ to\_unsigned(count));}
\DoxyCodeLine{00571\ \ \ \textcolor{keywordflow}{return}\ out\ +\ count;}
\DoxyCodeLine{00572\ \}}
\DoxyCodeLine{00573\ }
\DoxyCodeLine{00574\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_char8\_t}}
\DoxyCodeLine{00575\ \textcolor{keyword}{using\ }char8\_type\ =\ char8\_t;}
\DoxyCodeLine{00576\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00577\ \textcolor{keyword}{enum}\ char8\_type\ :\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \{\};}
\DoxyCodeLine{00578\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00579\ }
\DoxyCodeLine{00580\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutChar,\ \textcolor{keyword}{typename}\ InputIt,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{00581\ FMT\_CONSTEXPR\ FMT\_NOINLINE\ \textcolor{keyword}{auto}\ copy\_str\_noinline(InputIt\ begin,\ InputIt\ end,}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OutputIt\ out)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{00583\ \ \ \textcolor{keywordflow}{return}\ copy\_str<OutChar>(begin,\ end,\ out);}
\DoxyCodeLine{00584\ \}}
\DoxyCodeLine{00585\ }
\DoxyCodeLine{00586\ \textcolor{comment}{//\ A\ public\ domain\ branchless\ UTF-\/8\ decoder\ by\ Christopher\ Wellons:}}
\DoxyCodeLine{00587\ \textcolor{comment}{//\ https://github.com/skeeto/branchless-\/utf8}}
\DoxyCodeLine{00588\ \textcolor{comment}{/*\ Decode\ the\ next\ character,\ c,\ from\ s,\ reporting\ errors\ in\ e.}}
\DoxyCodeLine{00589\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00590\ \textcolor{comment}{\ *\ Since\ this\ is\ a\ branchless\ decoder,\ four\ bytes\ will\ be\ read\ from\ the}}
\DoxyCodeLine{00591\ \textcolor{comment}{\ *\ buffer\ regardless\ of\ the\ actual\ length\ of\ the\ next\ character.\ This}}
\DoxyCodeLine{00592\ \textcolor{comment}{\ *\ means\ the\ buffer\ \_must\_\ have\ at\ least\ three\ bytes\ of\ zero\ padding}}
\DoxyCodeLine{00593\ \textcolor{comment}{\ *\ following\ the\ end\ of\ the\ data\ stream.}}
\DoxyCodeLine{00594\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00595\ \textcolor{comment}{\ *\ Errors\ are\ reported\ in\ e,\ which\ will\ be\ non-\/zero\ if\ the\ parsed}}
\DoxyCodeLine{00596\ \textcolor{comment}{\ *\ character\ was\ somehow\ invalid:\ invalid\ byte\ sequence,\ non-\/canonical}}
\DoxyCodeLine{00597\ \textcolor{comment}{\ *\ encoding,\ or\ a\ surrogate\ half.}}
\DoxyCodeLine{00598\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00599\ \textcolor{comment}{\ *\ The\ function\ returns\ a\ pointer\ to\ the\ next\ character.\ When\ an\ error}}
\DoxyCodeLine{00600\ \textcolor{comment}{\ *\ occurs,\ this\ pointer\ will\ be\ a\ guess\ that\ depends\ on\ the\ particular}}
\DoxyCodeLine{00601\ \textcolor{comment}{\ *\ error,\ but\ it\ will\ always\ advance\ at\ least\ one\ byte.}}
\DoxyCodeLine{00602\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00603\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ utf8\_decode(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s,\ uint32\_t*\ c,\ \textcolor{keywordtype}{int}*\ e)}
\DoxyCodeLine{00604\ \ \ \ \ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{00605\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ masks[]\ =\ \{0x00,\ 0x7f,\ 0x1f,\ 0x0f,\ 0x07\};}
\DoxyCodeLine{00606\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ uint32\_t\ mins[]\ =\ \{4194304,\ 0,\ 128,\ 2048,\ 65536\};}
\DoxyCodeLine{00607\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shiftc[]\ =\ \{0,\ 18,\ 12,\ 6,\ 0\};}
\DoxyCodeLine{00608\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shifte[]\ =\ \{0,\ 6,\ 4,\ 2,\ 0\};}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \ \ \textcolor{keywordtype}{int}\ len\ =\ code\_point\_length\_impl(*s);}
\DoxyCodeLine{00611\ \ \ \textcolor{comment}{//\ Compute\ the\ pointer\ to\ the\ next\ character\ early\ so\ that\ the\ next}}
\DoxyCodeLine{00612\ \ \ \textcolor{comment}{//\ iteration\ can\ start\ working\ on\ the\ next\ character.\ Neither\ Clang}}
\DoxyCodeLine{00613\ \ \ \textcolor{comment}{//\ nor\ GCC\ figure\ out\ this\ reordering\ on\ their\ own.}}
\DoxyCodeLine{00614\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ next\ =\ s\ +\ len\ +\ !len;}
\DoxyCodeLine{00615\ }
\DoxyCodeLine{00616\ \ \ \textcolor{keyword}{using\ }uchar\ =\ \textcolor{keywordtype}{unsigned}\ char;}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00618\ \ \ \textcolor{comment}{//\ Assume\ a\ four-\/byte\ character\ and\ load\ four\ bytes.\ Unused\ bits\ are}}
\DoxyCodeLine{00619\ \ \ \textcolor{comment}{//\ shifted\ out.}}
\DoxyCodeLine{00620\ \ \ *c\ =\ uint32\_t(uchar(s[0])\ \&\ masks[len])\ <<\ 18;}
\DoxyCodeLine{00621\ \ \ *c\ |=\ uint32\_t(uchar(s[1])\ \&\ 0x3f)\ <<\ 12;}
\DoxyCodeLine{00622\ \ \ *c\ |=\ uint32\_t(uchar(s[2])\ \&\ 0x3f)\ <<\ 6;}
\DoxyCodeLine{00623\ \ \ *c\ |=\ uint32\_t(uchar(s[3])\ \&\ 0x3f)\ <<\ 0;}
\DoxyCodeLine{00624\ \ \ *c\ >>=\ shiftc[len];}
\DoxyCodeLine{00625\ }
\DoxyCodeLine{00626\ \ \ \textcolor{comment}{//\ Accumulate\ the\ various\ error\ conditions.}}
\DoxyCodeLine{00627\ \ \ *e\ =\ (*c\ <\ mins[len])\ <<\ 6;\ \ \ \ \ \ \ \textcolor{comment}{//\ non-\/canonical\ encoding}}
\DoxyCodeLine{00628\ \ \ *e\ |=\ ((*c\ >>\ 11)\ ==\ 0x1b)\ <<\ 7;\ \ \textcolor{comment}{//\ surrogate\ half?}}
\DoxyCodeLine{00629\ \ \ *e\ |=\ (*c\ >\ 0x10FFFF)\ <<\ 8;\ \ \ \ \ \ \ \textcolor{comment}{//\ out\ of\ range?}}
\DoxyCodeLine{00630\ \ \ *e\ |=\ (uchar(s[1])\ \&\ 0xc0)\ >>\ 2;}
\DoxyCodeLine{00631\ \ \ *e\ |=\ (uchar(s[2])\ \&\ 0xc0)\ >>\ 4;}
\DoxyCodeLine{00632\ \ \ *e\ |=\ uchar(s[3])\ >>\ 6;}
\DoxyCodeLine{00633\ \ \ *e\ \string^=\ 0x2a;\ \ \textcolor{comment}{//\ top\ two\ bits\ of\ each\ tail\ byte\ correct?}}
\DoxyCodeLine{00634\ \ \ *e\ >>=\ shifte[len];}
\DoxyCodeLine{00635\ }
\DoxyCodeLine{00636\ \ \ \textcolor{keywordflow}{return}\ next;}
\DoxyCodeLine{00637\ \}}
\DoxyCodeLine{00638\ }
\DoxyCodeLine{00639\ \textcolor{keyword}{constexpr}\ uint32\_t\ invalid\_code\_point\ =\ \string~uint32\_t();}
\DoxyCodeLine{00640\ }
\DoxyCodeLine{00641\ \textcolor{comment}{//\ Invokes\ f(cp,\ sv)\ for\ every\ code\ point\ cp\ in\ s\ with\ sv\ being\ the\ string\ view}}
\DoxyCodeLine{00642\ \textcolor{comment}{//\ corresponding\ to\ the\ code\ point.\ cp\ is\ invalid\_code\_point\ on\ error.}}
\DoxyCodeLine{00643\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{00644\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ for\_each\_codepoint(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ s,\ F\ f)\ \{}
\DoxyCodeLine{00645\ \ \ \textcolor{keyword}{auto}\ decode\ =\ [f](\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf\_ptr,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ ptr)\ \{}
\DoxyCodeLine{00646\ \ \ \ \ \textcolor{keyword}{auto}\ cp\ =\ uint32\_t();}
\DoxyCodeLine{00647\ \ \ \ \ \textcolor{keyword}{auto}\ error\ =\ 0;}
\DoxyCodeLine{00648\ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ utf8\_decode(buf\_ptr,\ \&cp,\ \&error);}
\DoxyCodeLine{00649\ \ \ \ \ \textcolor{keywordtype}{bool}\ result\ =\ f(error\ ?\ invalid\_code\_point\ :\ cp,}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(ptr,\ error\ ?\ 1\ :\ to\_unsigned(end\ -\/\ buf\_ptr)));}
\DoxyCodeLine{00651\ \ \ \ \ \textcolor{keywordflow}{return}\ result\ ?\ (error\ ?\ buf\_ptr\ +\ 1\ :\ end)\ :\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00652\ \ \ \};}
\DoxyCodeLine{00653\ \ \ \textcolor{keyword}{auto}\ p\ =\ s.data();}
\DoxyCodeLine{00654\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ block\_size\ =\ 4;\ \ \textcolor{comment}{//\ utf8\_decode\ always\ reads\ blocks\ of\ 4\ chars.}}
\DoxyCodeLine{00655\ \ \ \textcolor{keywordflow}{if}\ (s.size()\ >=\ block\_size)\ \{}
\DoxyCodeLine{00656\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ end\ =\ p\ +\ s.size()\ -\/\ block\_size\ +\ 1;\ p\ <\ end;)\ \{}
\DoxyCodeLine{00657\ \ \ \ \ \ \ p\ =\ decode(p,\ p);}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!p)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00659\ \ \ \ \ \}}
\DoxyCodeLine{00660\ \ \ \}}
\DoxyCodeLine{00661\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ num\_chars\_left\ =\ s.data()\ +\ s.size()\ -\/\ p)\ \{}
\DoxyCodeLine{00662\ \ \ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{structbuf}{buf}}[2\ *\ block\_size\ -\/\ 1]\ =\ \{\};}
\DoxyCodeLine{00663\ \ \ \ \ copy\_str<char>(p,\ p\ +\ num\_chars\_left,\ \mbox{\hyperlink{structbuf}{buf}});}
\DoxyCodeLine{00664\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf\_ptr\ =\ \mbox{\hyperlink{structbuf}{buf}};}
\DoxyCodeLine{00665\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ decode(buf\_ptr,\ p);}
\DoxyCodeLine{00667\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!end)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00668\ \ \ \ \ \ \ p\ +=\ end\ -\/\ buf\_ptr;}
\DoxyCodeLine{00669\ \ \ \ \ \ \ buf\_ptr\ =\ end;}
\DoxyCodeLine{00670\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (buf\_ptr\ -\/\ \mbox{\hyperlink{structbuf}{buf}}\ <\ num\_chars\_left);}
\DoxyCodeLine{00671\ \ \ \}}
\DoxyCodeLine{00672\ \}}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00674\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00675\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ compute\_width(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00676\ \ \ \textcolor{keywordflow}{return}\ s.size();}
\DoxyCodeLine{00677\ \}}
\DoxyCodeLine{00678\ }
\DoxyCodeLine{00679\ \textcolor{comment}{//\ Computes\ approximate\ display\ width\ of\ a\ UTF-\/8\ string.}}
\DoxyCodeLine{00680\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ compute\_width(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ s)\ \{}
\DoxyCodeLine{00681\ \ \ \textcolor{keywordtype}{size\_t}\ num\_code\_points\ =\ 0;}
\DoxyCodeLine{00682\ \ \ \textcolor{comment}{//\ It\ is\ not\ a\ lambda\ for\ compatibility\ with\ C++14.}}
\DoxyCodeLine{00683\ \ \ \textcolor{keyword}{struct\ }count\_code\_points\ \{}
\DoxyCodeLine{00684\ \ \ \ \ \textcolor{keywordtype}{size\_t}*\ count;}
\DoxyCodeLine{00685\ \ \ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(uint32\_t\ cp,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}})\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{00686\ \ \ \ \ \ \ *count\ +=\ detail::to\_unsigned(}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \ \ 1\ +}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x1100\ \&\&}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \ \ \ (cp\ <=\ 0x115f\ ||\ \ \textcolor{comment}{//\ Hangul\ Jamo\ init.\ consonants}}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \ \ \ \ cp\ ==\ 0x2329\ ||\ \ \textcolor{comment}{//\ LEFT-\/POINTING\ ANGLE\ BRACKET}}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \ \ \ \ cp\ ==\ 0x232a\ ||\ \ \textcolor{comment}{//\ RIGHT-\/POINTING\ ANGLE\ BRACKET}}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ CJK\ ...\ Yi\ except\ IDEOGRAPHIC\ HALF\ FILL\ SPACE:}}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x2e80\ \&\&\ cp\ <=\ 0xa4cf\ \&\&\ cp\ !=\ 0x303f)\ ||}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xac00\ \&\&\ cp\ <=\ 0xd7a3)\ ||\ \ \ \ \textcolor{comment}{//\ Hangul\ Syllables}}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xf900\ \&\&\ cp\ <=\ 0xfaff)\ ||\ \ \ \ \textcolor{comment}{//\ CJK\ Compatibility\ Ideographs}}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xfe10\ \&\&\ cp\ <=\ 0xfe19)\ ||\ \ \ \ \textcolor{comment}{//\ Vertical\ Forms}}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xfe30\ \&\&\ cp\ <=\ 0xfe6f)\ ||\ \ \ \ \textcolor{comment}{//\ CJK\ Compatibility\ Forms}}
\DoxyCodeLine{00698\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xff00\ \&\&\ cp\ <=\ 0xff60)\ ||\ \ \ \ \textcolor{comment}{//\ Fullwidth\ Forms}}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0xffe0\ \&\&\ cp\ <=\ 0xffe6)\ ||\ \ \ \ \textcolor{comment}{//\ Fullwidth\ Forms}}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x20000\ \&\&\ cp\ <=\ 0x2fffd)\ ||\ \ \textcolor{comment}{//\ CJK}}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x30000\ \&\&\ cp\ <=\ 0x3fffd)\ ||}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Miscellaneous\ Symbols\ and\ Pictographs\ +\ Emoticons:}}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x1f300\ \&\&\ cp\ <=\ 0x1f64f)\ ||}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Supplemental\ Symbols\ and\ Pictographs:}}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ (cp\ >=\ 0x1f900\ \&\&\ cp\ <=\ 0x1f9ff))));}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00707\ \ \ \ \ \}}
\DoxyCodeLine{00708\ \ \ \};}
\DoxyCodeLine{00709\ \ \ for\_each\_codepoint(s,\ count\_code\_points\{\&num\_code\_points\});}
\DoxyCodeLine{00710\ \ \ \textcolor{keywordflow}{return}\ num\_code\_points;}
\DoxyCodeLine{00711\ \}}
\DoxyCodeLine{00712\ }
\DoxyCodeLine{00713\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ compute\_width(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char8\_type>}}\ s)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00714\ \ \ \textcolor{keywordflow}{return}\ compute\_width(}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(s.data()),\ s.size()));}
\DoxyCodeLine{00716\ \}}
\DoxyCodeLine{00717\ }
\DoxyCodeLine{00718\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00719\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ code\_point\_index(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s,\ \textcolor{keywordtype}{size\_t}\ n)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00720\ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ s.size();}
\DoxyCodeLine{00721\ \ \ \textcolor{keywordflow}{return}\ n\ <\ size\ ?\ n\ :\ size;}
\DoxyCodeLine{00722\ \}}
\DoxyCodeLine{00723\ }
\DoxyCodeLine{00724\ \textcolor{comment}{//\ Calculates\ the\ index\ of\ the\ nth\ code\ point\ in\ a\ UTF-\/8\ string.}}
\DoxyCodeLine{00725\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ code\_point\_index(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ s,\ \textcolor{keywordtype}{size\_t}\ n)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00726\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{structdata}{data}}\ =\ s.data();}
\DoxyCodeLine{00727\ \ \ \textcolor{keywordtype}{size\_t}\ num\_code\_points\ =\ 0;}
\DoxyCodeLine{00728\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ size\ =\ s.size();\ i\ !=\ size;\ ++i)\ \{}
\DoxyCodeLine{00729\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{structdata}{data}}[i]\ \&\ 0xc0)\ !=\ 0x80\ \&\&\ ++num\_code\_points\ >\ n)\ \textcolor{keywordflow}{return}\ i;}
\DoxyCodeLine{00730\ \ \ \}}
\DoxyCodeLine{00731\ \ \ \textcolor{keywordflow}{return}\ s.size();}
\DoxyCodeLine{00732\ \}}
\DoxyCodeLine{00733\ }
\DoxyCodeLine{00734\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ code\_point\_index(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<char8\_type>}}\ s,\ \textcolor{keywordtype}{size\_t}\ n)}
\DoxyCodeLine{00735\ \ \ \ \ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00736\ \ \ \textcolor{keywordflow}{return}\ code\_point\_index(}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(s.data()),\ s.size()),\ n);}
\DoxyCodeLine{00738\ \}}
\DoxyCodeLine{00739\ }
\DoxyCodeLine{00740\ \textcolor{preprocessor}{\#ifndef\ FMT\_USE\_FLOAT128}}
\DoxyCodeLine{00741\ \textcolor{preprocessor}{\#\ \ ifdef\ \_\_SIZEOF\_FLOAT128\_\_}}
\DoxyCodeLine{00742\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_FLOAT128\ 1}}
\DoxyCodeLine{00743\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{00744\ \textcolor{preprocessor}{\#\ \ \ \ define\ FMT\_USE\_FLOAT128\ 0}}
\DoxyCodeLine{00745\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{00746\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00747\ \textcolor{preprocessor}{\#if\ FMT\_USE\_FLOAT128}}
\DoxyCodeLine{00748\ \textcolor{keyword}{using\ }float128\ =\ \_\_float128;}
\DoxyCodeLine{00749\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00750\ \textcolor{keyword}{using\ }float128\ =\ void;}
\DoxyCodeLine{00751\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00752\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{using\ }is\_float128\ =\ std::is\_same<T,\ float128>;}
\DoxyCodeLine{00753\ }
\DoxyCodeLine{00754\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00755\ \textcolor{keyword}{using\ }is\_floating\_point\ =}
\DoxyCodeLine{00756\ \ \ \ \ bool\_constant<std::is\_floating\_point<T>::value\ ||\ is\_float128<T>::value>;}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00758\ template\ <typename\ T,\ bool\ =\ std::is\_floating\_point<T>::value>}
\DoxyCodeLine{00759\ \textcolor{keyword}{struct\ }is\_fast\_float\ :\ bool\_constant<std::numeric\_limits<T>::is\_iec559\ \&\&}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sizeof(T)\ <=\ sizeof(double)>\ \{\};}
\DoxyCodeLine{00761\ template\ <typename\ T>\ struct\ is\_fast\_float<T,\ false>\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{00762\ }
\DoxyCodeLine{00763\ template\ <typename\ T>}
\DoxyCodeLine{00764\ using\ is\_double\_double\ =\ bool\_constant<std::numeric\_limits<T>::digits\ ==\ 106>;}
\DoxyCodeLine{00765\ }
\DoxyCodeLine{00766\ \#ifndef\ FMT\_USE\_FULL\_CACHE\_DRAGONBOX}
\DoxyCodeLine{00767\ \#\ \ define\ FMT\_USE\_FULL\_CACHE\_DRAGONBOX\ 0}
\DoxyCodeLine{00768\ \#endif}
\DoxyCodeLine{00769\ }
\DoxyCodeLine{00770\ template\ <typename\ T>}
\DoxyCodeLine{00771\ template\ <typename\ U>}
\DoxyCodeLine{00772\ void\ buffer<T>::append(const\ U*\ begin,\ const\ U*\ end)\ \{}
\DoxyCodeLine{00773\ \ \ while\ (begin\ !=\ end)\ \{}
\DoxyCodeLine{00774\ \ \ \ \ auto\ count\ =\ to\_unsigned(end\ -\/\ begin);}
\DoxyCodeLine{00775\ \ \ \ \ try\_reserve(size\_\ +\ count);}
\DoxyCodeLine{00776\ \ \ \ \ auto\ free\_cap\ =\ capacity\_\ -\/\ size\_;}
\DoxyCodeLine{00777\ \ \ \ \ if\ (free\_cap\ <\ count)\ count\ =\ free\_cap;}
\DoxyCodeLine{00778\ \ \ \ \ std::uninitialized\_copy\_n(begin,\ count,\ make\_checked(ptr\_\ +\ size\_,\ count));}
\DoxyCodeLine{00779\ \ \ \ \ size\_\ +=\ count;}
\DoxyCodeLine{00780\ \ \ \ \ begin\ +=\ count;}
\DoxyCodeLine{00781\ \ \ \}}
\DoxyCodeLine{00782\ \}}
\DoxyCodeLine{00783\ }
\DoxyCodeLine{00784\ template\ <typename\ T,\ typename\ Enable\ =\ void>}
\DoxyCodeLine{00785\ struct\ is\_locale\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{00786\ template\ <typename\ T>}
\DoxyCodeLine{00787\ struct\ is\_locale<T,\ void\_t<decltype(T::classic())>>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{00788\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00789\ }
\DoxyCodeLine{00790\ FMT\_MODULE\_EXPORT\_BEGIN}
\DoxyCodeLine{00791\ }
\DoxyCodeLine{00792\ \textcolor{comment}{//\ The\ number\ of\ characters\ to\ store\ in\ the\ basic\_memory\_buffer\ object\ itself}}
\DoxyCodeLine{00793\ \textcolor{comment}{//\ to\ avoid\ dynamic\ memory\ allocation.}}
\DoxyCodeLine{00794\ enum\ \{\ inline\_buffer\_size\ =\ 500\ \};}
\DoxyCodeLine{00795\ }
\DoxyCodeLine{00817\ template\ <typename\ T,\ size\_t\ SIZE\ =\ inline\_buffer\_size,}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ \ \ typename\ Allocator\ =\ std::allocator<T>>}
\DoxyCodeLine{00819\ class\ basic\_memory\_buffer\ final\ :\ public\ detail::buffer<T>\ \{}
\DoxyCodeLine{00820\ \ private:}
\DoxyCodeLine{00821\ \ \ T\ store\_[SIZE];}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \ \ \textcolor{comment}{//\ Don't\ inherit\ from\ Allocator\ avoid\ generating\ type\_info\ for\ it.}}
\DoxyCodeLine{00824\ \ \ Allocator\ alloc\_;}
\DoxyCodeLine{00825\ }
\DoxyCodeLine{00826\ \ \ \textcolor{comment}{//\ Deallocate\ memory\ allocated\ by\ the\ buffer.}}
\DoxyCodeLine{00827\ \ \ FMT\_CONSTEXPR20\ void\ deallocate()\ \{}
\DoxyCodeLine{00828\ \ \ \ \ T*\ data\ =\ this-\/>data();}
\DoxyCodeLine{00829\ \ \ \ \ if\ (data\ !=\ store\_)\ alloc\_.deallocate(data,\ this-\/>capacity());}
\DoxyCodeLine{00830\ \ \ \}}
\DoxyCodeLine{00831\ }
\DoxyCodeLine{00832\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00833\ \ \ FMT\_CONSTEXPR20\ void\ grow(size\_t\ size)\ override;}
\DoxyCodeLine{00834\ }
\DoxyCodeLine{00835\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00836\ \ \ using\ value\_type\ =\ T;}
\DoxyCodeLine{00837\ \ \ using\ const\_reference\ =\ const\ T\&;}
\DoxyCodeLine{00838\ }
\DoxyCodeLine{00839\ \ \ FMT\_CONSTEXPR20\ explicit\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}(}
\DoxyCodeLine{00840\ \ \ \ \ \ \ const\ Allocator\&\ alloc\ =\ Allocator())}
\DoxyCodeLine{00841\ \ \ \ \ \ \ :\ alloc\_(alloc)\ \{}
\DoxyCodeLine{00842\ \ \ \ \ this-\/>set(store\_,\ SIZE);}
\DoxyCodeLine{00843\ \ \ \ \ \textcolor{keywordflow}{if}\ (detail::is\_constant\_evaluated())\ detail::fill\_n(store\_,\ SIZE,\ T());}
\DoxyCodeLine{00844\ \ \ \}}
\DoxyCodeLine{00845\ \ \ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classbasic__memory__buffer}{\string~basic\_memory\_buffer}}()\ \{\ deallocate();\ \}}
\DoxyCodeLine{00846\ }
\DoxyCodeLine{00847\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00848\ \ \ \textcolor{comment}{//\ Move\ data\ from\ other\ to\ this\ buffer.}}
\DoxyCodeLine{00849\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ move(\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\ other)\ \{}
\DoxyCodeLine{00850\ \ \ \ \ alloc\_\ =\ std::move(other.alloc\_);}
\DoxyCodeLine{00851\ \ \ \ \ T*\ \mbox{\hyperlink{structdata}{data}}\ =\ other.data();}
\DoxyCodeLine{00852\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ other.size(),\ capacity\ =\ other.capacity();}
\DoxyCodeLine{00853\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structdata}{data}}\ ==\ other.store\_)\ \{}
\DoxyCodeLine{00854\ \ \ \ \ \ \ this-\/>set(store\_,\ capacity);}
\DoxyCodeLine{00855\ \ \ \ \ \ \ detail::copy\_str<T>(other.store\_,\ other.store\_\ +\ size,}
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::make\_checked(store\_,\ capacity));}
\DoxyCodeLine{00857\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00858\ \ \ \ \ \ \ this-\/>set(\mbox{\hyperlink{structdata}{data}},\ capacity);}
\DoxyCodeLine{00859\ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ pointer\ to\ the\ inline\ array\ so\ that\ delete\ is\ not\ called}}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \textcolor{comment}{//\ when\ deallocating.}}
\DoxyCodeLine{00861\ \ \ \ \ \ \ other.set(other.store\_,\ 0);}
\DoxyCodeLine{00862\ \ \ \ \ \ \ other.clear();}
\DoxyCodeLine{00863\ \ \ \ \ \}}
\DoxyCodeLine{00864\ \ \ \ \ this-\/>resize(size);}
\DoxyCodeLine{00865\ \ \ \}}
\DoxyCodeLine{00866\ }
\DoxyCodeLine{00867\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00874\ \ \ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classbasic__memory__buffer_ade18cff12fc914085665a07af2e8fb7b}{basic\_memory\_buffer}}(\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\&\ other)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00875\ \ \ \ \ move(other);}
\DoxyCodeLine{00876\ \ \ \}}
\DoxyCodeLine{00877\ }
\DoxyCodeLine{00883\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classbasic__memory__buffer_a20c8cea076154a579ab0a04afb6c1f84}{operator=}}(\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\&\ other)\ \textcolor{keyword}{noexcept}\ -\/>\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}\&\ \{}
\DoxyCodeLine{00884\ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{this}\ !=\ \&other,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00885\ \ \ \ \ deallocate();}
\DoxyCodeLine{00886\ \ \ \ \ move(other);}
\DoxyCodeLine{00887\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00888\ \ \ \}}
\DoxyCodeLine{00889\ }
\DoxyCodeLine{00890\ \ \ \textcolor{comment}{//\ Returns\ a\ copy\ of\ the\ allocator\ associated\ with\ this\ buffer.}}
\DoxyCodeLine{00891\ \ \ \textcolor{keyword}{auto}\ get\_allocator()\ const\ -\/>\ Allocator\ \{\ \textcolor{keywordflow}{return}\ alloc\_;\ \}}
\DoxyCodeLine{00892\ }
\DoxyCodeLine{00897\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(\textcolor{keywordtype}{size\_t}\ count)\ \{\ this-\/>try\_resize(count);\ \}}
\DoxyCodeLine{00898\ }
\DoxyCodeLine{00900\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbasic__memory__buffer_a27f096451ed4e6738d3a33161fda3e90}{reserve}}(\textcolor{keywordtype}{size\_t}\ new\_capacity)\ \{\ this-\/>try\_reserve(new\_capacity);\ \}}
\DoxyCodeLine{00901\ }
\DoxyCodeLine{00902\ \ \ \textcolor{comment}{//\ Directly\ append\ data\ into\ the\ buffer}}
\DoxyCodeLine{00903\ \ \ \textcolor{keyword}{using\ }detail::buffer<T>::append;}
\DoxyCodeLine{00904\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ContiguousRange>}
\DoxyCodeLine{00905\ \ \ \textcolor{keywordtype}{void}\ append(\textcolor{keyword}{const}\ ContiguousRange\&\ range)\ \{}
\DoxyCodeLine{00906\ \ \ \ \ append(range.data(),\ range.data()\ +\ range.size());}
\DoxyCodeLine{00907\ \ \ \}}
\DoxyCodeLine{00908\ \};}
\DoxyCodeLine{00909\ }
\DoxyCodeLine{00910\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ SIZE,\ \textcolor{keyword}{typename}\ Allocator>}
\DoxyCodeLine{00911\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<T,\ SIZE,\ Allocator>::grow}}(}
\DoxyCodeLine{00912\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size)\ \{}
\DoxyCodeLine{00913\ \ \ detail::abort\_fuzzing\_if(size\ >\ 5000);}
\DoxyCodeLine{00914\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ max\_size\ =\ std::allocator\_traits<Allocator>::max\_size(alloc\_);}
\DoxyCodeLine{00915\ \ \ \textcolor{keywordtype}{size\_t}\ old\_capacity\ =\ this-\/>capacity();}
\DoxyCodeLine{00916\ \ \ \textcolor{keywordtype}{size\_t}\ new\_capacity\ =\ old\_capacity\ +\ old\_capacity\ /\ 2;}
\DoxyCodeLine{00917\ \ \ \textcolor{keywordflow}{if}\ (size\ >\ new\_capacity)}
\DoxyCodeLine{00918\ \ \ \ \ new\_capacity\ =\ size;}
\DoxyCodeLine{00919\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (new\_capacity\ >\ max\_size)}
\DoxyCodeLine{00920\ \ \ \ \ new\_capacity\ =\ size\ >\ max\_size\ ?\ size\ :\ max\_size;}
\DoxyCodeLine{00921\ \ \ T*\ old\_data\ =\ this-\/>data();}
\DoxyCodeLine{00922\ \ \ T*\ new\_data\ =}
\DoxyCodeLine{00923\ \ \ \ \ \ \ std::allocator\_traits<Allocator>::allocate(alloc\_,\ new\_capacity);}
\DoxyCodeLine{00924\ \ \ \textcolor{comment}{//\ The\ following\ code\ doesn't\ throw,\ so\ the\ raw\ pointer\ above\ doesn't\ leak.}}
\DoxyCodeLine{00925\ \ \ std::uninitialized\_copy(old\_data,\ old\_data\ +\ this-\/>size(),}
\DoxyCodeLine{00926\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::make\_checked(new\_data,\ new\_capacity));}
\DoxyCodeLine{00927\ \ \ this-\/>set(new\_data,\ new\_capacity);}
\DoxyCodeLine{00928\ \ \ \textcolor{comment}{//\ deallocate\ must\ not\ throw\ according\ to\ the\ standard,\ but\ even\ if\ it\ does,}}
\DoxyCodeLine{00929\ \ \ \textcolor{comment}{//\ the\ buffer\ already\ uses\ the\ new\ storage\ and\ will\ deallocate\ it\ in}}
\DoxyCodeLine{00930\ \ \ \textcolor{comment}{//\ destructor.}}
\DoxyCodeLine{00931\ \ \ \textcolor{keywordflow}{if}\ (old\_data\ !=\ store\_)\ alloc\_.deallocate(old\_data,\ old\_capacity);}
\DoxyCodeLine{00932\ \}}
\DoxyCodeLine{00933\ }
\DoxyCodeLine{00934\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<char>}};}
\DoxyCodeLine{00935\ }
\DoxyCodeLine{00936\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{size\_t}\ SIZE,\ \textcolor{keyword}{typename}\ Allocator>}
\DoxyCodeLine{00937\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structis__contiguous}{is\_contiguous}}<\mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer}}<T,\ SIZE,\ Allocator>>\ :\ std::true\_type\ \{}
\DoxyCodeLine{00938\ \};}
\DoxyCodeLine{00939\ }
\DoxyCodeLine{00940\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00941\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{00942\ FMT\_API\ \textcolor{keywordtype}{bool}\ write\_console(std::FILE*\ f,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ text);}
\DoxyCodeLine{00943\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00944\ FMT\_API\ \textcolor{keywordtype}{void}\ print(std::FILE*,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}});}
\DoxyCodeLine{00945\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00946\ }
\DoxyCodeLine{00948\ FMT\_CLASS\_API}
\DoxyCodeLine{00949\ \textcolor{keyword}{class\ }FMT\_API\ \mbox{\hyperlink{classformat__error}{format\_error}}\ :\ \textcolor{keyword}{public}\ std::runtime\_error\ \{}
\DoxyCodeLine{00950\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00951\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ :\ std::runtime\_error(message)\ \{\}}
\DoxyCodeLine{00952\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{keyword}{const}\ std::string\&\ message)}
\DoxyCodeLine{00953\ \ \ \ \ \ \ :\ std::runtime\_error(message)\ \{\}}
\DoxyCodeLine{00954\ \ \ \mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classformat__error}{format\_error}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00955\ \ \ \mbox{\hyperlink{classformat__error}{format\_error}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classformat__error}{format\_error}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00956\ \ \ \mbox{\hyperlink{classformat__error}{format\_error}}(\mbox{\hyperlink{classformat__error}{format\_error}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00957\ \ \ \mbox{\hyperlink{classformat__error}{format\_error}}\&\ operator=(\mbox{\hyperlink{classformat__error}{format\_error}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00958\ \ \ \mbox{\hyperlink{classformat__error}{\string~format\_error}}()\ noexcept\ override\ FMT\_MSC\_DEFAULT;}
\DoxyCodeLine{00959\ \};}
\DoxyCodeLine{00960\ }
\DoxyCodeLine{00961\ namespace\ detail\_exported\ \{}
\DoxyCodeLine{00962\ \textcolor{preprocessor}{\#if\ FMT\_USE\_NONTYPE\_TEMPLATE\_ARGS}}
\DoxyCodeLine{00963\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N>\ \textcolor{keyword}{struct\ }fixed\_string\ \{}
\DoxyCodeLine{00964\ \ \ \textcolor{keyword}{constexpr}\ fixed\_string(\textcolor{keyword}{const}\ Char\ (\&str)[N])\ \{}
\DoxyCodeLine{00965\ \ \ \ \ detail::copy\_str<Char,\ const\ Char*,\ Char*>(\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }Char*\textcolor{keyword}{>}(str),}
\DoxyCodeLine{00966\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ str\ +\ N,\ \mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{00967\ \ \ \}}
\DoxyCodeLine{00968\ \ \ Char\ \mbox{\hyperlink{structdata}{data}}[N]\ =\ \{\};}
\DoxyCodeLine{00969\ \};}
\DoxyCodeLine{00970\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00971\ }
\DoxyCodeLine{00972\ \textcolor{comment}{//\ Converts\ a\ compile-\/time\ string\ to\ basic\_string\_view.}}
\DoxyCodeLine{00973\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00974\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ compile\_string\_to\_view(\textcolor{keyword}{const}\ Char\ (\&s)[N])}
\DoxyCodeLine{00975\ \ \ \ \ -\/>\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \{}
\DoxyCodeLine{00976\ \ \ \textcolor{comment}{//\ Remove\ trailing\ NUL\ character\ if\ needed.\ Won't\ be\ present\ if\ this\ is\ used}}
\DoxyCodeLine{00977\ \ \ \textcolor{comment}{//\ with\ a\ raw\ character\ array\ (i.e.\ not\ defined\ as\ a\ string).}}
\DoxyCodeLine{00978\ \ \ \textcolor{keywordflow}{return}\ \{s,\ N\ -\/\ (std::char\_traits<Char>::to\_int\_type(s[N\ -\/\ 1])\ ==\ 0\ ?\ 1\ :\ 0)\};}
\DoxyCodeLine{00979\ \}}
\DoxyCodeLine{00980\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{00981\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ compile\_string\_to\_view(detail::std\_string\_view<Char>\ s)}
\DoxyCodeLine{00982\ \ \ \ \ -\/>\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \{}
\DoxyCodeLine{00983\ \ \ \textcolor{keywordflow}{return}\ \{s.\mbox{\hyperlink{classbasic__string__view_a39cdfe061dc6d64a3adc230b62d8a026}{data}}(),\ s.size()\};}
\DoxyCodeLine{00984\ \}}
\DoxyCodeLine{00985\ \}\ \ \textcolor{comment}{//\ namespace\ detail\_exported}}
\DoxyCodeLine{00986\ }
\DoxyCodeLine{00987\ FMT\_BEGIN\_DETAIL\_NAMESPACE}
\DoxyCodeLine{00988\ }
\DoxyCodeLine{00989\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structis__integral}{is\_integral}}\ :\ std::is\_integral<T>\ \{\};}
\DoxyCodeLine{00990\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structis__integral}{is\_integral}}<int128\_opt>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{00991\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structis__integral}{is\_integral}}<uint128\_t>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{00992\ }
\DoxyCodeLine{00993\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00994\ \textcolor{keyword}{using\ }is\_signed\ =}
\DoxyCodeLine{00995\ \ \ \ \ std::integral\_constant<bool,\ std::numeric\_limits<T>::is\_signed\ ||}
\DoxyCodeLine{00996\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<T,\ int128\_opt>::value>;}
\DoxyCodeLine{00997\ }
\DoxyCodeLine{00998\ \textcolor{comment}{//\ Returns\ true\ if\ value\ is\ negative,\ false\ otherwise.}}
\DoxyCodeLine{00999\ \textcolor{comment}{//\ Same\ as\ `value\ <\ 0`\ but\ doesn't\ produce\ warnings\ if\ T\ is\ an\ unsigned\ type.}}
\DoxyCodeLine{01000\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{signed}<T>::value)>}
\DoxyCodeLine{01001\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ is\_negative(T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01002\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvalue}{value}}\ <\ 0;}
\DoxyCodeLine{01003\ \}}
\DoxyCodeLine{01004\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{signed}<T>::value)>}
\DoxyCodeLine{01005\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ is\_negative(T)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01006\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01007\ \}}
\DoxyCodeLine{01008\ }
\DoxyCodeLine{01009\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01010\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ is\_supported\_floating\_point(T)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01011\ \ \ \textcolor{keywordflow}{if}\ (std::is\_same<T,\ float>())\ \textcolor{keywordflow}{return}\ FMT\_USE\_FLOAT;}
\DoxyCodeLine{01012\ \ \ \textcolor{keywordflow}{if}\ (std::is\_same<T,\ double>())\ \textcolor{keywordflow}{return}\ FMT\_USE\_DOUBLE;}
\DoxyCodeLine{01013\ \ \ \textcolor{keywordflow}{if}\ (std::is\_same<T,\ long\ double>())\ \textcolor{keywordflow}{return}\ FMT\_USE\_LONG\_DOUBLE;}
\DoxyCodeLine{01014\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01015\ \}}
\DoxyCodeLine{01016\ }
\DoxyCodeLine{01017\ \textcolor{comment}{//\ Smallest\ of\ uint32\_t,\ uint64\_t,\ uint128\_t\ that\ is\ large\ enough\ to}}
\DoxyCodeLine{01018\ \textcolor{comment}{//\ represent\ all\ values\ of\ an\ integral\ type\ T.}}
\DoxyCodeLine{01019\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01020\ \textcolor{keyword}{using\ }uint32\_or\_64\_or\_128\_t\ =}
\DoxyCodeLine{01021\ \ \ \ \ conditional\_t<num\_bits<T>()\ <=\ 32\ \&\&\ !FMT\_REDUCE\_INT\_INSTANTIATIONS,}
\DoxyCodeLine{01022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t,}
\DoxyCodeLine{01023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ conditional\_t<num\_bits<T>()\ <=\ 64,\ uint64\_t,\ uint128\_t>>;}
\DoxyCodeLine{01024\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01025\ \textcolor{keyword}{using\ }uint64\_or\_128\_t\ =\ conditional\_t<num\_bits<T>()\ <=\ 64,\ uint64\_t,\ uint128\_t>;}
\DoxyCodeLine{01026\ }
\DoxyCodeLine{01027\ \textcolor{preprocessor}{\#define\ FMT\_POWERS\_OF\_10(factor)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01028\ \textcolor{preprocessor}{\ \ factor\ *\ 10,\ (factor)*100,\ (factor)*1000,\ (factor)*10000,\ (factor)*100000,\ \(\backslash\)}}
\DoxyCodeLine{01029\ \textcolor{preprocessor}{\ \ \ \ \ \ (factor)*1000000,\ (factor)*10000000,\ (factor)*100000000,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01030\ \textcolor{preprocessor}{\ \ \ \ \ \ (factor)*1000000000}}
\DoxyCodeLine{01031\ }
\DoxyCodeLine{01032\ \textcolor{comment}{//\ Converts\ value\ in\ the\ range\ [0,\ 100)\ to\ a\ string.}}
\DoxyCodeLine{01033\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ digits2(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{01034\ \ \ \textcolor{comment}{//\ GCC\ generates\ slightly\ better\ code\ when\ value\ is\ pointer-\/size.}}
\DoxyCodeLine{01035\ \ \ \textcolor{keywordflow}{return}\ \&\textcolor{stringliteral}{"{}0001020304050607080910111213141516171819"{}}}
\DoxyCodeLine{01036\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}2021222324252627282930313233343536373839"{}}}
\DoxyCodeLine{01037\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}4041424344454647484950515253545556575859"{}}}
\DoxyCodeLine{01038\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}6061626364656667686970717273747576777879"{}}}
\DoxyCodeLine{01039\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}8081828384858687888990919293949596979899"{}}[\mbox{\hyperlink{classvalue}{value}}\ *\ 2];}
\DoxyCodeLine{01040\ \}}
\DoxyCodeLine{01041\ }
\DoxyCodeLine{01042\ \textcolor{comment}{//\ Sign\ is\ a\ template\ parameter\ to\ workaround\ a\ bug\ in\ gcc\ 4.8.}}
\DoxyCodeLine{01043\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ Sign>\ \textcolor{keyword}{constexpr}\ Char\ sign(Sign\ s)\ \{}
\DoxyCodeLine{01044\ \textcolor{preprocessor}{\#if\ !FMT\_GCC\_VERSION\ ||\ FMT\_GCC\_VERSION\ >=\ 604}}
\DoxyCodeLine{01045\ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<Sign,\ sign\_t>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01046\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01047\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{stringliteral}{"{}\(\backslash\)0-\/+\ "{}}[s]);}
\DoxyCodeLine{01048\ \}}
\DoxyCodeLine{01049\ }
\DoxyCodeLine{01050\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ count\_digits\_fallback(T\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01051\ \ \ \textcolor{keywordtype}{int}\ count\ =\ 1;}
\DoxyCodeLine{01052\ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{01053\ \ \ \ \ \textcolor{comment}{//\ Integer\ division\ is\ slow\ so\ do\ it\ for\ a\ group\ of\ four\ digits\ instead}}
\DoxyCodeLine{01054\ \ \ \ \ \textcolor{comment}{//\ of\ for\ every\ digit.\ The\ idea\ comes\ from\ the\ talk\ by\ Alexandrescu}}
\DoxyCodeLine{01055\ \ \ \ \ \textcolor{comment}{//\ "{}Three\ Optimization\ Tips\ for\ C++"{}.\ See\ speed-\/test\ for\ a\ comparison.}}
\DoxyCodeLine{01056\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 10)\ \textcolor{keywordflow}{return}\ count;}
\DoxyCodeLine{01057\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 100)\ \textcolor{keywordflow}{return}\ count\ +\ 1;}
\DoxyCodeLine{01058\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 1000)\ \textcolor{keywordflow}{return}\ count\ +\ 2;}
\DoxyCodeLine{01059\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 10000)\ \textcolor{keywordflow}{return}\ count\ +\ 3;}
\DoxyCodeLine{01060\ \ \ \ \ n\ /=\ 10000u;}
\DoxyCodeLine{01061\ \ \ \ \ count\ +=\ 4;}
\DoxyCodeLine{01062\ \ \ \}}
\DoxyCodeLine{01063\ \}}
\DoxyCodeLine{01064\ \textcolor{preprocessor}{\#if\ FMT\_USE\_INT128}}
\DoxyCodeLine{01065\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ count\_digits(uint128\_opt\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01066\ \ \ \textcolor{keywordflow}{return}\ count\_digits\_fallback(n);}
\DoxyCodeLine{01067\ \}}
\DoxyCodeLine{01068\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01069\ }
\DoxyCodeLine{01070\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZLL}}
\DoxyCodeLine{01071\ \textcolor{comment}{//\ It\ is\ a\ separate\ function\ rather\ than\ a\ part\ of\ count\_digits\ to\ workaround}}
\DoxyCodeLine{01072\ \textcolor{comment}{//\ the\ lack\ of\ static\ constexpr\ in\ constexpr\ functions.}}
\DoxyCodeLine{01073\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ do\_count\_digits(uint64\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01074\ \ \ \textcolor{comment}{//\ This\ has\ comparable\ performance\ to\ the\ version\ by\ Kendall\ Willets}}
\DoxyCodeLine{01075\ \ \ \textcolor{comment}{//\ (https://github.com/fmtlib/format-\/benchmark/blob/master/digits10)}}
\DoxyCodeLine{01076\ \ \ \textcolor{comment}{//\ but\ uses\ smaller\ tables.}}
\DoxyCodeLine{01077\ \ \ \textcolor{comment}{//\ Maps\ bsr(n)\ to\ ceil(log10(pow(2,\ bsr(n)\ +\ 1)\ -\/\ 1)).}}
\DoxyCodeLine{01078\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint8\_t\ bsr2log10[]\ =\ \{}
\DoxyCodeLine{01079\ \ \ \ \ \ \ 1,\ \ 1,\ \ 1,\ \ 2,\ \ 2,\ \ 2,\ \ 3,\ \ 3,\ \ 3,\ \ 4,\ \ 4,\ \ 4,\ \ 4,\ \ 5,\ \ 5,\ \ 5,}
\DoxyCodeLine{01080\ \ \ \ \ \ \ 6,\ \ 6,\ \ 6,\ \ 7,\ \ 7,\ \ 7,\ \ 7,\ \ 8,\ \ 8,\ \ 8,\ \ 9,\ \ 9,\ \ 9,\ \ 10,\ 10,\ 10,}
\DoxyCodeLine{01081\ \ \ \ \ \ \ 10,\ 11,\ 11,\ 11,\ 12,\ 12,\ 12,\ 13,\ 13,\ 13,\ 13,\ 14,\ 14,\ 14,\ 15,\ 15,}
\DoxyCodeLine{01082\ \ \ \ \ \ \ 15,\ 16,\ 16,\ 16,\ 16,\ 17,\ 17,\ 17,\ 18,\ 18,\ 18,\ 19,\ 19,\ 19,\ 19,\ 20\};}
\DoxyCodeLine{01083\ \ \ \textcolor{keyword}{auto}\ t\ =\ bsr2log10[FMT\_BUILTIN\_CLZLL(n\ |\ 1)\ \string^\ 63];}
\DoxyCodeLine{01084\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ uint64\_t\ zero\_or\_powers\_of\_10[]\ =\ \{}
\DoxyCodeLine{01085\ \ \ \ \ \ \ 0,\ 0,\ FMT\_POWERS\_OF\_10(1U),\ FMT\_POWERS\_OF\_10(1000000000ULL),}
\DoxyCodeLine{01086\ \ \ \ \ \ \ 10000000000000000000ULL\};}
\DoxyCodeLine{01087\ \ \ \textcolor{keywordflow}{return}\ t\ -\/\ (n\ <\ zero\_or\_powers\_of\_10[t]);}
\DoxyCodeLine{01088\ \}}
\DoxyCodeLine{01089\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01090\ }
\DoxyCodeLine{01091\ \textcolor{comment}{//\ Returns\ the\ number\ of\ decimal\ digits\ in\ n.\ Leading\ zeros\ are\ not\ counted}}
\DoxyCodeLine{01092\ \textcolor{comment}{//\ except\ for\ n\ ==\ 0\ in\ which\ case\ count\_digits\ returns\ 1.}}
\DoxyCodeLine{01093\ FMT\_CONSTEXPR20\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ count\_digits(uint64\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01094\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZLL}}
\DoxyCodeLine{01095\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated())\ \{}
\DoxyCodeLine{01096\ \ \ \ \ \textcolor{keywordflow}{return}\ do\_count\_digits(n);}
\DoxyCodeLine{01097\ \ \ \}}
\DoxyCodeLine{01098\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01099\ \ \ \textcolor{keywordflow}{return}\ count\_digits\_fallback(n);}
\DoxyCodeLine{01100\ \}}
\DoxyCodeLine{01101\ }
\DoxyCodeLine{01102\ \textcolor{comment}{//\ Counts\ the\ number\ of\ digits\ in\ n.\ BITS\ =\ log2(radix).}}
\DoxyCodeLine{01103\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ BITS,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{01104\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ count\_digits(UInt\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01105\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZ}}
\DoxyCodeLine{01106\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated()\ \&\&\ num\_bits<UInt>()\ ==\ 32)}
\DoxyCodeLine{01107\ \ \ \ \ \textcolor{keywordflow}{return}\ (FMT\_BUILTIN\_CLZ(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(n)\ |\ 1)\ \string^\ 31)\ /\ BITS\ +\ 1;}
\DoxyCodeLine{01108\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01109\ \ \ \textcolor{comment}{//\ Lambda\ avoids\ unreachable\ code\ warnings\ from\ NVHPC.}}
\DoxyCodeLine{01110\ \ \ \textcolor{keywordflow}{return}\ [](UInt\ m)\ \{}
\DoxyCodeLine{01111\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ 0;}
\DoxyCodeLine{01112\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{01113\ \ \ \ \ \ \ ++num\_digits;}
\DoxyCodeLine{01114\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ ((m\ >>=\ BITS)\ !=\ 0);}
\DoxyCodeLine{01115\ \ \ \ \ \textcolor{keywordflow}{return}\ num\_digits;}
\DoxyCodeLine{01116\ \ \ \}(n);}
\DoxyCodeLine{01117\ \}}
\DoxyCodeLine{01118\ }
\DoxyCodeLine{01119\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZ}}
\DoxyCodeLine{01120\ \textcolor{comment}{//\ It\ is\ a\ separate\ function\ rather\ than\ a\ part\ of\ count\_digits\ to\ workaround}}
\DoxyCodeLine{01121\ \textcolor{comment}{//\ the\ lack\ of\ static\ constexpr\ in\ constexpr\ functions.}}
\DoxyCodeLine{01122\ FMT\_INLINE\ \textcolor{keyword}{auto}\ do\_count\_digits(uint32\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01123\ \textcolor{comment}{//\ An\ optimization\ by\ Kendall\ Willets\ from\ https://bit.ly/3uOIQrB.}}
\DoxyCodeLine{01124\ \textcolor{comment}{//\ This\ increments\ the\ upper\ 32\ bits\ (log10(T)\ -\/\ 1)\ when\ >=\ T\ is\ added.}}
\DoxyCodeLine{01125\ \textcolor{preprocessor}{\#\ \ define\ FMT\_INC(T)\ (((sizeof(\#\ \ T)\ -\/\ 1ull)\ <<\ 32)\ -\/\ T)}}
\DoxyCodeLine{01126\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint64\_t\ table[]\ =\ \{}
\DoxyCodeLine{01127\ \ \ \ \ \ \ FMT\_INC(0),\ \ \ \ \ \ \ \ \ \ FMT\_INC(0),\ \ \ \ \ \ \ \ \ \ FMT\_INC(0),\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 8}}
\DoxyCodeLine{01128\ \ \ \ \ \ \ FMT\_INC(10),\ \ \ \ \ \ \ \ \ FMT\_INC(10),\ \ \ \ \ \ \ \ \ FMT\_INC(10),\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 64}}
\DoxyCodeLine{01129\ \ \ \ \ \ \ FMT\_INC(100),\ \ \ \ \ \ \ \ FMT\_INC(100),\ \ \ \ \ \ \ \ FMT\_INC(100),\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 512}}
\DoxyCodeLine{01130\ \ \ \ \ \ \ FMT\_INC(1000),\ \ \ \ \ \ \ FMT\_INC(1000),\ \ \ \ \ \ \ FMT\_INC(1000),\ \ \ \ \ \ \ \ \textcolor{comment}{//\ 4096}}
\DoxyCodeLine{01131\ \ \ \ \ \ \ FMT\_INC(10000),\ \ \ \ \ \ FMT\_INC(10000),\ \ \ \ \ \ FMT\_INC(10000),\ \ \ \ \ \ \ \textcolor{comment}{//\ 32k}}
\DoxyCodeLine{01132\ \ \ \ \ \ \ FMT\_INC(100000),\ \ \ \ \ FMT\_INC(100000),\ \ \ \ \ FMT\_INC(100000),\ \ \ \ \ \ \textcolor{comment}{//\ 256k}}
\DoxyCodeLine{01133\ \ \ \ \ \ \ FMT\_INC(1000000),\ \ \ \ FMT\_INC(1000000),\ \ \ \ FMT\_INC(1000000),\ \ \ \ \ \textcolor{comment}{//\ 2048k}}
\DoxyCodeLine{01134\ \ \ \ \ \ \ FMT\_INC(10000000),\ \ \ FMT\_INC(10000000),\ \ \ FMT\_INC(10000000),\ \ \ \ \textcolor{comment}{//\ 16M}}
\DoxyCodeLine{01135\ \ \ \ \ \ \ FMT\_INC(100000000),\ \ FMT\_INC(100000000),\ \ FMT\_INC(100000000),\ \ \ \textcolor{comment}{//\ 128M}}
\DoxyCodeLine{01136\ \ \ \ \ \ \ FMT\_INC(1000000000),\ FMT\_INC(1000000000),\ FMT\_INC(1000000000),\ \ \textcolor{comment}{//\ 1024M}}
\DoxyCodeLine{01137\ \ \ \ \ \ \ FMT\_INC(1000000000),\ FMT\_INC(1000000000)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 4B}}
\DoxyCodeLine{01138\ \ \ \};}
\DoxyCodeLine{01139\ \ \ \textcolor{keyword}{auto}\ inc\ =\ table[FMT\_BUILTIN\_CLZ(n\ |\ 1)\ \string^\ 31];}
\DoxyCodeLine{01140\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((n\ +\ inc)\ >>\ 32);}
\DoxyCodeLine{01141\ \}}
\DoxyCodeLine{01142\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01143\ }
\DoxyCodeLine{01144\ \textcolor{comment}{//\ Optional\ version\ of\ count\_digits\ for\ better\ performance\ on\ 32-\/bit\ platforms.}}
\DoxyCodeLine{01145\ FMT\_CONSTEXPR20\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ count\_digits(uint32\_t\ n)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01146\ \textcolor{preprocessor}{\#ifdef\ FMT\_BUILTIN\_CLZ}}
\DoxyCodeLine{01147\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated())\ \{}
\DoxyCodeLine{01148\ \ \ \ \ \textcolor{keywordflow}{return}\ do\_count\_digits(n);}
\DoxyCodeLine{01149\ \ \ \}}
\DoxyCodeLine{01150\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01151\ \ \ \textcolor{keywordflow}{return}\ count\_digits\_fallback(n);}
\DoxyCodeLine{01152\ \}}
\DoxyCodeLine{01153\ }
\DoxyCodeLine{01154\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ digits10()\ noexcept\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01155\ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<Int>::digits10;}
\DoxyCodeLine{01156\ \}}
\DoxyCodeLine{01157\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ digits10<int128\_opt>()\ noexcept\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 38;\ \}}
\DoxyCodeLine{01158\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ digits10<uint128\_t>()\ noexcept\ -\/>\ \textcolor{keywordtype}{int}\ \{\ \textcolor{keywordflow}{return}\ 38;\ \}}
\DoxyCodeLine{01159\ }
\DoxyCodeLine{01160\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structthousands__sep__result}{thousands\_sep\_result}}\ \{}
\DoxyCodeLine{01161\ \ \ std::string\ grouping;}
\DoxyCodeLine{01162\ \ \ Char\ thousands\_sep;}
\DoxyCodeLine{01163\ \};}
\DoxyCodeLine{01164\ }
\DoxyCodeLine{01165\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01166\ FMT\_API\ \textcolor{keyword}{auto}\ thousands\_sep\_impl(\mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ \mbox{\hyperlink{structthousands__sep__result}{thousands\_sep\_result<Char>}};}
\DoxyCodeLine{01167\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01168\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ thousands\_sep(\mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ \mbox{\hyperlink{structthousands__sep__result}{thousands\_sep\_result<Char>}}\ \{}
\DoxyCodeLine{01169\ \ \ \textcolor{keyword}{auto}\ result\ =\ thousands\_sep\_impl<char>(loc);}
\DoxyCodeLine{01170\ \ \ \textcolor{keywordflow}{return}\ \{result.grouping,\ Char(result.thousands\_sep)\};}
\DoxyCodeLine{01171\ \}}
\DoxyCodeLine{01172\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{01173\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ thousands\_sep(\mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ \mbox{\hyperlink{structthousands__sep__result}{thousands\_sep\_result<wchar\_t>}}\ \{}
\DoxyCodeLine{01174\ \ \ \textcolor{keywordflow}{return}\ thousands\_sep\_impl<wchar\_t>(loc);}
\DoxyCodeLine{01175\ \}}
\DoxyCodeLine{01176\ }
\DoxyCodeLine{01177\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01178\ FMT\_API\ \textcolor{keyword}{auto}\ decimal\_point\_impl(\mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ Char;}
\DoxyCodeLine{01179\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ decimal\_point(\mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ Char\ \{}
\DoxyCodeLine{01180\ \ \ \textcolor{keywordflow}{return}\ Char(decimal\_point\_impl<char>(loc));}
\DoxyCodeLine{01181\ \}}
\DoxyCodeLine{01182\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ decimal\_point(\mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ \textcolor{keywordtype}{wchar\_t}\ \{}
\DoxyCodeLine{01183\ \ \ \textcolor{keywordflow}{return}\ decimal\_point\_impl<wchar\_t>(loc);}
\DoxyCodeLine{01184\ \}}
\DoxyCodeLine{01185\ }
\DoxyCodeLine{01186\ \textcolor{comment}{//\ Compares\ two\ characters\ for\ equality.}}
\DoxyCodeLine{01187\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{auto}\ equal2(\textcolor{keyword}{const}\ Char*\ lhs,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01188\ \ \ \textcolor{keywordflow}{return}\ lhs[0]\ ==\ Char(rhs[0])\ \&\&\ lhs[1]\ ==\ Char(rhs[1]);}
\DoxyCodeLine{01189\ \}}
\DoxyCodeLine{01190\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ equal2(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ lhs,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ rhs)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01191\ \ \ \textcolor{keywordflow}{return}\ memcmp(lhs,\ rhs,\ 2)\ ==\ 0;}
\DoxyCodeLine{01192\ \}}
\DoxyCodeLine{01193\ }
\DoxyCodeLine{01194\ \textcolor{comment}{//\ Copies\ two\ characters\ from\ src\ to\ dst.}}
\DoxyCodeLine{01195\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01196\ FMT\_CONSTEXPR20\ FMT\_INLINE\ \textcolor{keywordtype}{void}\ copy2(Char*\ dst,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src)\ \{}
\DoxyCodeLine{01197\ \ \ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated()\ \&\&\ \textcolor{keyword}{sizeof}(Char)\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}))\ \{}
\DoxyCodeLine{01198\ \ \ \ \ memcpy(dst,\ src,\ 2);}
\DoxyCodeLine{01199\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01200\ \ \ \}}
\DoxyCodeLine{01201\ \ \ *dst++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(*src++);}
\DoxyCodeLine{01202\ \ \ *dst\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(*src);}
\DoxyCodeLine{01203\ \}}
\DoxyCodeLine{01204\ }
\DoxyCodeLine{01205\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Iterator>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformat__decimal__result}{format\_decimal\_result}}\ \{}
\DoxyCodeLine{01206\ \ \ Iterator\ begin;}
\DoxyCodeLine{01207\ \ \ Iterator\ end;}
\DoxyCodeLine{01208\ \};}
\DoxyCodeLine{01209\ }
\DoxyCodeLine{01210\ \textcolor{comment}{//\ Formats\ a\ decimal\ unsigned\ integer\ value\ writing\ into\ out\ pointing\ to\ a}}
\DoxyCodeLine{01211\ \textcolor{comment}{//\ buffer\ of\ specified\ size.\ The\ caller\ must\ ensure\ that\ the\ buffer\ is\ large}}
\DoxyCodeLine{01212\ \textcolor{comment}{//\ enough.}}
\DoxyCodeLine{01213\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{01214\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ format\_decimal(Char*\ out,\ UInt\ \mbox{\hyperlink{classvalue}{value}},\ \textcolor{keywordtype}{int}\ size)}
\DoxyCodeLine{01215\ \ \ \ \ -\/>\ \mbox{\hyperlink{structformat__decimal__result}{format\_decimal\_result<Char*>}}\ \{}
\DoxyCodeLine{01216\ \ \ FMT\_ASSERT(size\ >=\ count\_digits(\mbox{\hyperlink{classvalue}{value}}),\ \textcolor{stringliteral}{"{}invalid\ digit\ count"{}});}
\DoxyCodeLine{01217\ \ \ out\ +=\ size;}
\DoxyCodeLine{01218\ \ \ Char*\ end\ =\ out;}
\DoxyCodeLine{01219\ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classvalue}{value}}\ >=\ 100)\ \{}
\DoxyCodeLine{01220\ \ \ \ \ \textcolor{comment}{//\ Integer\ division\ is\ slow\ so\ do\ it\ for\ a\ group\ of\ two\ digits\ instead}}
\DoxyCodeLine{01221\ \ \ \ \ \textcolor{comment}{//\ of\ for\ every\ digit.\ The\ idea\ comes\ from\ the\ talk\ by\ Alexandrescu}}
\DoxyCodeLine{01222\ \ \ \ \ \textcolor{comment}{//\ "{}Three\ Optimization\ Tips\ for\ C++"{}.\ See\ speed-\/test\ for\ a\ comparison.}}
\DoxyCodeLine{01223\ \ \ \ \ out\ -\/=\ 2;}
\DoxyCodeLine{01224\ \ \ \ \ copy2(out,\ digits2(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}\ \%\ 100)));}
\DoxyCodeLine{01225\ \ \ \ \ \mbox{\hyperlink{classvalue}{value}}\ /=\ 100;}
\DoxyCodeLine{01226\ \ \ \}}
\DoxyCodeLine{01227\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvalue}{value}}\ <\ 10)\ \{}
\DoxyCodeLine{01228\ \ \ \ \ *-\/-\/out\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ \mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{01229\ \ \ \ \ \textcolor{keywordflow}{return}\ \{out,\ end\};}
\DoxyCodeLine{01230\ \ \ \}}
\DoxyCodeLine{01231\ \ \ out\ -\/=\ 2;}
\DoxyCodeLine{01232\ \ \ copy2(out,\ digits2(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}})));}
\DoxyCodeLine{01233\ \ \ \textcolor{keywordflow}{return}\ \{out,\ end\};}
\DoxyCodeLine{01234\ \}}
\DoxyCodeLine{01235\ }
\DoxyCodeLine{01236\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt,\ \textcolor{keyword}{typename}\ Iterator,}
\DoxyCodeLine{01237\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(!std::is\_pointer<remove\_cvref\_t<Iterator>>\mbox{\hyperlink{classvalue}{::value}})>}
\DoxyCodeLine{01238\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ format\_decimal(Iterator\ out,\ UInt\ \mbox{\hyperlink{classvalue}{value}},\ \textcolor{keywordtype}{int}\ size)}
\DoxyCodeLine{01239\ \ \ \ \ -\/>\ \mbox{\hyperlink{structformat__decimal__result}{format\_decimal\_result<Iterator>}}\ \{}
\DoxyCodeLine{01240\ \ \ \textcolor{comment}{//\ Buffer\ is\ large\ enough\ to\ hold\ all\ digits\ (digits10\ +\ 1).}}
\DoxyCodeLine{01241\ \ \ Char\ \mbox{\hyperlink{classbuffer}{buffer}}[digits10<UInt>()\ +\ 1];}
\DoxyCodeLine{01242\ \ \ \textcolor{keyword}{auto}\ end\ =\ format\_decimal(\mbox{\hyperlink{classbuffer}{buffer}},\ \mbox{\hyperlink{classvalue}{value}},\ size).end;}
\DoxyCodeLine{01243\ \ \ \textcolor{keywordflow}{return}\ \{out,\ detail::copy\_str\_noinline<Char>(\mbox{\hyperlink{classbuffer}{buffer}},\ end,\ out)\};}
\DoxyCodeLine{01244\ \}}
\DoxyCodeLine{01245\ }
\DoxyCodeLine{01246\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{unsigned}\ BASE\_BITS,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{01247\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ format\_uint(Char*\ \mbox{\hyperlink{classbuffer}{buffer}},\ UInt\ \mbox{\hyperlink{classvalue}{value}},\ \textcolor{keywordtype}{int}\ num\_digits,}
\DoxyCodeLine{01248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ upper\ =\ \textcolor{keyword}{false})\ -\/>\ Char*\ \{}
\DoxyCodeLine{01249\ \ \ \mbox{\hyperlink{classbuffer}{buffer}}\ +=\ num\_digits;}
\DoxyCodeLine{01250\ \ \ Char*\ end\ =\ \mbox{\hyperlink{classbuffer}{buffer}};}
\DoxyCodeLine{01251\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{01252\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ digits\ =\ upper\ ?\ \textcolor{stringliteral}{"{}0123456789ABCDEF"{}}\ :\ \textcolor{stringliteral}{"{}0123456789abcdef"{}};}
\DoxyCodeLine{01253\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ digit\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}\ \&\ ((1\ <<\ BASE\_BITS)\ -\/\ 1));}
\DoxyCodeLine{01254\ \ \ \ \ *-\/-\/\mbox{\hyperlink{classbuffer}{buffer}}\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(BASE\_BITS\ <\ 4\ ?\ static\_cast<char>(\textcolor{charliteral}{'0'}\ +\ digit)}
\DoxyCodeLine{01255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ digits[digit]);}
\DoxyCodeLine{01256\ \ \ \}\ \textcolor{keywordflow}{while}\ ((\mbox{\hyperlink{classvalue}{value}}\ >>=\ BASE\_BITS)\ !=\ 0);}
\DoxyCodeLine{01257\ \ \ \textcolor{keywordflow}{return}\ end;}
\DoxyCodeLine{01258\ \}}
\DoxyCodeLine{01259\ }
\DoxyCodeLine{01260\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{unsigned}\ BASE\_BITS,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{01261\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ format\_uint(It\ out,\ UInt\ \mbox{\hyperlink{classvalue}{value}},\ \textcolor{keywordtype}{int}\ num\_digits,\ \textcolor{keywordtype}{bool}\ upper\ =\ \textcolor{keyword}{false})}
\DoxyCodeLine{01262\ \ \ \ \ -\/>\ It\ \{}
\DoxyCodeLine{01263\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ ptr\ =\ to\_pointer<Char>(out,\ to\_unsigned(num\_digits)))\ \{}
\DoxyCodeLine{01264\ \ \ \ \ format\_uint<BASE\_BITS>(ptr,\ \mbox{\hyperlink{classvalue}{value}},\ num\_digits,\ upper);}
\DoxyCodeLine{01265\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01266\ \ \ \}}
\DoxyCodeLine{01267\ \ \ \textcolor{comment}{//\ Buffer\ should\ be\ large\ enough\ to\ hold\ all\ digits\ (digits\ /\ BASE\_BITS\ +\ 1).}}
\DoxyCodeLine{01268\ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{classbuffer}{buffer}}[num\_bits<UInt>()\ /\ BASE\_BITS\ +\ 1];}
\DoxyCodeLine{01269\ \ \ format\_uint<BASE\_BITS>(\mbox{\hyperlink{classbuffer}{buffer}},\ \mbox{\hyperlink{classvalue}{value}},\ num\_digits,\ upper);}
\DoxyCodeLine{01270\ \ \ \textcolor{keywordflow}{return}\ detail::copy\_str\_noinline<Char>(\mbox{\hyperlink{classbuffer}{buffer}},\ \mbox{\hyperlink{classbuffer}{buffer}}\ +\ num\_digits,\ out);}
\DoxyCodeLine{01271\ \}}
\DoxyCodeLine{01272\ }
\DoxyCodeLine{01273\ \textcolor{comment}{//\ A\ converter\ from\ UTF-\/8\ to\ UTF-\/16.}}
\DoxyCodeLine{01274\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classutf8__to__utf16}{utf8\_to\_utf16}}\ \{}
\DoxyCodeLine{01275\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01276\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<wchar\_t>}}\ buffer\_;}
\DoxyCodeLine{01277\ }
\DoxyCodeLine{01278\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01279\ \ \ FMT\_API\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classutf8__to__utf16}{utf8\_to\_utf16}}(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ s);}
\DoxyCodeLine{01280\ \ \ \textcolor{keyword}{operator}\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<wchar\_t>}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{\&buffer\_[0],\ size()\};\ \}}
\DoxyCodeLine{01281\ \ \ \textcolor{keyword}{auto}\ size()\ const\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{\ \textcolor{keywordflow}{return}\ buffer\_.size()\ -\/\ 1;\ \}}
\DoxyCodeLine{01282\ \ \ \textcolor{keyword}{auto}\ c\_str()\ const\ -\/>\ const\ \textcolor{keywordtype}{wchar\_t}*\ \{\ \textcolor{keywordflow}{return}\ \&buffer\_[0];\ \}}
\DoxyCodeLine{01283\ \ \ \textcolor{keyword}{auto}\ str()\ const\ -\/>\ std::wstring\ \{\ \textcolor{keywordflow}{return}\ \{\&buffer\_[0],\ size()\};\ \}}
\DoxyCodeLine{01284\ \};}
\DoxyCodeLine{01285\ }
\DoxyCodeLine{01286\ \textcolor{keyword}{namespace\ }dragonbox\ \{}
\DoxyCodeLine{01287\ }
\DoxyCodeLine{01288\ \textcolor{comment}{//\ Type-\/specific\ information\ that\ Dragonbox\ uses.}}
\DoxyCodeLine{01289\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Enable\ =\ \textcolor{keywordtype}{void}>\ \textcolor{keyword}{struct\ }float\_info;}
\DoxyCodeLine{01290\ }
\DoxyCodeLine{01291\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }float\_info<float>\ \{}
\DoxyCodeLine{01292\ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ uint32\_t;}
\DoxyCodeLine{01293\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ exponent\_bits\ =\ 8;}
\DoxyCodeLine{01294\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kappa\ =\ 1;}
\DoxyCodeLine{01295\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ big\_divisor\ =\ 100;}
\DoxyCodeLine{01296\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ small\_divisor\ =\ 10;}
\DoxyCodeLine{01297\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ min\_k\ =\ -\/31;}
\DoxyCodeLine{01298\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ max\_k\ =\ 46;}
\DoxyCodeLine{01299\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shorter\_interval\_tie\_lower\_threshold\ =\ -\/35;}
\DoxyCodeLine{01300\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shorter\_interval\_tie\_upper\_threshold\ =\ -\/35;}
\DoxyCodeLine{01301\ \};}
\DoxyCodeLine{01302\ }
\DoxyCodeLine{01303\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }float\_info<double>\ \{}
\DoxyCodeLine{01304\ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ uint64\_t;}
\DoxyCodeLine{01305\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ exponent\_bits\ =\ 11;}
\DoxyCodeLine{01306\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kappa\ =\ 2;}
\DoxyCodeLine{01307\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ big\_divisor\ =\ 1000;}
\DoxyCodeLine{01308\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ small\_divisor\ =\ 100;}
\DoxyCodeLine{01309\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ min\_k\ =\ -\/292;}
\DoxyCodeLine{01310\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ max\_k\ =\ 326;}
\DoxyCodeLine{01311\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shorter\_interval\_tie\_lower\_threshold\ =\ -\/77;}
\DoxyCodeLine{01312\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shorter\_interval\_tie\_upper\_threshold\ =\ -\/77;}
\DoxyCodeLine{01313\ \};}
\DoxyCodeLine{01314\ }
\DoxyCodeLine{01315\ \textcolor{comment}{//\ An\ 80-\/\ or\ 128-\/bit\ floating\ point\ number.}}
\DoxyCodeLine{01316\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01317\ \textcolor{keyword}{struct\ }float\_info<T,\ enable\_if\_t<std::numeric\_limits<T>::digits\ ==\ 64\ ||}
\DoxyCodeLine{01318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::numeric\_limits<T>::digits\ ==\ 113\ ||}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\_float128<T>\mbox{\hyperlink{classvalue}{::value}}>>\ \{}
\DoxyCodeLine{01320\ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ detail::uint128\_t;}
\DoxyCodeLine{01321\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ exponent\_bits\ =\ 15;}
\DoxyCodeLine{01322\ \};}
\DoxyCodeLine{01323\ }
\DoxyCodeLine{01324\ \textcolor{comment}{//\ A\ double-\/double\ floating\ point\ number.}}
\DoxyCodeLine{01325\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01326\ \textcolor{keyword}{struct\ }float\_info<T,\ enable\_if\_t<is\_double\_double<T>::\mbox{\hyperlink{classvalue}{value}}>>\ \{}
\DoxyCodeLine{01327\ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ detail::uint128\_t;}
\DoxyCodeLine{01328\ \};}
\DoxyCodeLine{01329\ }
\DoxyCodeLine{01330\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }decimal\_fp\ \{}
\DoxyCodeLine{01331\ \ \ \textcolor{keyword}{using\ }significand\_type\ =\ \textcolor{keyword}{typename}\ float\_info<T>::carrier\_uint;}
\DoxyCodeLine{01332\ \ \ significand\_type\ significand;}
\DoxyCodeLine{01333\ \ \ \textcolor{keywordtype}{int}\ exponent;}
\DoxyCodeLine{01334\ \};}
\DoxyCodeLine{01335\ }
\DoxyCodeLine{01336\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ FMT\_API\ \textcolor{keyword}{auto}\ to\_decimal(T\ x)\ \textcolor{keyword}{noexcept}\ -\/>\ decimal\_fp<T>;}
\DoxyCodeLine{01337\ \}\ \ \textcolor{comment}{//\ namespace\ dragonbox}}
\DoxyCodeLine{01338\ }
\DoxyCodeLine{01339\ \textcolor{comment}{//\ Returns\ true\ iff\ Float\ has\ the\ implicit\ bit\ which\ is\ not\ stored.}}
\DoxyCodeLine{01340\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ has\_implicit\_bit()\ \{}
\DoxyCodeLine{01341\ \ \ \textcolor{comment}{//\ An\ 80-\/bit\ FP\ number\ has\ a\ 64-\/bit\ significand\ an\ no\ implicit\ bit.}}
\DoxyCodeLine{01342\ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<Float>::digits\ !=\ 64;}
\DoxyCodeLine{01343\ \}}
\DoxyCodeLine{01344\ }
\DoxyCodeLine{01345\ \textcolor{comment}{//\ Returns\ the\ number\ of\ significand\ bits\ stored\ in\ Float.\ The\ implicit\ bit\ is}}
\DoxyCodeLine{01346\ \textcolor{comment}{//\ not\ counted\ since\ it\ is\ not\ stored.}}
\DoxyCodeLine{01347\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ num\_significand\_bits()\ \{}
\DoxyCodeLine{01348\ \ \ \textcolor{comment}{//\ std::numeric\_limits\ may\ not\ support\ \_\_float128.}}
\DoxyCodeLine{01349\ \ \ \textcolor{keywordflow}{return}\ is\_float128<Float>()\ ?\ 112}
\DoxyCodeLine{01350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ (std::numeric\_limits<Float>::digits\ -\/}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (has\_implicit\_bit<Float>()\ ?\ 1\ :\ 0));}
\DoxyCodeLine{01352\ \}}
\DoxyCodeLine{01353\ }
\DoxyCodeLine{01354\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>}
\DoxyCodeLine{01355\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ exponent\_mask()\ -\/>}
\DoxyCodeLine{01356\ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structdragonbox_1_1float__info}{dragonbox::float\_info<Float>::carrier\_uint}}\ \{}
\DoxyCodeLine{01357\ \ \ \textcolor{keyword}{using\ }uint\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structdragonbox_1_1float__info}{dragonbox::float\_info<Float>::carrier\_uint}};}
\DoxyCodeLine{01358\ \ \ \textcolor{keywordflow}{return}\ ((uint(1)\ <<\ \mbox{\hyperlink{structdragonbox_1_1float__info}{dragonbox::float\_info<Float>::exponent\_bits}})\ -\/\ 1)}
\DoxyCodeLine{01359\ \ \ \ \ \ \ \ \ \ <<\ num\_significand\_bits<Float>();}
\DoxyCodeLine{01360\ \}}
\DoxyCodeLine{01361\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ exponent\_bias()\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01362\ \ \ \textcolor{comment}{//\ std::numeric\_limits\ may\ not\ support\ \_\_float128.}}
\DoxyCodeLine{01363\ \ \ \textcolor{keywordflow}{return}\ is\_float128<Float>()\ ?\ 16383}
\DoxyCodeLine{01364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<Float>::max\_exponent\ -\/\ 1;}
\DoxyCodeLine{01365\ \}}
\DoxyCodeLine{01366\ }
\DoxyCodeLine{01367\ \textcolor{comment}{//\ Writes\ the\ exponent\ exp\ in\ the\ form\ "{}[+-\/]d\{2,3\}"{}\ to\ buffer.}}
\DoxyCodeLine{01368\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ It>}
\DoxyCodeLine{01369\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_exponent(\textcolor{keywordtype}{int}\ exp,\ It\ it)\ -\/>\ It\ \{}
\DoxyCodeLine{01370\ \ \ FMT\_ASSERT(-\/10000\ <\ exp\ \&\&\ exp\ <\ 10000,\ \textcolor{stringliteral}{"{}exponent\ out\ of\ range"{}});}
\DoxyCodeLine{01371\ \ \ \textcolor{keywordflow}{if}\ (exp\ <\ 0)\ \{}
\DoxyCodeLine{01372\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{01373\ \ \ \ \ exp\ =\ -\/exp;}
\DoxyCodeLine{01374\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01375\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'+'});}
\DoxyCodeLine{01376\ \ \ \}}
\DoxyCodeLine{01377\ \ \ \textcolor{keywordflow}{if}\ (exp\ >=\ 100)\ \{}
\DoxyCodeLine{01378\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ top\ =\ digits2(to\_unsigned(exp\ /\ 100));}
\DoxyCodeLine{01379\ \ \ \ \ \textcolor{keywordflow}{if}\ (exp\ >=\ 1000)\ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(top[0]);}
\DoxyCodeLine{01380\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(top[1]);}
\DoxyCodeLine{01381\ \ \ \ \ exp\ \%=\ 100;}
\DoxyCodeLine{01382\ \ \ \}}
\DoxyCodeLine{01383\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ d\ =\ digits2(to\_unsigned(exp));}
\DoxyCodeLine{01384\ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(d[0]);}
\DoxyCodeLine{01385\ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(d[1]);}
\DoxyCodeLine{01386\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01387\ \}}
\DoxyCodeLine{01388\ }
\DoxyCodeLine{01389\ \textcolor{comment}{//\ A\ floating-\/point\ number\ f\ *\ pow(2,\ e)\ where\ F\ is\ an\ unsigned\ type.}}
\DoxyCodeLine{01390\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbasic__fp}{basic\_fp}}\ \{}
\DoxyCodeLine{01391\ \ \ F\ f;}
\DoxyCodeLine{01392\ \ \ \textcolor{keywordtype}{int}\ e;}
\DoxyCodeLine{01393\ }
\DoxyCodeLine{01394\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ num\_significand\_bits\ =}
\DoxyCodeLine{01395\ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\textcolor{keyword}{sizeof}(F)\ *\ num\_bits<unsigned\ char>());}
\DoxyCodeLine{01396\ }
\DoxyCodeLine{01397\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structbasic__fp}{basic\_fp}}()\ :\ f(0),\ e(0)\ \{\}}
\DoxyCodeLine{01398\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structbasic__fp}{basic\_fp}}(uint64\_t\ f\_val,\ \textcolor{keywordtype}{int}\ e\_val)\ :\ f(f\_val),\ e(e\_val)\ \{\}}
\DoxyCodeLine{01399\ }
\DoxyCodeLine{01400\ \ \ \textcolor{comment}{//\ Constructs\ fp\ from\ an\ IEEE754\ floating-\/point\ number.}}
\DoxyCodeLine{01401\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>\ FMT\_CONSTEXPR\ \mbox{\hyperlink{structbasic__fp}{basic\_fp}}(Float\ n)\ \{\ assign(n);\ \}}
\DoxyCodeLine{01402\ }
\DoxyCodeLine{01403\ \ \ \textcolor{comment}{//\ Assigns\ n\ to\ this\ and\ return\ true\ iff\ predecessor\ is\ closer\ than\ successor.}}
\DoxyCodeLine{01404\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{double}\_\textcolor{keywordtype}{double}<Float>::value)>}
\DoxyCodeLine{01405\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ assign(Float\ n)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01406\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::numeric\_limits<Float>::digits\ <=\ 113,\ \textcolor{stringliteral}{"{}unsupported\ FP"{}});}
\DoxyCodeLine{01407\ \ \ \ \ \textcolor{comment}{//\ Assume\ Float\ is\ in\ the\ format\ [sign][exponent][significand].}}
\DoxyCodeLine{01408\ \ \ \ \ \textcolor{keyword}{using\ }carrier\_uint\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structdragonbox_1_1float__info}{dragonbox::float\_info<Float>::carrier\_uint}};}
\DoxyCodeLine{01409\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ num\_float\_significand\_bits\ =}
\DoxyCodeLine{01410\ \ \ \ \ \ \ \ \ detail::num\_significand\_bits<Float>();}
\DoxyCodeLine{01411\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ implicit\_bit\ =\ carrier\_uint(1)\ <<\ num\_float\_significand\_bits;}
\DoxyCodeLine{01412\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ significand\_mask\ =\ implicit\_bit\ -\/\ 1;}
\DoxyCodeLine{01413\ \ \ \ \ \textcolor{keyword}{auto}\ u\ =\ bit\_cast<carrier\_uint>(n);}
\DoxyCodeLine{01414\ \ \ \ \ f\ =\ \textcolor{keyword}{static\_cast<}F\textcolor{keyword}{>}(u\ \&\ significand\_mask);}
\DoxyCodeLine{01415\ \ \ \ \ \textcolor{keyword}{auto}\ biased\_e\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((u\ \&\ exponent\_mask<Float>())\ >>}
\DoxyCodeLine{01416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_float\_significand\_bits);}
\DoxyCodeLine{01417\ \ \ \ \ \textcolor{comment}{//\ The\ predecessor\ is\ closer\ if\ n\ is\ a\ normalized\ power\ of\ 2\ (f\ ==\ 0)}}
\DoxyCodeLine{01418\ \ \ \ \ \textcolor{comment}{//\ other\ than\ the\ smallest\ normalized\ number\ (biased\_e\ >\ 1).}}
\DoxyCodeLine{01419\ \ \ \ \ \textcolor{keyword}{auto}\ is\_predecessor\_closer\ =\ f\ ==\ 0\ \&\&\ biased\_e\ >\ 1;}
\DoxyCodeLine{01420\ \ \ \ \ \textcolor{keywordflow}{if}\ (biased\_e\ ==\ 0)}
\DoxyCodeLine{01421\ \ \ \ \ \ \ biased\_e\ =\ 1;\ \ \textcolor{comment}{//\ Subnormals\ use\ biased\ exponent\ 1\ (min\ exponent).}}
\DoxyCodeLine{01422\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (has\_implicit\_bit<Float>())}
\DoxyCodeLine{01423\ \ \ \ \ \ \ f\ +=\ \textcolor{keyword}{static\_cast<}F\textcolor{keyword}{>}(implicit\_bit);}
\DoxyCodeLine{01424\ \ \ \ \ e\ =\ biased\_e\ -\/\ exponent\_bias<Float>()\ -\/\ num\_float\_significand\_bits;}
\DoxyCodeLine{01425\ \ \ \ \ \textcolor{keywordflow}{if}\ (!has\_implicit\_bit<Float>())\ ++e;}
\DoxyCodeLine{01426\ \ \ \ \ \textcolor{keywordflow}{return}\ is\_predecessor\_closer;}
\DoxyCodeLine{01427\ \ \ \}}
\DoxyCodeLine{01428\ }
\DoxyCodeLine{01429\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{double}\_\textcolor{keywordtype}{double}<Float>::value)>}
\DoxyCodeLine{01430\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ assign(Float\ n)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01431\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::numeric\_limits<double>::is\_iec559,\ \textcolor{stringliteral}{"{}unsupported\ FP"{}});}
\DoxyCodeLine{01432\ \ \ \ \ \textcolor{keywordflow}{return}\ assign(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(n));}
\DoxyCodeLine{01433\ \ \ \}}
\DoxyCodeLine{01434\ \};}
\DoxyCodeLine{01435\ }
\DoxyCodeLine{01436\ \textcolor{keyword}{using\ }\mbox{\hyperlink{structbasic__fp}{fp}}\ =\ \mbox{\hyperlink{structbasic__fp}{basic\_fp<unsigned\ long\ long>}};}
\DoxyCodeLine{01437\ }
\DoxyCodeLine{01438\ \textcolor{comment}{//\ Normalizes\ the\ value\ converted\ from\ double\ and\ multiplied\ by\ (1\ <<\ SHIFT).}}
\DoxyCodeLine{01439\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ SHIFT\ =\ 0,\ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{01440\ FMT\_CONSTEXPR\ \mbox{\hyperlink{structbasic__fp}{basic\_fp<F>}}\ \mbox{\hyperlink{namespacegtest__json__test__utils_a339ba380c6799ecba1a9c9b396020573}{normalize}}(\mbox{\hyperlink{structbasic__fp}{basic\_fp<F>}}\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{01441\ \ \ \textcolor{comment}{//\ Handle\ subnormals.}}
\DoxyCodeLine{01442\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ implicit\_bit\ =\ F(1)\ <<\ num\_significand\_bits<double>();}
\DoxyCodeLine{01443\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ shifted\_implicit\_bit\ =\ implicit\_bit\ <<\ SHIFT;}
\DoxyCodeLine{01444\ \ \ \textcolor{keywordflow}{while}\ ((\mbox{\hyperlink{classvalue}{value}}.f\ \&\ shifted\_implicit\_bit)\ ==\ 0)\ \{}
\DoxyCodeLine{01445\ \ \ \ \ \mbox{\hyperlink{classvalue}{value}}.f\ <<=\ 1;}
\DoxyCodeLine{01446\ \ \ \ \ -\/-\/\mbox{\hyperlink{classvalue}{value}}.e;}
\DoxyCodeLine{01447\ \ \ \}}
\DoxyCodeLine{01448\ \ \ \textcolor{comment}{//\ Subtract\ 1\ to\ account\ for\ hidden\ bit.}}
\DoxyCodeLine{01449\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ offset\ =\ \mbox{\hyperlink{structbasic__fp}{basic\_fp<F>::num\_significand\_bits}}\ -\/}
\DoxyCodeLine{01450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_significand\_bits<double>()\ -\/\ SHIFT\ -\/\ 1;}
\DoxyCodeLine{01451\ \ \ \mbox{\hyperlink{classvalue}{value}}.f\ <<=\ offset;}
\DoxyCodeLine{01452\ \ \ \mbox{\hyperlink{classvalue}{value}}.e\ -\/=\ offset;}
\DoxyCodeLine{01453\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{01454\ \}}
\DoxyCodeLine{01455\ }
\DoxyCodeLine{01456\ \textcolor{comment}{//\ Computes\ lhs\ *\ rhs\ /\ pow(2,\ 64)\ rounded\ to\ nearest\ with\ half-\/up\ tie\ breaking.}}
\DoxyCodeLine{01457\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ uint64\_t\ multiply(uint64\_t\ lhs,\ uint64\_t\ rhs)\ \{}
\DoxyCodeLine{01458\ \textcolor{preprocessor}{\#if\ FMT\_USE\_INT128}}
\DoxyCodeLine{01459\ \ \ \textcolor{keyword}{auto}\ product\ =\ \textcolor{keyword}{static\_cast<}\_\_uint128\_t\textcolor{keyword}{>}(lhs)\ *\ rhs;}
\DoxyCodeLine{01460\ \ \ \textcolor{keyword}{auto}\ f\ =\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(product\ >>\ 64);}
\DoxyCodeLine{01461\ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(product)\ \&\ (1ULL\ <<\ 63))\ !=\ 0\ ?\ f\ +\ 1\ :\ f;}
\DoxyCodeLine{01462\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01463\ \ \ \textcolor{comment}{//\ Multiply\ 32-\/bit\ parts\ of\ significands.}}
\DoxyCodeLine{01464\ \ \ uint64\_t\ mask\ =\ (1ULL\ <<\ 32)\ -\/\ 1;}
\DoxyCodeLine{01465\ \ \ uint64\_t\ \mbox{\hyperlink{structa}{a}}\ =\ lhs\ >>\ 32,\ b\ =\ lhs\ \&\ mask;}
\DoxyCodeLine{01466\ \ \ uint64\_t\ c\ =\ rhs\ >>\ 32,\ d\ =\ rhs\ \&\ mask;}
\DoxyCodeLine{01467\ \ \ uint64\_t\ ac\ =\ \mbox{\hyperlink{structa}{a}}\ *\ c,\ bc\ =\ b\ *\ c,\ ad\ =\ \mbox{\hyperlink{structa}{a}}\ *\ d,\ bd\ =\ b\ *\ d;}
\DoxyCodeLine{01468\ \ \ \textcolor{comment}{//\ Compute\ mid\ 64-\/bit\ of\ result\ and\ round.}}
\DoxyCodeLine{01469\ \ \ uint64\_t\ mid\ =\ (bd\ >>\ 32)\ +\ (ad\ \&\ mask)\ +\ (bc\ \&\ mask)\ +\ (1U\ <<\ 31);}
\DoxyCodeLine{01470\ \ \ \textcolor{keywordflow}{return}\ ac\ +\ (ad\ >>\ 32)\ +\ (bc\ >>\ 32)\ +\ (mid\ >>\ 32);}
\DoxyCodeLine{01471\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01472\ \}}
\DoxyCodeLine{01473\ }
\DoxyCodeLine{01474\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structbasic__fp}{fp}}\ operator*(\mbox{\hyperlink{structbasic__fp}{fp}}\ x,\ \mbox{\hyperlink{structbasic__fp}{fp}}\ y)\ \{}
\DoxyCodeLine{01475\ \ \ \textcolor{keywordflow}{return}\ \{multiply(x.f,\ y.f),\ x.e\ +\ y.e\ +\ 64\};}
\DoxyCodeLine{01476\ \}}
\DoxyCodeLine{01477\ }
\DoxyCodeLine{01478\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T\ =\ \textcolor{keywordtype}{void}>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbasic__data}{basic\_data}}\ \{}
\DoxyCodeLine{01479\ \ \ \textcolor{comment}{//\ Normalized\ 64-\/bit\ significands\ of\ pow(10,\ k),\ for\ k\ =\ -\/348,\ -\/340,\ ...,\ 340.}}
\DoxyCodeLine{01480\ \ \ \textcolor{comment}{//\ These\ are\ generated\ by\ support/compute-\/powers.py.}}
\DoxyCodeLine{01481\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint64\_t\ pow10\_significands[87]\ =\ \{}
\DoxyCodeLine{01482\ \ \ \ \ \ \ 0xfa8fd5a0081c0288,\ 0xbaaee17fa23ebf76,\ 0x8b16fb203055ac76,}
\DoxyCodeLine{01483\ \ \ \ \ \ \ 0xcf42894a5dce35ea,\ 0x9a6bb0aa55653b2d,\ 0xe61acf033d1a45df,}
\DoxyCodeLine{01484\ \ \ \ \ \ \ 0xab70fe17c79ac6ca,\ 0xff77b1fcbebcdc4f,\ 0xbe5691ef416bd60c,}
\DoxyCodeLine{01485\ \ \ \ \ \ \ 0x8dd01fad907ffc3c,\ 0xd3515c2831559a83,\ 0x9d71ac8fada6c9b5,}
\DoxyCodeLine{01486\ \ \ \ \ \ \ 0xea9c227723ee8bcb,\ 0xaecc49914078536d,\ 0x823c12795db6ce57,}
\DoxyCodeLine{01487\ \ \ \ \ \ \ 0xc21094364dfb5637,\ 0x9096ea6f3848984f,\ 0xd77485cb25823ac7,}
\DoxyCodeLine{01488\ \ \ \ \ \ \ 0xa086cfcd97bf97f4,\ 0xef340a98172aace5,\ 0xb23867fb2a35b28e,}
\DoxyCodeLine{01489\ \ \ \ \ \ \ 0x84c8d4dfd2c63f3b,\ 0xc5dd44271ad3cdba,\ 0x936b9fcebb25c996,}
\DoxyCodeLine{01490\ \ \ \ \ \ \ 0xdbac6c247d62a584,\ 0xa3ab66580d5fdaf6,\ 0xf3e2f893dec3f126,}
\DoxyCodeLine{01491\ \ \ \ \ \ \ 0xb5b5ada8aaff80b8,\ 0x87625f056c7c4a8b,\ 0xc9bcff6034c13053,}
\DoxyCodeLine{01492\ \ \ \ \ \ \ 0x964e858c91ba2655,\ 0xdff9772470297ebd,\ 0xa6dfbd9fb8e5b88f,}
\DoxyCodeLine{01493\ \ \ \ \ \ \ 0xf8a95fcf88747d94,\ 0xb94470938fa89bcf,\ 0x8a08f0f8bf0f156b,}
\DoxyCodeLine{01494\ \ \ \ \ \ \ 0xcdb02555653131b6,\ 0x993fe2c6d07b7fac,\ 0xe45c10c42a2b3b06,}
\DoxyCodeLine{01495\ \ \ \ \ \ \ 0xaa242499697392d3,\ 0xfd87b5f28300ca0e,\ 0xbce5086492111aeb,}
\DoxyCodeLine{01496\ \ \ \ \ \ \ 0x8cbccc096f5088cc,\ 0xd1b71758e219652c,\ 0x9c40000000000000,}
\DoxyCodeLine{01497\ \ \ \ \ \ \ 0xe8d4a51000000000,\ 0xad78ebc5ac620000,\ 0x813f3978f8940984,}
\DoxyCodeLine{01498\ \ \ \ \ \ \ 0xc097ce7bc90715b3,\ 0x8f7e32ce7bea5c70,\ 0xd5d238a4abe98068,}
\DoxyCodeLine{01499\ \ \ \ \ \ \ 0x9f4f2726179a2245,\ 0xed63a231d4c4fb27,\ 0xb0de65388cc8ada8,}
\DoxyCodeLine{01500\ \ \ \ \ \ \ 0x83c7088e1aab65db,\ 0xc45d1df942711d9a,\ 0x924d692ca61be758,}
\DoxyCodeLine{01501\ \ \ \ \ \ \ 0xda01ee641a708dea,\ 0xa26da3999aef774a,\ 0xf209787bb47d6b85,}
\DoxyCodeLine{01502\ \ \ \ \ \ \ 0xb454e4a179dd1877,\ 0x865b86925b9bc5c2,\ 0xc83553c5c8965d3d,}
\DoxyCodeLine{01503\ \ \ \ \ \ \ 0x952ab45cfa97a0b3,\ 0xde469fbd99a05fe3,\ 0xa59bc234db398c25,}
\DoxyCodeLine{01504\ \ \ \ \ \ \ 0xf6c69a72a3989f5c,\ 0xb7dcbf5354e9bece,\ 0x88fcf317f22241e2,}
\DoxyCodeLine{01505\ \ \ \ \ \ \ 0xcc20ce9bd35c78a5,\ 0x98165af37b2153df,\ 0xe2a0b5dc971f303a,}
\DoxyCodeLine{01506\ \ \ \ \ \ \ 0xa8d9d1535ce3b396,\ 0xfb9b7cd9a4a7443c,\ 0xbb764c4ca7a44410,}
\DoxyCodeLine{01507\ \ \ \ \ \ \ 0x8bab8eefb6409c1a,\ 0xd01fef10a657842c,\ 0x9b10a4e5e9913129,}
\DoxyCodeLine{01508\ \ \ \ \ \ \ 0xe7109bfba19c0c9d,\ 0xac2820d9623bf429,\ 0x80444b5e7aa7cf85,}
\DoxyCodeLine{01509\ \ \ \ \ \ \ 0xbf21e44003acdd2d,\ 0x8e679c2f5e44ff8f,\ 0xd433179d9c8cb841,}
\DoxyCodeLine{01510\ \ \ \ \ \ \ 0x9e19db92b4e31ba9,\ 0xeb96bf6ebadf77d9,\ 0xaf87023b9bf0ee6b,}
\DoxyCodeLine{01511\ \ \ \};}
\DoxyCodeLine{01512\ }
\DoxyCodeLine{01513\ \textcolor{preprocessor}{\#if\ FMT\_GCC\_VERSION\ \&\&\ FMT\_GCC\_VERSION\ <\ 409}}
\DoxyCodeLine{01514\ \textcolor{preprocessor}{\#\ \ pragma\ GCC\ diagnostic\ push}}
\DoxyCodeLine{01515\ \textcolor{preprocessor}{\#\ \ pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wnarrowing"{}}}
\DoxyCodeLine{01516\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01517\ \ \ \textcolor{comment}{//\ Binary\ exponents\ of\ pow(10,\ k),\ for\ k\ =\ -\/348,\ -\/340,\ ...,\ 340,\ corresponding}}
\DoxyCodeLine{01518\ \ \ \textcolor{comment}{//\ to\ significands\ above.}}
\DoxyCodeLine{01519\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int16\_t\ pow10\_exponents[87]\ =\ \{}
\DoxyCodeLine{01520\ \ \ \ \ \ \ -\/1220,\ -\/1193,\ -\/1166,\ -\/1140,\ -\/1113,\ -\/1087,\ -\/1060,\ -\/1034,\ -\/1007,\ -\/980,\ -\/954,}
\DoxyCodeLine{01521\ \ \ \ \ \ \ -\/927,\ \ -\/901,\ \ -\/874,\ \ -\/847,\ \ -\/821,\ \ -\/794,\ \ -\/768,\ \ -\/741,\ \ -\/715,\ \ -\/688,\ -\/661,}
\DoxyCodeLine{01522\ \ \ \ \ \ \ -\/635,\ \ -\/608,\ \ -\/582,\ \ -\/555,\ \ -\/529,\ \ -\/502,\ \ -\/475,\ \ -\/449,\ \ -\/422,\ \ -\/396,\ -\/369,}
\DoxyCodeLine{01523\ \ \ \ \ \ \ -\/343,\ \ -\/316,\ \ -\/289,\ \ -\/263,\ \ -\/236,\ \ -\/210,\ \ -\/183,\ \ -\/157,\ \ -\/130,\ \ -\/103,\ -\/77,}
\DoxyCodeLine{01524\ \ \ \ \ \ \ -\/50,\ \ \ -\/24,\ \ \ 3,\ \ \ \ \ 30,\ \ \ \ 56,\ \ \ \ 83,\ \ \ \ 109,\ \ \ 136,\ \ \ 162,\ \ \ 189,\ \ 216,}
\DoxyCodeLine{01525\ \ \ \ \ \ \ 242,\ \ \ 269,\ \ \ 295,\ \ \ 322,\ \ \ 348,\ \ \ 375,\ \ \ 402,\ \ \ 428,\ \ \ 455,\ \ \ 481,\ \ 508,}
\DoxyCodeLine{01526\ \ \ \ \ \ \ 534,\ \ \ 561,\ \ \ 588,\ \ \ 614,\ \ \ 641,\ \ \ 667,\ \ \ 694,\ \ \ 720,\ \ \ 747,\ \ \ 774,\ \ 800,}
\DoxyCodeLine{01527\ \ \ \ \ \ \ 827,\ \ \ 853,\ \ \ 880,\ \ \ 907,\ \ \ 933,\ \ \ 960,\ \ \ 986,\ \ \ 1013,\ \ 1039,\ \ 1066\};}
\DoxyCodeLine{01528\ \textcolor{preprocessor}{\#if\ FMT\_GCC\_VERSION\ \&\&\ FMT\_GCC\_VERSION\ <\ 409}}
\DoxyCodeLine{01529\ \textcolor{preprocessor}{\#\ \ pragma\ GCC\ diagnostic\ pop}}
\DoxyCodeLine{01530\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01531\ }
\DoxyCodeLine{01532\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint64\_t\ power\_of\_10\_64[20]\ =\ \{}
\DoxyCodeLine{01533\ \ \ \ \ \ \ 1,\ FMT\_POWERS\_OF\_10(1ULL),\ FMT\_POWERS\_OF\_10(1000000000ULL),}
\DoxyCodeLine{01534\ \ \ \ \ \ \ 10000000000000000000ULL\};}
\DoxyCodeLine{01535\ \};}
\DoxyCodeLine{01536\ }
\DoxyCodeLine{01537\ \textcolor{preprocessor}{\#if\ FMT\_CPLUSPLUS\ <\ 201703L}}
\DoxyCodeLine{01538\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ uint64\_t\ \mbox{\hyperlink{structbasic__data}{basic\_data<T>::pow10\_significands}}[];}
\DoxyCodeLine{01539\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ int16\_t\ \mbox{\hyperlink{structbasic__data}{basic\_data<T>::pow10\_exponents}}[];}
\DoxyCodeLine{01540\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ uint64\_t\ \mbox{\hyperlink{structbasic__data}{basic\_data<T>::power\_of\_10\_64}}[];}
\DoxyCodeLine{01541\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01542\ }
\DoxyCodeLine{01543\ \textcolor{comment}{//\ This\ is\ a\ struct\ rather\ than\ an\ alias\ to\ avoid\ shadowing\ warnings\ in\ gcc.}}
\DoxyCodeLine{01544\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdata}{data}}\ :\ \mbox{\hyperlink{structbasic__data}{basic\_data}}<>\ \{\};}
\DoxyCodeLine{01545\ }
\DoxyCodeLine{01546\ \textcolor{comment}{//\ Returns\ a\ cached\ power\ of\ 10\ `c\_k\ =\ c\_k.f\ *\ pow(2,\ c\_k.e)`\ such\ that\ its}}
\DoxyCodeLine{01547\ \textcolor{comment}{//\ (binary)\ exponent\ satisfies\ `min\_exponent\ <=\ c\_k.e\ <=\ min\_exponent\ +\ 28`.}}
\DoxyCodeLine{01548\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structbasic__fp}{fp}}\ get\_cached\_power(\textcolor{keywordtype}{int}\ min\_exponent,}
\DoxyCodeLine{01549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\&\ pow10\_exponent)\ \{}
\DoxyCodeLine{01550\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shift\ =\ 32;}
\DoxyCodeLine{01551\ \ \ \textcolor{comment}{//\ log10(2)\ =\ 0x0.4d104d427de7fbcc...}}
\DoxyCodeLine{01552\ \ \ \textcolor{keyword}{const}\ int64\_t\ significand\ =\ 0x4d104d427de7fbcc;}
\DoxyCodeLine{01553\ \ \ \textcolor{keywordtype}{int}\ index\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(}
\DoxyCodeLine{01554\ \ \ \ \ \ \ ((min\_exponent\ +\ fp::num\_significand\_bits\ -\/\ 1)\ *\ (significand\ >>\ shift)\ +}
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ ((int64\_t(1)\ <<\ shift)\ -\/\ 1))\ \ \textcolor{comment}{//\ ceil}}
\DoxyCodeLine{01556\ \ \ \ \ \ \ >>\ 32\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ arithmetic\ shift}}
\DoxyCodeLine{01557\ \ \ );}
\DoxyCodeLine{01558\ \ \ \textcolor{comment}{//\ Decimal\ exponent\ of\ the\ first\ (smallest)\ cached\ power\ of\ 10.}}
\DoxyCodeLine{01559\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ first\_dec\_exp\ =\ -\/348;}
\DoxyCodeLine{01560\ \ \ \textcolor{comment}{//\ Difference\ between\ 2\ consecutive\ decimal\ exponents\ in\ cached\ powers\ of\ 10.}}
\DoxyCodeLine{01561\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ dec\_exp\_step\ =\ 8;}
\DoxyCodeLine{01562\ \ \ index\ =\ (index\ -\/\ first\_dec\_exp\ -\/\ 1)\ /\ dec\_exp\_step\ +\ 1;}
\DoxyCodeLine{01563\ \ \ pow10\_exponent\ =\ first\_dec\_exp\ +\ index\ *\ dec\_exp\_step;}
\DoxyCodeLine{01564\ \ \ \textcolor{comment}{//\ Using\ *(x\ +\ index)\ instead\ of\ x[index]\ avoids\ an\ issue\ with\ some\ compilers}}
\DoxyCodeLine{01565\ \ \ \textcolor{comment}{//\ using\ the\ EDG\ frontend\ (e.g.\ nvhpc/22.3\ in\ C++17\ mode).}}
\DoxyCodeLine{01566\ \ \ \textcolor{keywordflow}{return}\ \{*(data::pow10\_significands\ +\ index),}
\DoxyCodeLine{01567\ \ \ \ \ \ \ \ \ \ \ *(data::pow10\_exponents\ +\ index)\};}
\DoxyCodeLine{01568\ \}}
\DoxyCodeLine{01569\ }
\DoxyCodeLine{01570\ \textcolor{preprocessor}{\#ifndef\ \_MSC\_VER}}
\DoxyCodeLine{01571\ \textcolor{preprocessor}{\#\ \ define\ FMT\_SNPRINTF\ snprintf}}
\DoxyCodeLine{01572\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01573\ FMT\_API\ \textcolor{keyword}{auto}\ fmt\_snprintf(\textcolor{keywordtype}{char}*\ \mbox{\hyperlink{structbuf}{buf}},\ \textcolor{keywordtype}{size\_t}\ size,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...)\ -\/>\ int;}
\DoxyCodeLine{01574\ \textcolor{preprocessor}{\#\ \ define\ FMT\_SNPRINTF\ fmt\_snprintf}}
\DoxyCodeLine{01575\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_MSC\_VER}}
\DoxyCodeLine{01576\ }
\DoxyCodeLine{01577\ \textcolor{comment}{//\ Formats\ a\ floating-\/point\ number\ with\ snprintf\ using\ the\ hexfloat\ format.}}
\DoxyCodeLine{01578\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01579\ \textcolor{keyword}{auto}\ snprintf\_float(T\ \mbox{\hyperlink{classvalue}{value}},\ \textcolor{keywordtype}{int}\ precision,\ \mbox{\hyperlink{structfloat__specs}{float\_specs}}\ specs,}
\DoxyCodeLine{01580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbuffer}{buffer<char>}}\&\ \mbox{\hyperlink{structbuf}{buf}})\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{01581\ \ \ \textcolor{comment}{//\ Buffer\ capacity\ must\ be\ non-\/zero,\ otherwise\ MSVC's\ vsnprintf\_s\ will\ fail.}}
\DoxyCodeLine{01582\ \ \ FMT\_ASSERT(\mbox{\hyperlink{structbuf}{buf}}.capacity()\ >\ \mbox{\hyperlink{structbuf}{buf}}.size(),\ \textcolor{stringliteral}{"{}empty\ buffer"{}});}
\DoxyCodeLine{01583\ \ \ FMT\_ASSERT(specs.format\ ==\ float\_format::hex,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01584\ \ \ \textcolor{keyword}{static\_assert}(!std::is\_same<T,\ float>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01585\ }
\DoxyCodeLine{01586\ \ \ \textcolor{comment}{//\ Build\ the\ format\ string.}}
\DoxyCodeLine{01587\ \ \ \textcolor{keywordtype}{char}\ format[7];\ \ \textcolor{comment}{//\ The\ longest\ format\ is\ "{}\%\#.*Le"{}.}}
\DoxyCodeLine{01588\ \ \ \textcolor{keywordtype}{char}*\ format\_ptr\ =\ format;}
\DoxyCodeLine{01589\ \ \ *format\_ptr++\ =\ \textcolor{charliteral}{'\%'};}
\DoxyCodeLine{01590\ \ \ \textcolor{keywordflow}{if}\ (specs.showpoint)\ *format\_ptr++\ =\ \textcolor{charliteral}{'\#'};}
\DoxyCodeLine{01591\ \ \ \textcolor{keywordflow}{if}\ (precision\ >=\ 0)\ \{}
\DoxyCodeLine{01592\ \ \ \ \ *format\_ptr++\ =\ \textcolor{charliteral}{'.'};}
\DoxyCodeLine{01593\ \ \ \ \ *format\_ptr++\ =\ \textcolor{charliteral}{'*'};}
\DoxyCodeLine{01594\ \ \ \}}
\DoxyCodeLine{01595\ \ \ \textcolor{keywordflow}{if}\ (std::is\_same<T,\ long\ double>())\ *format\_ptr++\ =\ \textcolor{charliteral}{'L'};}
\DoxyCodeLine{01596\ \ \ *format\_ptr++\ =\ specs.upper\ ?\ \textcolor{charliteral}{'A'}\ :\ \textcolor{charliteral}{'a'};}
\DoxyCodeLine{01597\ \ \ *format\_ptr\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01598\ }
\DoxyCodeLine{01599\ \ \ \textcolor{comment}{//\ Format\ using\ snprintf.}}
\DoxyCodeLine{01600\ \ \ \textcolor{keyword}{auto}\ offset\ =\ \mbox{\hyperlink{structbuf}{buf}}.size();}
\DoxyCodeLine{01601\ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{01602\ \ \ \ \ \textcolor{keyword}{auto}\ begin\ =\ \mbox{\hyperlink{structbuf}{buf}}.data()\ +\ offset;}
\DoxyCodeLine{01603\ \ \ \ \ \textcolor{keyword}{auto}\ capacity\ =\ \mbox{\hyperlink{structbuf}{buf}}.capacity()\ -\/\ offset;}
\DoxyCodeLine{01604\ \ \ \ \ abort\_fuzzing\_if(precision\ >\ 100000);}
\DoxyCodeLine{01605\ \ \ \ \ \textcolor{comment}{//\ Suppress\ the\ warning\ about\ a\ nonliteral\ format\ string.}}
\DoxyCodeLine{01606\ \ \ \ \ \textcolor{comment}{//\ Cannot\ use\ auto\ because\ of\ a\ bug\ in\ MinGW\ (\#1532).}}
\DoxyCodeLine{01607\ \ \ \ \ int\ (*snprintf\_ptr)(\textcolor{keywordtype}{char}*,\ size\_t,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*,\ ...)\ =\ FMT\_SNPRINTF;}
\DoxyCodeLine{01608\ \ \ \ \ \textcolor{keywordtype}{int}\ result\ =\ precision\ >=\ 0}
\DoxyCodeLine{01609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ snprintf\_ptr(begin,\ capacity,\ format,\ precision,\ \mbox{\hyperlink{classvalue}{value}})}
\DoxyCodeLine{01610\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ snprintf\_ptr(begin,\ capacity,\ format,\ \mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{01611\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ <\ 0)\ \{}
\DoxyCodeLine{01612\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ buffer\ will\ grow\ exponentially.}}
\DoxyCodeLine{01613\ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_reserve(\mbox{\hyperlink{structbuf}{buf}}.capacity()\ +\ 1);}
\DoxyCodeLine{01614\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01615\ \ \ \ \ \}}
\DoxyCodeLine{01616\ \ \ \ \ \textcolor{keyword}{auto}\ size\ =\ to\_unsigned(result);}
\DoxyCodeLine{01617\ \ \ \ \ \textcolor{comment}{//\ Size\ equal\ to\ capacity\ means\ that\ the\ last\ character\ was\ truncated.}}
\DoxyCodeLine{01618\ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <\ capacity)\ \{}
\DoxyCodeLine{01619\ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_resize(size\ +\ offset);}
\DoxyCodeLine{01620\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01621\ \ \ \ \ \}}
\DoxyCodeLine{01622\ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_reserve(size\ +\ offset\ +\ 1);\ \ \textcolor{comment}{//\ Add\ 1\ for\ the\ terminating\ '\(\backslash\)0'.}}
\DoxyCodeLine{01623\ \ \ \}}
\DoxyCodeLine{01624\ \}}
\DoxyCodeLine{01625\ }
\DoxyCodeLine{01626\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01627\ \textcolor{keyword}{using\ }convert\_float\_result\ =}
\DoxyCodeLine{01628\ \ \ \ \ conditional\_t<std::is\_same<T,\ float>::value\ ||\ \textcolor{keyword}{sizeof}(T)\ ==\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}),}
\DoxyCodeLine{01629\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ double,\ T>;}
\DoxyCodeLine{01630\ }
\DoxyCodeLine{01631\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01632\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ convert\_float(T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ convert\_float\_result<T>\ \{}
\DoxyCodeLine{01633\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}convert\_float\_result<T>\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{01634\ \}}
\DoxyCodeLine{01635\ }
\DoxyCodeLine{01636\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01637\ FMT\_NOINLINE\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ fill(OutputIt\ it,\ \textcolor{keywordtype}{size\_t}\ n,}
\DoxyCodeLine{01638\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structfill__t}{fill\_t<Char>}}\&\ fill)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01639\ \ \ \textcolor{keyword}{auto}\ fill\_size\ =\ fill.size();}
\DoxyCodeLine{01640\ \ \ \textcolor{keywordflow}{if}\ (fill\_size\ ==\ 1)\ \textcolor{keywordflow}{return}\ detail::fill\_n(it,\ n,\ fill[0]);}
\DoxyCodeLine{01641\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structdata}{data}}\ =\ fill.data();}
\DoxyCodeLine{01642\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)}
\DoxyCodeLine{01643\ \ \ \ \ it\ =\ copy\_str<Char>(\mbox{\hyperlink{structdata}{data}},\ \mbox{\hyperlink{structdata}{data}}\ +\ fill\_size,\ it);}
\DoxyCodeLine{01644\ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01645\ \}}
\DoxyCodeLine{01646\ }
\DoxyCodeLine{01647\ \textcolor{comment}{//\ Writes\ the\ output\ of\ f,\ padded\ according\ to\ format\ specifications\ in\ specs.}}
\DoxyCodeLine{01648\ \textcolor{comment}{//\ size:\ output\ size\ in\ code\ units.}}
\DoxyCodeLine{01649\ \textcolor{comment}{//\ width:\ output\ display\ width\ in\ (terminal)\ column\ positions.}}
\DoxyCodeLine{01650\ \textcolor{keyword}{template}\ <align::type\ align\ =\ align::left,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,}
\DoxyCodeLine{01651\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{01652\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_padded(OutputIt\ out,}
\DoxyCodeLine{01653\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{01654\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size,\ \textcolor{keywordtype}{size\_t}\ width,\ F\&\&\ f)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01655\ \ \ \textcolor{keyword}{static\_assert}(align\ ==\ align::left\ ||\ align\ ==\ align::right,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01656\ \ \ \textcolor{keywordtype}{unsigned}\ spec\_width\ =\ to\_unsigned(specs.width);}
\DoxyCodeLine{01657\ \ \ \textcolor{keywordtype}{size\_t}\ padding\ =\ spec\_width\ >\ width\ ?\ spec\_width\ -\/\ width\ :\ 0;}
\DoxyCodeLine{01658\ \ \ \textcolor{comment}{//\ Shifts\ are\ encoded\ as\ string\ literals\ because\ static\ constexpr\ is\ not}}
\DoxyCodeLine{01659\ \ \ \textcolor{comment}{//\ supported\ in\ constexpr\ functions.}}
\DoxyCodeLine{01660\ \ \ \textcolor{keyword}{auto}*\ shifts\ =\ align\ ==\ align::left\ ?\ \textcolor{stringliteral}{"{}\(\backslash\)x1f\(\backslash\)x1f\(\backslash\)x00\(\backslash\)x01"{}}\ :\ \textcolor{stringliteral}{"{}\(\backslash\)x00\(\backslash\)x1f\(\backslash\)x00\(\backslash\)x01"{}};}
\DoxyCodeLine{01661\ \ \ \textcolor{keywordtype}{size\_t}\ left\_padding\ =\ padding\ >>\ shifts[specs.align];}
\DoxyCodeLine{01662\ \ \ \textcolor{keywordtype}{size\_t}\ right\_padding\ =\ padding\ -\/\ left\_padding;}
\DoxyCodeLine{01663\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ size\ +\ padding\ *\ specs.fill.size());}
\DoxyCodeLine{01664\ \ \ \textcolor{keywordflow}{if}\ (left\_padding\ !=\ 0)\ it\ =\ fill(it,\ left\_padding,\ specs.fill);}
\DoxyCodeLine{01665\ \ \ it\ =\ f(it);}
\DoxyCodeLine{01666\ \ \ \textcolor{keywordflow}{if}\ (right\_padding\ !=\ 0)\ it\ =\ fill(it,\ right\_padding,\ specs.fill);}
\DoxyCodeLine{01667\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{01668\ \}}
\DoxyCodeLine{01669\ }
\DoxyCodeLine{01670\ \textcolor{keyword}{template}\ <align::type\ align\ =\ align::left,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,}
\DoxyCodeLine{01671\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ F>}
\DoxyCodeLine{01672\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ write\_padded(OutputIt\ out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{01673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size,\ F\&\&\ f)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01674\ \ \ \textcolor{keywordflow}{return}\ write\_padded<align>(out,\ specs,\ size,\ size,\ f);}
\DoxyCodeLine{01675\ \}}
\DoxyCodeLine{01676\ }
\DoxyCodeLine{01677\ \textcolor{keyword}{template}\ <align::type\ align\ =\ align::left,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01678\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_bytes(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ \mbox{\hyperlink{classbytes}{bytes}},}
\DoxyCodeLine{01679\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs)}
\DoxyCodeLine{01680\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01681\ \ \ \textcolor{keywordflow}{return}\ write\_padded<align>(}
\DoxyCodeLine{01682\ \ \ \ \ \ \ out,\ specs,\ \mbox{\hyperlink{classbytes}{bytes}}.size(),\ [\mbox{\hyperlink{classbytes}{bytes}}](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{01683\ \ \ \ \ \ \ \ \ const\ char*\ data\ =\ bytes.data();}
\DoxyCodeLine{01684\ \ \ \ \ \ \ \ \ return\ copy\_str<Char>(data,\ data\ +\ bytes.size(),\ it);}
\DoxyCodeLine{01685\ \ \ \ \ \ \ \});}
\DoxyCodeLine{01686\ \}}
\DoxyCodeLine{01687\ }
\DoxyCodeLine{01688\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UIntPtr>}
\DoxyCodeLine{01689\ \textcolor{keyword}{auto}\ write\_ptr(OutputIt\ out,\ UIntPtr\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{01690\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}*\ specs)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01691\ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<4>(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{01692\ \ \ \textcolor{keyword}{auto}\ size\ =\ to\_unsigned(num\_digits)\ +\ size\_t(2);}
\DoxyCodeLine{01693\ \ \ \textcolor{keyword}{auto}\ write\ =\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{01694\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{01695\ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'x'});}
\DoxyCodeLine{01696\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<4,\ Char>(it,\ \mbox{\hyperlink{classvalue}{value}},\ num\_digits);}
\DoxyCodeLine{01697\ \ \ \};}
\DoxyCodeLine{01698\ \ \ \textcolor{keywordflow}{return}\ specs\ ?\ write\_padded<align::right>(out,\ *specs,\ size,\ write)}
\DoxyCodeLine{01699\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ base\_iterator(out,\ write(reserve(out,\ size)));}
\DoxyCodeLine{01700\ \}}
\DoxyCodeLine{01701\ }
\DoxyCodeLine{01702\ \textcolor{comment}{//\ Returns\ true\ iff\ the\ code\ point\ cp\ is\ printable.}}
\DoxyCodeLine{01703\ FMT\_API\ \textcolor{keyword}{auto}\ is\_printable(uint32\_t\ cp)\ -\/>\ bool;}
\DoxyCodeLine{01704\ }
\DoxyCodeLine{01705\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ needs\_escape(uint32\_t\ cp)\ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{01706\ \ \ \textcolor{keywordflow}{return}\ cp\ <\ 0x20\ ||\ cp\ ==\ 0x7f\ ||\ cp\ ==\ \textcolor{charliteral}{'"{}'}\ ||\ cp\ ==\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}\ ||}
\DoxyCodeLine{01707\ \ \ \ \ \ \ \ \ \ !is\_printable(cp);}
\DoxyCodeLine{01708\ \}}
\DoxyCodeLine{01709\ }
\DoxyCodeLine{01710\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structfind__escape__result}{find\_escape\_result}}\ \{}
\DoxyCodeLine{01711\ \ \ \textcolor{keyword}{const}\ Char*\ begin;}
\DoxyCodeLine{01712\ \ \ \textcolor{keyword}{const}\ Char*\ end;}
\DoxyCodeLine{01713\ \ \ uint32\_t\ cp;}
\DoxyCodeLine{01714\ \};}
\DoxyCodeLine{01715\ }
\DoxyCodeLine{01716\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01717\ \textcolor{keyword}{using\ }make\_unsigned\_char\ =}
\DoxyCodeLine{01718\ \ \ \ \ \textcolor{keyword}{typename}\ conditional\_t<std::is\_integral<Char>::value,}
\DoxyCodeLine{01719\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::make\_unsigned<Char>,}
\DoxyCodeLine{01720\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structtype__identity}{type\_identity<uint32\_t>}}>::type;}
\DoxyCodeLine{01721\ }
\DoxyCodeLine{01722\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01723\ \textcolor{keyword}{auto}\ find\_escape(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)}
\DoxyCodeLine{01724\ \ \ \ \ -\/>\ \mbox{\hyperlink{structfind__escape__result}{find\_escape\_result<Char>}}\ \{}
\DoxyCodeLine{01725\ \ \ \textcolor{keywordflow}{for}\ (;\ begin\ !=\ end;\ ++begin)\ \{}
\DoxyCodeLine{01726\ \ \ \ \ uint32\_t\ cp\ =\ \textcolor{keyword}{static\_cast<}make\_unsigned\_char<Char>\textcolor{keyword}{>}(*begin);}
\DoxyCodeLine{01727\ \ \ \ \ \textcolor{keywordflow}{if}\ (const\_check(\textcolor{keyword}{sizeof}(Char)\ ==\ 1)\ \&\&\ cp\ >=\ 0x80)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01728\ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_escape(cp))\ \textcolor{keywordflow}{return}\ \{begin,\ begin\ +\ 1,\ cp\};}
\DoxyCodeLine{01729\ \ \ \}}
\DoxyCodeLine{01730\ \ \ \textcolor{keywordflow}{return}\ \{begin,\ \textcolor{keyword}{nullptr},\ 0\};}
\DoxyCodeLine{01731\ \}}
\DoxyCodeLine{01732\ }
\DoxyCodeLine{01733\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ find\_escape(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ begin,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ end)}
\DoxyCodeLine{01734\ \ \ \ \ -\/>\ \mbox{\hyperlink{structfind__escape__result}{find\_escape\_result<char>}}\ \{}
\DoxyCodeLine{01735\ \ \ \textcolor{keywordflow}{if}\ (!is\_utf8())\ \textcolor{keywordflow}{return}\ find\_escape<char>(begin,\ end);}
\DoxyCodeLine{01736\ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{structfind__escape__result}{find\_escape\_result<char>}}\{end,\ \textcolor{keyword}{nullptr},\ 0\};}
\DoxyCodeLine{01737\ \ \ for\_each\_codepoint(\mbox{\hyperlink{classbasic__string__view}{string\_view}}(begin,\ to\_unsigned(end\ -\/\ begin)),}
\DoxyCodeLine{01738\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\&](uint32\_t\ cp,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ sv)\ \{}
\DoxyCodeLine{01739\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_escape(cp))\ \{}
\DoxyCodeLine{01740\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ \{sv.begin(),\ sv.end(),\ cp\};}
\DoxyCodeLine{01741\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01742\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01743\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01744\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{01745\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{01746\ \}}
\DoxyCodeLine{01747\ }
\DoxyCodeLine{01748\ \textcolor{preprocessor}{\#define\ FMT\_STRING\_IMPL(s,\ base,\ explicit)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01749\ \textcolor{preprocessor}{\ \ []\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01750\ \textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ Use\ the\ hidden\ visibility\ as\ a\ workaround\ for\ a\ GCC\ bug\ (\#1973).\ */}\textcolor{preprocessor}{\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01751\ \textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ Use\ a\ macro-\/like\ name\ to\ avoid\ shadowing\ warnings.\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01752\ \textcolor{preprocessor}{\ \ \ \ struct\ FMT\_GCC\_VISIBILITY\_HIDDEN\ FMT\_COMPILE\_STRING\ :\ base\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01753\ \textcolor{preprocessor}{\ \ \ \ \ \ using\ char\_type\ FMT\_MAYBE\_UNUSED\ =\ fmt::remove\_cvref\_t<decltype(s[0])>;\ \(\backslash\)}}
\DoxyCodeLine{01754\ \textcolor{preprocessor}{\ \ \ \ \ \ FMT\_MAYBE\_UNUSED\ FMT\_CONSTEXPR\ explicit\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01755\ \textcolor{preprocessor}{\ \ \ \ \ \ operator\ fmt::basic\_string\_view<char\_type>()\ const\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01756\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ return\ fmt::detail\_exported::compile\_string\_to\_view<char\_type>(s);\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01757\ \textcolor{preprocessor}{\ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01758\ \textcolor{preprocessor}{\ \ \ \ \};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01759\ \textcolor{preprocessor}{\ \ \ \ return\ FMT\_COMPILE\_STRING();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{01760\ \textcolor{preprocessor}{\ \ \}()}}
\DoxyCodeLine{01761\ }
\DoxyCodeLine{01772\ \textcolor{preprocessor}{\#define\ FMT\_STRING(s)\ FMT\_STRING\_IMPL(s,\ fmt::detail::compile\_string,\ )}}
\DoxyCodeLine{01773\ }
\DoxyCodeLine{01774\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{size\_t}\ w\textcolor{keywordtype}{id}th,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01775\ \textcolor{keyword}{auto}\ write\_codepoint(OutputIt\ out,\ \textcolor{keywordtype}{char}\ prefix,\ uint32\_t\ cp)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01776\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01777\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(prefix);}
\DoxyCodeLine{01778\ \ \ Char\ \mbox{\hyperlink{structbuf}{buf}}[width];}
\DoxyCodeLine{01779\ \ \ fill\_n(\mbox{\hyperlink{structbuf}{buf}},\ width,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}));}
\DoxyCodeLine{01780\ \ \ format\_uint<4>(\mbox{\hyperlink{structbuf}{buf}},\ cp,\ width);}
\DoxyCodeLine{01781\ \ \ \textcolor{keywordflow}{return}\ copy\_str<Char>(\mbox{\hyperlink{structbuf}{buf}},\ \mbox{\hyperlink{structbuf}{buf}}\ +\ width,\ out);}
\DoxyCodeLine{01782\ \}}
\DoxyCodeLine{01783\ }
\DoxyCodeLine{01784\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01785\ \textcolor{keyword}{auto}\ write\_escaped\_cp(OutputIt\ out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structfind__escape__result}{find\_escape\_result<Char>}}\&\ escape)}
\DoxyCodeLine{01786\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01787\ \ \ \textcolor{keyword}{auto}\ c\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(escape.cp);}
\DoxyCodeLine{01788\ \ \ \textcolor{keywordflow}{switch}\ (escape.cp)\ \{}
\DoxyCodeLine{01789\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)n'}:}
\DoxyCodeLine{01790\ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01791\ \ \ \ \ c\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'n'});}
\DoxyCodeLine{01792\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01793\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)r'}:}
\DoxyCodeLine{01794\ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01795\ \ \ \ \ c\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'r'});}
\DoxyCodeLine{01796\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01797\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)t'}:}
\DoxyCodeLine{01798\ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01799\ \ \ \ \ c\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'t'});}
\DoxyCodeLine{01800\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01801\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'"{}'}:}
\DoxyCodeLine{01802\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{01803\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)''}:}
\DoxyCodeLine{01804\ \ \ \ \ FMT\_FALLTHROUGH;}
\DoxyCodeLine{01805\ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}:}
\DoxyCodeLine{01806\ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01807\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01808\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01809\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_utf8())\ \{}
\DoxyCodeLine{01810\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (escape.cp\ <\ 0x100)\ \{}
\DoxyCodeLine{01811\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write\_codepoint<2,\ Char>(out,\ \textcolor{charliteral}{'x'},\ escape.cp);}
\DoxyCodeLine{01812\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01813\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (escape.cp\ <\ 0x10000)\ \{}
\DoxyCodeLine{01814\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write\_codepoint<4,\ Char>(out,\ \textcolor{charliteral}{'u'},\ escape.cp);}
\DoxyCodeLine{01815\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01816\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (escape.cp\ <\ 0x110000)\ \{}
\DoxyCodeLine{01817\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write\_codepoint<8,\ Char>(out,\ \textcolor{charliteral}{'U'},\ escape.cp);}
\DoxyCodeLine{01818\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01819\ \ \ \ \ \}}
\DoxyCodeLine{01820\ \ \ \ \ \textcolor{keywordflow}{for}\ (Char\ escape\_char\ :\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(}
\DoxyCodeLine{01821\ \ \ \ \ \ \ \ \ \ \ \ \ \ escape.begin,\ to\_unsigned(escape.end\ -\/\ escape.begin)))\ \{}
\DoxyCodeLine{01822\ \ \ \ \ \ \ out\ =\ write\_codepoint<2,\ Char>(out,\ \textcolor{charliteral}{'x'},}
\DoxyCodeLine{01823\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(escape\_char)\ \&\ 0xFF);}
\DoxyCodeLine{01824\ \ \ \ \ \}}
\DoxyCodeLine{01825\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01826\ \ \ \}}
\DoxyCodeLine{01827\ \ \ *out++\ =\ c;}
\DoxyCodeLine{01828\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01829\ \}}
\DoxyCodeLine{01830\ }
\DoxyCodeLine{01831\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01832\ \textcolor{keyword}{auto}\ write\_escaped\_string(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ str)}
\DoxyCodeLine{01833\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01834\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'"{}'});}
\DoxyCodeLine{01835\ \ \ \textcolor{keyword}{auto}\ begin\ =\ str.begin(),\ end\ =\ str.end();}
\DoxyCodeLine{01836\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{01837\ \ \ \ \ \textcolor{keyword}{auto}\ escape\ =\ find\_escape(begin,\ end);}
\DoxyCodeLine{01838\ \ \ \ \ out\ =\ copy\_str<Char>(begin,\ escape.begin,\ out);}
\DoxyCodeLine{01839\ \ \ \ \ begin\ =\ escape.end;}
\DoxyCodeLine{01840\ \ \ \ \ \textcolor{keywordflow}{if}\ (!begin)\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01841\ \ \ \ \ out\ =\ write\_escaped\_cp<OutputIt,\ Char>(out,\ escape);}
\DoxyCodeLine{01842\ \ \ \}\ \textcolor{keywordflow}{while}\ (begin\ !=\ end);}
\DoxyCodeLine{01843\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'"{}'});}
\DoxyCodeLine{01844\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01845\ \}}
\DoxyCodeLine{01846\ }
\DoxyCodeLine{01847\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01848\ \textcolor{keyword}{auto}\ write\_escaped\_char(OutputIt\ out,\ Char\ v)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01849\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)''});}
\DoxyCodeLine{01850\ \ \ \textcolor{keywordflow}{if}\ ((needs\_escape(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(v))\ \&\&\ v\ !=\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'"{}'}))\ ||}
\DoxyCodeLine{01851\ \ \ \ \ \ \ v\ ==\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)''}))\ \{}
\DoxyCodeLine{01852\ \ \ \ \ out\ =\ write\_escaped\_cp(}
\DoxyCodeLine{01853\ \ \ \ \ \ \ \ \ out,\ \mbox{\hyperlink{structfind__escape__result}{find\_escape\_result<Char>}}\{\&v,\ \&v\ +\ 1,\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(v)\});}
\DoxyCodeLine{01854\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01855\ \ \ \ \ *out++\ =\ v;}
\DoxyCodeLine{01856\ \ \ \}}
\DoxyCodeLine{01857\ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\(\backslash\)''});}
\DoxyCodeLine{01858\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01859\ \}}
\DoxyCodeLine{01860\ }
\DoxyCodeLine{01861\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01862\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_char(OutputIt\ out,\ Char\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{01863\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs)}
\DoxyCodeLine{01864\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01865\ \ \ \textcolor{keywordtype}{bool}\ is\_debug\ =\ specs.type\ ==\ presentation\_type::debug;}
\DoxyCodeLine{01866\ \ \ \textcolor{keywordflow}{return}\ write\_padded(out,\ specs,\ 1,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{01867\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_debug)\ \textcolor{keywordflow}{return}\ write\_escaped\_char(it,\ \mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{01868\ \ \ \ \ *it++\ =\ \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{01869\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{01870\ \ \ \});}
\DoxyCodeLine{01871\ \}}
\DoxyCodeLine{01872\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{01873\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ Char\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{01874\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{01875\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc\ =\ \{\})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01876\ \ \ \textcolor{keywordflow}{return}\ check\_char\_specs(specs)}
\DoxyCodeLine{01877\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ write\_char(out,\ \mbox{\hyperlink{classvalue}{value}},\ specs)}
\DoxyCodeLine{01878\ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ write(out,\ static\_cast<int>(\mbox{\hyperlink{classvalue}{value}}),\ specs,\ loc);}
\DoxyCodeLine{01879\ \}}
\DoxyCodeLine{01880\ }
\DoxyCodeLine{01881\ \textcolor{comment}{//\ Data\ for\ write\_int\ that\ doesn't\ depend\ on\ output\ iterator\ type.\ It\ is\ used\ to}}
\DoxyCodeLine{01882\ \textcolor{comment}{//\ avoid\ template\ code\ bloat.}}
\DoxyCodeLine{01883\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structwrite__int__data}{write\_int\_data}}\ \{}
\DoxyCodeLine{01884\ \ \ \textcolor{keywordtype}{size\_t}\ size;}
\DoxyCodeLine{01885\ \ \ \textcolor{keywordtype}{size\_t}\ padding;}
\DoxyCodeLine{01886\ }
\DoxyCodeLine{01887\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{structwrite__int__data}{write\_int\_data}}(\textcolor{keywordtype}{int}\ num\_digits,\ \textcolor{keywordtype}{unsigned}\ prefix,}
\DoxyCodeLine{01888\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs)}
\DoxyCodeLine{01889\ \ \ \ \ \ \ :\ size((prefix\ >>\ 24)\ +\ to\_unsigned(num\_digits)),\ padding(0)\ \{}
\DoxyCodeLine{01890\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.align\ ==\ align::numeric)\ \{}
\DoxyCodeLine{01891\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ width\ =\ to\_unsigned(specs.width);}
\DoxyCodeLine{01892\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (width\ >\ size)\ \{}
\DoxyCodeLine{01893\ \ \ \ \ \ \ \ \ padding\ =\ width\ -\/\ size;}
\DoxyCodeLine{01894\ \ \ \ \ \ \ \ \ size\ =\ width;}
\DoxyCodeLine{01895\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01896\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (specs.precision\ >\ num\_digits)\ \{}
\DoxyCodeLine{01897\ \ \ \ \ \ \ size\ =\ (prefix\ >>\ 24)\ +\ to\_unsigned(specs.precision);}
\DoxyCodeLine{01898\ \ \ \ \ \ \ padding\ =\ to\_unsigned(specs.precision\ -\/\ num\_digits);}
\DoxyCodeLine{01899\ \ \ \ \ \}}
\DoxyCodeLine{01900\ \ \ \}}
\DoxyCodeLine{01901\ \};}
\DoxyCodeLine{01902\ }
\DoxyCodeLine{01903\ \textcolor{comment}{//\ Writes\ an\ integer\ in\ the\ format}}
\DoxyCodeLine{01904\ \textcolor{comment}{//\ \ \ <left-\/padding><prefix><numeric-\/padding><digits><right-\/padding>}}
\DoxyCodeLine{01905\ \textcolor{comment}{//\ where\ <digits>\ are\ written\ by\ write\_digits(it).}}
\DoxyCodeLine{01906\ \textcolor{comment}{//\ prefix\ contains\ chars\ in\ three\ lower\ bytes\ and\ the\ size\ in\ the\ fourth\ byte.}}
\DoxyCodeLine{01907\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ W>}
\DoxyCodeLine{01908\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ write\_int(OutputIt\ out,\ \textcolor{keywordtype}{int}\ num\_digits,}
\DoxyCodeLine{01909\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ prefix,}
\DoxyCodeLine{01910\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{01911\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ W\ write\_digits)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01912\ \ \ \textcolor{comment}{//\ Slightly\ faster\ check\ for\ specs.width\ ==\ 0\ \&\&\ specs.precision\ ==\ -\/1.}}
\DoxyCodeLine{01913\ \ \ \textcolor{keywordflow}{if}\ ((specs.width\ |\ (specs.precision\ +\ 1))\ ==\ 0)\ \{}
\DoxyCodeLine{01914\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ to\_unsigned(num\_digits)\ +\ (prefix\ >>\ 24));}
\DoxyCodeLine{01915\ \ \ \ \ \textcolor{keywordflow}{if}\ (prefix\ !=\ 0)\ \{}
\DoxyCodeLine{01916\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ p\ =\ prefix\ \&\ 0xffffff;\ p\ !=\ 0;\ p\ >>=\ 8)}
\DoxyCodeLine{01917\ \ \ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(p\ \&\ 0xff);}
\DoxyCodeLine{01918\ \ \ \ \ \}}
\DoxyCodeLine{01919\ \ \ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ write\_digits(it));}
\DoxyCodeLine{01920\ \ \ \}}
\DoxyCodeLine{01921\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structdata}{data}}\ =\ \mbox{\hyperlink{structwrite__int__data}{write\_int\_data<Char>}}(num\_digits,\ prefix,\ specs);}
\DoxyCodeLine{01922\ \ \ \textcolor{keywordflow}{return}\ write\_padded<align::right>(}
\DoxyCodeLine{01923\ \ \ \ \ \ \ out,\ specs,\ \mbox{\hyperlink{structdata}{data}}.size,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{01924\ \ \ \ \ \ \ \ \ for\ (unsigned\ p\ =\ prefix\ \&\ 0xffffff;\ p\ !=\ 0;\ p\ >>=\ 8)}
\DoxyCodeLine{01925\ \ \ \ \ \ \ \ \ \ \ *it++\ =\ static\_cast<Char>(p\ \&\ 0xff);}
\DoxyCodeLine{01926\ \ \ \ \ \ \ \ \ it\ =\ detail::fill\_n(it,\ data.padding,\ static\_cast<Char>(\textcolor{stringliteral}{'0'}));}
\DoxyCodeLine{01927\ \ \ \ \ \ \ \ \ return\ write\_digits(it);}
\DoxyCodeLine{01928\ \ \ \ \ \ \ \});}
\DoxyCodeLine{01929\ \}}
\DoxyCodeLine{01930\ }
\DoxyCodeLine{01931\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdigit__grouping}{digit\_grouping}}\ \{}
\DoxyCodeLine{01932\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01933\ \ \ \mbox{\hyperlink{structthousands__sep__result}{thousands\_sep\_result<Char>}}\ sep\_;}
\DoxyCodeLine{01934\ }
\DoxyCodeLine{01935\ \ \ \textcolor{keyword}{struct\ }next\_state\ \{}
\DoxyCodeLine{01936\ \ \ \ \ std::string::const\_iterator\ \mbox{\hyperlink{structgroup}{group}};}
\DoxyCodeLine{01937\ \ \ \ \ \textcolor{keywordtype}{int}\ pos;}
\DoxyCodeLine{01938\ \ \ \};}
\DoxyCodeLine{01939\ \ \ next\_state\ initial\_state()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{sep\_.grouping.begin(),\ 0\};\ \}}
\DoxyCodeLine{01940\ }
\DoxyCodeLine{01941\ \ \ \textcolor{comment}{//\ Returns\ the\ next\ digit\ group\ separator\ position.}}
\DoxyCodeLine{01942\ \ \ \textcolor{keywordtype}{int}\ next(next\_state\&\ \mbox{\hyperlink{structstate}{state}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01943\ \ \ \ \ \textcolor{keywordflow}{if}\ (!sep\_.thousands\_sep)\ \textcolor{keywordflow}{return}\ max\_value<int>();}
\DoxyCodeLine{01944\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structstate}{state}}.group\ ==\ sep\_.grouping.end())}
\DoxyCodeLine{01945\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structstate}{state}}.pos\ +=\ sep\_.grouping.back();}
\DoxyCodeLine{01946\ \ \ \ \ \textcolor{keywordflow}{if}\ (*\mbox{\hyperlink{structstate}{state}}.group\ <=\ 0\ ||\ *\mbox{\hyperlink{structstate}{state}}.group\ ==\ max\_value<char>())}
\DoxyCodeLine{01947\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ max\_value<int>();}
\DoxyCodeLine{01948\ \ \ \ \ \mbox{\hyperlink{structstate}{state}}.pos\ +=\ *\mbox{\hyperlink{structstate}{state}}.group++;}
\DoxyCodeLine{01949\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structstate}{state}}.pos;}
\DoxyCodeLine{01950\ \ \ \}}
\DoxyCodeLine{01951\ }
\DoxyCodeLine{01952\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01953\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdigit__grouping}{digit\_grouping}}(\mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc,\ \textcolor{keywordtype}{bool}\ localized\ =\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{01954\ \ \ \ \ \textcolor{keywordflow}{if}\ (localized)}
\DoxyCodeLine{01955\ \ \ \ \ \ \ sep\_\ =\ thousands\_sep<Char>(loc);}
\DoxyCodeLine{01956\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01957\ \ \ \ \ \ \ sep\_.thousands\_sep\ =\ Char();}
\DoxyCodeLine{01958\ \ \ \}}
\DoxyCodeLine{01959\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdigit__grouping}{digit\_grouping}}(\mbox{\hyperlink{structthousands__sep__result}{thousands\_sep\_result<Char>}}\ sep)\ :\ sep\_(sep)\ \{\}}
\DoxyCodeLine{01960\ }
\DoxyCodeLine{01961\ \ \ Char\ separator()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ sep\_.thousands\_sep;\ \}}
\DoxyCodeLine{01962\ }
\DoxyCodeLine{01963\ \ \ \textcolor{keywordtype}{int}\ count\_separators(\textcolor{keywordtype}{int}\ num\_digits)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01964\ \ \ \ \ \textcolor{keywordtype}{int}\ count\ =\ 0;}
\DoxyCodeLine{01965\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structstate}{state}}\ =\ initial\_state();}
\DoxyCodeLine{01966\ \ \ \ \ \textcolor{keywordflow}{while}\ (num\_digits\ >\ next(\mbox{\hyperlink{structstate}{state}}))\ ++count;}
\DoxyCodeLine{01967\ \ \ \ \ \textcolor{keywordflow}{return}\ count;}
\DoxyCodeLine{01968\ \ \ \}}
\DoxyCodeLine{01969\ }
\DoxyCodeLine{01970\ \ \ \textcolor{comment}{//\ Applies\ grouping\ to\ digits\ and\ write\ the\ output\ to\ out.}}
\DoxyCodeLine{01971\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Out,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{01972\ \ \ Out\ apply(Out\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<C>}}\ digits)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01973\ \ \ \ \ \textcolor{keyword}{auto}\ num\_digits\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(digits.\mbox{\hyperlink{classbasic__string__view_a216bbe1b012b590698d7bb4e96d1af3f}{size}}());}
\DoxyCodeLine{01974\ \ \ \ \ \textcolor{keyword}{auto}\ separators\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<int>}}();}
\DoxyCodeLine{01975\ \ \ \ \ separators.push\_back(0);}
\DoxyCodeLine{01976\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structstate}{state}}\ =\ initial\_state();}
\DoxyCodeLine{01977\ \ \ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keywordtype}{int}\ i\ =\ next(\mbox{\hyperlink{structstate}{state}}))\ \{}
\DoxyCodeLine{01978\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ >=\ num\_digits)\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01979\ \ \ \ \ \ \ separators.push\_back(i);}
\DoxyCodeLine{01980\ \ \ \ \ \}}
\DoxyCodeLine{01981\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0,\ sep\_index\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(separators.size()\ -\/\ 1);}
\DoxyCodeLine{01982\ \ \ \ \ \ \ \ \ \ i\ <\ num\_digits;\ ++i)\ \{}
\DoxyCodeLine{01983\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ -\/\ i\ ==\ separators[sep\_index])\ \{}
\DoxyCodeLine{01984\ \ \ \ \ \ \ \ \ *out++\ =\ separator();}
\DoxyCodeLine{01985\ \ \ \ \ \ \ \ \ -\/-\/sep\_index;}
\DoxyCodeLine{01986\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01987\ \ \ \ \ \ \ *out++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(digits[to\_unsigned(i)]);}
\DoxyCodeLine{01988\ \ \ \ \ \}}
\DoxyCodeLine{01989\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{01990\ \ \ \}}
\DoxyCodeLine{01991\ \};}
\DoxyCodeLine{01992\ }
\DoxyCodeLine{01993\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UInt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{01994\ \textcolor{keyword}{auto}\ write\_int\_localized(OutputIt\ out,\ UInt\ \mbox{\hyperlink{classvalue}{value}},\ \textcolor{keywordtype}{unsigned}\ prefix,}
\DoxyCodeLine{01995\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{01996\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdigit__grouping}{digit\_grouping<Char>}}\&\ grouping)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{01997\ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<uint64\_or\_128\_t<UInt>,\ UInt>\mbox{\hyperlink{classvalue}{::value}},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01998\ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{01999\ \ \ \textcolor{keywordtype}{char}\ digits[40];}
\DoxyCodeLine{02000\ \ \ format\_decimal(digits,\ \mbox{\hyperlink{classvalue}{value}},\ num\_digits);}
\DoxyCodeLine{02001\ \ \ \textcolor{keywordtype}{unsigned}\ size\ =\ to\_unsigned((prefix\ !=\ 0\ ?\ 1\ :\ 0)\ +\ num\_digits\ +}
\DoxyCodeLine{02002\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ grouping.count\_separators(num\_digits));}
\DoxyCodeLine{02003\ \ \ \textcolor{keywordflow}{return}\ write\_padded<align::right>(}
\DoxyCodeLine{02004\ \ \ \ \ \ \ out,\ specs,\ size,\ size,\ [\&](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02005\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (prefix\ !=\ 0)\ \{}
\DoxyCodeLine{02006\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ sign\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(prefix);}
\DoxyCodeLine{02007\ \ \ \ \ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(sign);}
\DoxyCodeLine{02008\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02009\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ grouping.apply(it,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(digits,\ to\_unsigned(num\_digits)));}
\DoxyCodeLine{02010\ \ \ \ \ \ \ \});}
\DoxyCodeLine{02011\ \}}
\DoxyCodeLine{02012\ }
\DoxyCodeLine{02013\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UInt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02014\ \textcolor{keyword}{auto}\ write\_int\_localized(OutputIt\&\ out,\ UInt\ \mbox{\hyperlink{classvalue}{value}},\ \textcolor{keywordtype}{unsigned}\ prefix,}
\DoxyCodeLine{02015\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,\ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)}
\DoxyCodeLine{02016\ \ \ \ \ -\/>\ \textcolor{keywordtype}{bool}\ \{}
\DoxyCodeLine{02017\ \ \ \textcolor{keyword}{auto}\ grouping\ =\ \mbox{\hyperlink{classdigit__grouping}{digit\_grouping<Char>}}(loc);}
\DoxyCodeLine{02018\ \ \ out\ =\ write\_int\_localized(out,\ \mbox{\hyperlink{classvalue}{value}},\ prefix,\ specs,\ grouping);}
\DoxyCodeLine{02019\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02020\ \}}
\DoxyCodeLine{02021\ }
\DoxyCodeLine{02022\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ prefix\_append(\textcolor{keywordtype}{unsigned}\&\ prefix,\ \textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{02023\ \ \ prefix\ |=\ prefix\ !=\ 0\ ?\ \mbox{\hyperlink{classvalue}{value}}\ <<\ 8\ :\ \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{02024\ \ \ prefix\ +=\ (1u\ +\ (\mbox{\hyperlink{classvalue}{value}}\ >\ 0xff\ ?\ 1\ :\ 0))\ <<\ 24;}
\DoxyCodeLine{02025\ \}}
\DoxyCodeLine{02026\ }
\DoxyCodeLine{02027\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structwrite__int__arg}{write\_int\_arg}}\ \{}
\DoxyCodeLine{02028\ \ \ UInt\ abs\_value;}
\DoxyCodeLine{02029\ \ \ \textcolor{keywordtype}{unsigned}\ prefix;}
\DoxyCodeLine{02030\ \};}
\DoxyCodeLine{02031\ }
\DoxyCodeLine{02032\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02033\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ make\_write\_int\_arg(T\ \mbox{\hyperlink{classvalue}{value}},\ sign\_t\ sign)}
\DoxyCodeLine{02034\ \ \ \ \ -\/>\ \mbox{\hyperlink{structwrite__int__arg}{write\_int\_arg<uint32\_or\_64\_or\_128\_t<T>}}>\ \{}
\DoxyCodeLine{02035\ \ \ \textcolor{keyword}{auto}\ prefix\ =\ 0u;}
\DoxyCodeLine{02036\ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ \textcolor{keyword}{static\_cast<}uint32\_or\_64\_or\_128\_t<T>\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{02037\ \ \ \textcolor{keywordflow}{if}\ (is\_negative(\mbox{\hyperlink{classvalue}{value}}))\ \{}
\DoxyCodeLine{02038\ \ \ \ \ prefix\ =\ 0x01000000\ |\ \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{02039\ \ \ \ \ abs\_value\ =\ 0\ -\/\ abs\_value;}
\DoxyCodeLine{02040\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02041\ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ prefixes[4]\ =\ \{0,\ 0,\ 0x1000000u\ |\ \textcolor{charliteral}{'+'},}
\DoxyCodeLine{02042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x1000000u\ |\ \textcolor{charliteral}{'\ '}\};}
\DoxyCodeLine{02043\ \ \ \ \ prefix\ =\ prefixes[sign];}
\DoxyCodeLine{02044\ \ \ \}}
\DoxyCodeLine{02045\ \ \ \textcolor{keywordflow}{return}\ \{abs\_value,\ prefix\};}
\DoxyCodeLine{02046\ \}}
\DoxyCodeLine{02047\ }
\DoxyCodeLine{02048\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02049\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ write\_int(OutputIt\ out,\ \mbox{\hyperlink{structwrite__int__arg}{write\_int\_arg<T>}}\ arg,}
\DoxyCodeLine{02050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{02051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02052\ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<T,\ uint32\_or\_64\_or\_128\_t<T>>\mbox{\hyperlink{classvalue}{::value}},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02053\ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ arg.abs\_value;}
\DoxyCodeLine{02054\ \ \ \textcolor{keyword}{auto}\ prefix\ =\ arg.prefix;}
\DoxyCodeLine{02055\ \ \ \textcolor{keywordflow}{switch}\ (specs.type)\ \{}
\DoxyCodeLine{02056\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::none:}
\DoxyCodeLine{02057\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::dec:\ \{}
\DoxyCodeLine{02058\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.localized\ \&\&}
\DoxyCodeLine{02059\ \ \ \ \ \ \ \ \ write\_int\_localized(out,\ \textcolor{keyword}{static\_cast<}uint64\_or\_128\_t<T>\textcolor{keyword}{>}(abs\_value),}
\DoxyCodeLine{02060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prefix,\ specs,\ loc))\ \{}
\DoxyCodeLine{02061\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02062\ \ \ \ \ \}}
\DoxyCodeLine{02063\ \ \ \ \ \textcolor{keyword}{auto}\ num\_digits\ =\ count\_digits(abs\_value);}
\DoxyCodeLine{02064\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_int(}
\DoxyCodeLine{02065\ \ \ \ \ \ \ \ \ out,\ num\_digits,\ prefix,\ specs,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02066\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_decimal<Char>(it,\ abs\_value,\ num\_digits).end;}
\DoxyCodeLine{02067\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02068\ \ \ \}}
\DoxyCodeLine{02069\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::hex\_lower:}
\DoxyCodeLine{02070\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::hex\_upper:\ \{}
\DoxyCodeLine{02071\ \ \ \ \ \textcolor{keywordtype}{bool}\ upper\ =\ specs.type\ ==\ presentation\_type::hex\_upper;}
\DoxyCodeLine{02072\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt)}
\DoxyCodeLine{02073\ \ \ \ \ \ \ prefix\_append(prefix,\ \textcolor{keywordtype}{unsigned}(upper\ ?\ \textcolor{charliteral}{'X'}\ :\ \textcolor{charliteral}{'x'})\ <<\ 8\ |\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02074\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<4>(abs\_value);}
\DoxyCodeLine{02075\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_int(}
\DoxyCodeLine{02076\ \ \ \ \ \ \ \ \ out,\ num\_digits,\ prefix,\ specs,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02077\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<4,\ Char>(it,\ abs\_value,\ num\_digits,\ upper);}
\DoxyCodeLine{02078\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02079\ \ \ \}}
\DoxyCodeLine{02080\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::bin\_lower:}
\DoxyCodeLine{02081\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::bin\_upper:\ \{}
\DoxyCodeLine{02082\ \ \ \ \ \textcolor{keywordtype}{bool}\ upper\ =\ specs.type\ ==\ presentation\_type::bin\_upper;}
\DoxyCodeLine{02083\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt)}
\DoxyCodeLine{02084\ \ \ \ \ \ \ prefix\_append(prefix,\ \textcolor{keywordtype}{unsigned}(upper\ ?\ \textcolor{charliteral}{'B'}\ :\ \textcolor{charliteral}{'b'})\ <<\ 8\ |\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02085\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<1>(abs\_value);}
\DoxyCodeLine{02086\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_int(out,\ num\_digits,\ prefix,\ specs,}
\DoxyCodeLine{02087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<1,\ Char>(it,\ abs\_value,\ num\_digits);}
\DoxyCodeLine{02089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02090\ \ \ \}}
\DoxyCodeLine{02091\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::oct:\ \{}
\DoxyCodeLine{02092\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits<3>(abs\_value);}
\DoxyCodeLine{02093\ \ \ \ \ \textcolor{comment}{//\ Octal\ prefix\ '0'\ is\ counted\ as\ a\ digit,\ so\ only\ add\ it\ if\ precision}}
\DoxyCodeLine{02094\ \ \ \ \ \textcolor{comment}{//\ is\ not\ greater\ than\ the\ number\ of\ digits.}}
\DoxyCodeLine{02095\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.alt\ \&\&\ specs.precision\ <=\ num\_digits\ \&\&\ abs\_value\ !=\ 0)}
\DoxyCodeLine{02096\ \ \ \ \ \ \ prefix\_append(prefix,\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02097\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_int(out,\ num\_digits,\ prefix,\ specs,}
\DoxyCodeLine{02098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ format\_uint<3,\ Char>(it,\ abs\_value,\ num\_digits);}
\DoxyCodeLine{02100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02101\ \ \ \}}
\DoxyCodeLine{02102\ \ \ \textcolor{keywordflow}{case}\ presentation\_type::chr:}
\DoxyCodeLine{02103\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_char(out,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(abs\_value),\ specs);}
\DoxyCodeLine{02104\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02105\ \ \ \ \ throw\_format\_error(\textcolor{stringliteral}{"{}invalid\ type\ specifier"{}});}
\DoxyCodeLine{02106\ \ \ \}}
\DoxyCodeLine{02107\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02108\ \}}
\DoxyCodeLine{02109\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02110\ FMT\_CONSTEXPR\ FMT\_NOINLINE\ \textcolor{keyword}{auto}\ write\_int\_noinline(}
\DoxyCodeLine{02111\ \ \ \ \ OutputIt\ out,\ \mbox{\hyperlink{structwrite__int__arg}{write\_int\_arg<T>}}\ arg,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{02112\ \ \ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02113\ \ \ \textcolor{keywordflow}{return}\ write\_int(out,\ arg,\ specs,\ loc);}
\DoxyCodeLine{02114\ \}}
\DoxyCodeLine{02115\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{02116\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(\mbox{\hyperlink{structis__integral}{is\_integral<T>::value}}\ \&\&}
\DoxyCodeLine{02117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{02118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<OutputIt,\ buffer\_appender<Char>>\mbox{\hyperlink{classvalue}{::value}})>}
\DoxyCodeLine{02119\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{02120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{02121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02122\ \ \ \textcolor{keywordflow}{return}\ write\_int\_noinline(out,\ make\_write\_int\_arg(\mbox{\hyperlink{classvalue}{value}},\ specs.sign),\ specs,}
\DoxyCodeLine{02123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ loc);}
\DoxyCodeLine{02124\ \}}
\DoxyCodeLine{02125\ \textcolor{comment}{//\ An\ inlined\ version\ of\ write\ used\ in\ format\ string\ compilation.}}
\DoxyCodeLine{02126\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{02127\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(\mbox{\hyperlink{structis__integral}{is\_integral<T>::value}}\ \&\&}
\DoxyCodeLine{02128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{02129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<OutputIt,\ buffer\_appender<Char>>\mbox{\hyperlink{classvalue}{::value}})>}
\DoxyCodeLine{02130\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{02131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{02132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02133\ \ \ \textcolor{keywordflow}{return}\ write\_int(out,\ make\_write\_int\_arg(\mbox{\hyperlink{classvalue}{value}},\ specs.sign),\ specs,\ loc);}
\DoxyCodeLine{02134\ \}}
\DoxyCodeLine{02135\ }
\DoxyCodeLine{02136\ \textcolor{comment}{//\ An\ output\ iterator\ that\ counts\ the\ number\ of\ objects\ written\ to\ it\ and}}
\DoxyCodeLine{02137\ \textcolor{comment}{//\ discards\ them.}}
\DoxyCodeLine{02138\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcounting__iterator}{counting\_iterator}}\ \{}
\DoxyCodeLine{02139\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02140\ \ \ \textcolor{keywordtype}{size\_t}\ count\_;}
\DoxyCodeLine{02141\ }
\DoxyCodeLine{02142\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02143\ \ \ \textcolor{keyword}{using\ }iterator\_category\ =\ std::output\_iterator\_tag;}
\DoxyCodeLine{02144\ \ \ \textcolor{keyword}{using\ }difference\_type\ =\ std::ptrdiff\_t;}
\DoxyCodeLine{02145\ \ \ \textcolor{keyword}{using\ }pointer\ =\ void;}
\DoxyCodeLine{02146\ \ \ \textcolor{keyword}{using\ }reference\ =\ void;}
\DoxyCodeLine{02147\ \ \ FMT\_UNCHECKED\_ITERATOR(\mbox{\hyperlink{classcounting__iterator}{counting\_iterator}});}
\DoxyCodeLine{02148\ }
\DoxyCodeLine{02149\ \ \ \textcolor{keyword}{struct\ }value\_type\ \{}
\DoxyCodeLine{02150\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ operator=(\textcolor{keyword}{const}\ T\&)\ \{\}}
\DoxyCodeLine{02151\ \ \ \};}
\DoxyCodeLine{02152\ }
\DoxyCodeLine{02153\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classcounting__iterator}{counting\_iterator}}()\ :\ count\_(0)\ \{\}}
\DoxyCodeLine{02154\ }
\DoxyCodeLine{02155\ \ \ FMT\_CONSTEXPR\ \textcolor{keywordtype}{size\_t}\ count()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ count\_;\ \}}
\DoxyCodeLine{02156\ }
\DoxyCodeLine{02157\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classcounting__iterator}{counting\_iterator}}\&\ operator++()\ \{}
\DoxyCodeLine{02158\ \ \ \ \ ++count\_;}
\DoxyCodeLine{02159\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02160\ \ \ \}}
\DoxyCodeLine{02161\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classcounting__iterator}{counting\_iterator}}\ operator++(\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{02162\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02163\ \ \ \ \ ++*\textcolor{keyword}{this};}
\DoxyCodeLine{02164\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{02165\ \ \ \}}
\DoxyCodeLine{02166\ }
\DoxyCodeLine{02167\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{friend}\ \mbox{\hyperlink{classcounting__iterator}{counting\_iterator}}\ operator+(\mbox{\hyperlink{classcounting__iterator}{counting\_iterator}}\ it,}
\DoxyCodeLine{02168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ difference\_type\ n)\ \{}
\DoxyCodeLine{02169\ \ \ \ \ it.count\_\ +=\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(n);}
\DoxyCodeLine{02170\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{02171\ \ \ \}}
\DoxyCodeLine{02172\ }
\DoxyCodeLine{02173\ \ \ FMT\_CONSTEXPR\ value\_type\ operator*()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{\};\ \}}
\DoxyCodeLine{02174\ \};}
\DoxyCodeLine{02175\ }
\DoxyCodeLine{02176\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02177\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s,}
\DoxyCodeLine{02178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02179\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structdata}{data}}\ =\ s.data();}
\DoxyCodeLine{02180\ \ \ \textcolor{keyword}{auto}\ size\ =\ s.size();}
\DoxyCodeLine{02181\ \ \ \textcolor{keywordflow}{if}\ (specs.precision\ >=\ 0\ \&\&\ to\_unsigned(specs.precision)\ <\ size)}
\DoxyCodeLine{02182\ \ \ \ \ size\ =\ code\_point\_index(s,\ to\_unsigned(specs.precision));}
\DoxyCodeLine{02183\ \ \ \textcolor{keywordtype}{bool}\ is\_debug\ =\ specs.type\ ==\ presentation\_type::debug;}
\DoxyCodeLine{02184\ \ \ \textcolor{keywordtype}{size\_t}\ width\ =\ 0;}
\DoxyCodeLine{02185\ \ \ \textcolor{keywordflow}{if}\ (specs.width\ !=\ 0)\ \{}
\DoxyCodeLine{02186\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_debug)}
\DoxyCodeLine{02187\ \ \ \ \ \ \ width\ =\ write\_escaped\_string(\mbox{\hyperlink{classcounting__iterator}{counting\_iterator}}\{\},\ s).count();}
\DoxyCodeLine{02188\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02189\ \ \ \ \ \ \ width\ =\ compute\_width(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(\mbox{\hyperlink{structdata}{data}},\ size));}
\DoxyCodeLine{02190\ \ \ \}}
\DoxyCodeLine{02191\ \ \ \textcolor{keywordflow}{return}\ write\_padded(out,\ specs,\ size,\ width,}
\DoxyCodeLine{02192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_debug)\ \textcolor{keywordflow}{return}\ write\_escaped\_string(it,\ s);}
\DoxyCodeLine{02194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ copy\_str<Char>(\mbox{\hyperlink{structdata}{data}},\ \mbox{\hyperlink{structdata}{data}}\ +\ size,\ it);}
\DoxyCodeLine{02195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{02196\ \}}
\DoxyCodeLine{02197\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02198\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,}
\DoxyCodeLine{02199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view}}<type\_identity\_t<Char>>\ s,}
\DoxyCodeLine{02200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,\ \mbox{\hyperlink{classlocale__ref}{locale\_ref}})}
\DoxyCodeLine{02201\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02202\ \ \ check\_string\_type\_spec(specs.type);}
\DoxyCodeLine{02203\ \ \ \textcolor{keywordflow}{return}\ write(out,\ s,\ specs);}
\DoxyCodeLine{02204\ \}}
\DoxyCodeLine{02205\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02206\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ Char*\ s,}
\DoxyCodeLine{02207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,\ \mbox{\hyperlink{classlocale__ref}{locale\_ref}})}
\DoxyCodeLine{02208\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02209\ \ \ \textcolor{keywordflow}{return}\ check\_cstring\_type\_spec(specs.type)}
\DoxyCodeLine{02210\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ write(out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(s),\ specs,\ \{\})}
\DoxyCodeLine{02211\ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ write\_ptr<Char>(out,\ bit\_cast<uintptr\_t>(s),\ \&specs);}
\DoxyCodeLine{02212\ \}}
\DoxyCodeLine{02213\ }
\DoxyCodeLine{02214\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{02215\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(\mbox{\hyperlink{structis__integral}{is\_integral<T>::value}}\ \&\&}
\DoxyCodeLine{02216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{02217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ Char>::value)>}
\DoxyCodeLine{02218\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02219\ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ \textcolor{keyword}{static\_cast<}uint32\_or\_64\_or\_128\_t<T>\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{02220\ \ \ \textcolor{keywordtype}{bool}\ negative\ =\ is\_negative(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{02221\ \ \ \textcolor{comment}{//\ Don't\ do\ -\/abs\_value\ since\ it\ trips\ unsigned-\/integer-\/overflow\ sanitizer.}}
\DoxyCodeLine{02222\ \ \ \textcolor{keywordflow}{if}\ (negative)\ abs\_value\ =\ \string~abs\_value\ +\ 1;}
\DoxyCodeLine{02223\ \ \ \textcolor{keywordtype}{int}\ num\_digits\ =\ count\_digits(abs\_value);}
\DoxyCodeLine{02224\ \ \ \textcolor{keyword}{auto}\ size\ =\ (negative\ ?\ 1\ :\ 0)\ +\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(num\_digits);}
\DoxyCodeLine{02225\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ size);}
\DoxyCodeLine{02226\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ ptr\ =\ to\_pointer<Char>(it,\ size))\ \{}
\DoxyCodeLine{02227\ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ *ptr++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{02228\ \ \ \ \ format\_decimal<Char>(ptr,\ abs\_value,\ num\_digits);}
\DoxyCodeLine{02229\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02230\ \ \ \}}
\DoxyCodeLine{02231\ \ \ \textcolor{keywordflow}{if}\ (negative)\ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{02232\ \ \ it\ =\ format\_decimal<Char>(it,\ abs\_value,\ num\_digits).end;}
\DoxyCodeLine{02233\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{02234\ \}}
\DoxyCodeLine{02235\ }
\DoxyCodeLine{02236\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02237\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write\_nonfinite(OutputIt\ out,\ \textcolor{keywordtype}{bool}\ isnan,}
\DoxyCodeLine{02238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\ specs,}
\DoxyCodeLine{02239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structfloat__specs}{float\_specs}}\&\ fspecs)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02240\ \ \ \textcolor{keyword}{auto}\ str\ =}
\DoxyCodeLine{02241\ \ \ \ \ \ \ isnan\ ?\ (fspecs.upper\ ?\ \textcolor{stringliteral}{"{}NAN"{}}\ :\ \textcolor{stringliteral}{"{}nan"{}})\ :\ (fspecs.upper\ ?\ \textcolor{stringliteral}{"{}INF"{}}\ :\ \textcolor{stringliteral}{"{}inf"{}});}
\DoxyCodeLine{02242\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ str\_size\ =\ 3;}
\DoxyCodeLine{02243\ \ \ \textcolor{keyword}{auto}\ sign\ =\ fspecs.sign;}
\DoxyCodeLine{02244\ \ \ \textcolor{keyword}{auto}\ size\ =\ str\_size\ +\ (sign\ ?\ 1\ :\ 0);}
\DoxyCodeLine{02245\ \ \ \textcolor{comment}{//\ Replace\ '0'-\/padding\ with\ space\ for\ non-\/finite\ values.}}
\DoxyCodeLine{02246\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ is\_zero\_fill\ =}
\DoxyCodeLine{02247\ \ \ \ \ \ \ specs.fill.size()\ ==\ 1\ \&\&\ *specs.fill.data()\ ==\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{02248\ \ \ \textcolor{keywordflow}{if}\ (is\_zero\_fill)\ specs.fill[0]\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'\ '});}
\DoxyCodeLine{02249\ \ \ \textcolor{keywordflow}{return}\ write\_padded(out,\ specs,\ size,\ [=](reserve\_iterator<OutputIt>\ it)\ \{}
\DoxyCodeLine{02250\ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02251\ \ \ \ \ \textcolor{keywordflow}{return}\ copy\_str<Char>(str,\ str\ +\ str\_size,\ it);}
\DoxyCodeLine{02252\ \ \ \});}
\DoxyCodeLine{02253\ \}}
\DoxyCodeLine{02254\ }
\DoxyCodeLine{02255\ \textcolor{comment}{//\ A\ decimal\ floating-\/point\ number\ significand\ *\ pow(10,\ exp).}}
\DoxyCodeLine{02256\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbig__decimal__fp}{big\_decimal\_fp}}\ \{}
\DoxyCodeLine{02257\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ significand;}
\DoxyCodeLine{02258\ \ \ \textcolor{keywordtype}{int}\ significand\_size;}
\DoxyCodeLine{02259\ \ \ \textcolor{keywordtype}{int}\ exponent;}
\DoxyCodeLine{02260\ \};}
\DoxyCodeLine{02261\ }
\DoxyCodeLine{02262\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ get\_significand\_size(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbig__decimal__fp}{big\_decimal\_fp}}\&\ f)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{02263\ \ \ \textcolor{keywordflow}{return}\ f.significand\_size;}
\DoxyCodeLine{02264\ \}}
\DoxyCodeLine{02265\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02266\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ get\_significand\_size(\textcolor{keyword}{const}\ \mbox{\hyperlink{structdragonbox_1_1decimal__fp}{dragonbox::decimal\_fp<T>}}\&\ f)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{02267\ \ \ \textcolor{keywordflow}{return}\ count\_digits(f.significand);}
\DoxyCodeLine{02268\ \}}
\DoxyCodeLine{02269\ }
\DoxyCodeLine{02270\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{02271\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ significand,}
\DoxyCodeLine{02272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02273\ \ \ \textcolor{keywordflow}{return}\ copy\_str<Char>(significand,\ significand\ +\ significand\_size,\ out);}
\DoxyCodeLine{02274\ \}}
\DoxyCodeLine{02275\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UInt>}
\DoxyCodeLine{02276\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ UInt\ significand,}
\DoxyCodeLine{02277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02278\ \ \ \textcolor{keywordflow}{return}\ format\_decimal<Char>(out,\ significand,\ significand\_size).end;}
\DoxyCodeLine{02279\ \}}
\DoxyCodeLine{02280\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Grouping>}
\DoxyCodeLine{02281\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ T\ significand,}
\DoxyCodeLine{02282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size,\ \textcolor{keywordtype}{int}\ exponent,}
\DoxyCodeLine{02283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Grouping\&\ grouping)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02284\ \ \ \textcolor{keywordflow}{if}\ (!grouping.separator())\ \{}
\DoxyCodeLine{02285\ \ \ \ \ out\ =\ write\_significand<Char>(out,\ significand,\ significand\_size);}
\DoxyCodeLine{02286\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::fill\_n(out,\ exponent,\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}));}
\DoxyCodeLine{02287\ \ \ \}}
\DoxyCodeLine{02288\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classbuffer}{buffer}}\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}();}
\DoxyCodeLine{02289\ \ \ write\_significand<char>(\mbox{\hyperlink{classappender}{appender}}(\mbox{\hyperlink{classbuffer}{buffer}}),\ significand,\ significand\_size);}
\DoxyCodeLine{02290\ \ \ detail::fill\_n(\mbox{\hyperlink{classappender}{appender}}(\mbox{\hyperlink{classbuffer}{buffer}}),\ exponent,\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{02291\ \ \ \textcolor{keywordflow}{return}\ grouping.apply(out,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_a5fe8b50555561bfb4d77a2adcd5f79b2}{data}}(),\ \mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_aebcfda1cf597e92fdd876bb1b9a1ba2a}{size}}()));}
\DoxyCodeLine{02292\ \}}
\DoxyCodeLine{02293\ }
\DoxyCodeLine{02294\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ UInt,}
\DoxyCodeLine{02295\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(std::is\_integral<UInt>::value)>}
\DoxyCodeLine{02296\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ write\_significand(Char*\ out,\ UInt\ significand,\ \textcolor{keywordtype}{int}\ significand\_size,}
\DoxyCodeLine{02297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ integral\_size,\ Char\ decimal\_point)\ -\/>\ Char*\ \{}
\DoxyCodeLine{02298\ \ \ \textcolor{keywordflow}{if}\ (!decimal\_point)}
\DoxyCodeLine{02299\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_decimal(out,\ significand,\ significand\_size).end;}
\DoxyCodeLine{02300\ \ \ out\ +=\ significand\_size\ +\ 1;}
\DoxyCodeLine{02301\ \ \ Char*\ end\ =\ out;}
\DoxyCodeLine{02302\ \ \ \textcolor{keywordtype}{int}\ floating\_size\ =\ significand\_size\ -\/\ integral\_size;}
\DoxyCodeLine{02303\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ floating\_size\ /\ 2;\ i\ >\ 0;\ -\/-\/i)\ \{}
\DoxyCodeLine{02304\ \ \ \ \ out\ -\/=\ 2;}
\DoxyCodeLine{02305\ \ \ \ \ copy2(out,\ digits2(\textcolor{keyword}{static\_cast<}std::size\_t\textcolor{keyword}{>}(significand\ \%\ 100)));}
\DoxyCodeLine{02306\ \ \ \ \ significand\ /=\ 100;}
\DoxyCodeLine{02307\ \ \ \}}
\DoxyCodeLine{02308\ \ \ \textcolor{keywordflow}{if}\ (floating\_size\ \%\ 2\ !=\ 0)\ \{}
\DoxyCodeLine{02309\ \ \ \ \ *-\/-\/out\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ significand\ \%\ 10);}
\DoxyCodeLine{02310\ \ \ \ \ significand\ /=\ 10;}
\DoxyCodeLine{02311\ \ \ \}}
\DoxyCodeLine{02312\ \ \ *-\/-\/out\ =\ decimal\_point;}
\DoxyCodeLine{02313\ \ \ format\_decimal(out\ -\/\ integral\_size,\ significand,\ integral\_size);}
\DoxyCodeLine{02314\ \ \ \textcolor{keywordflow}{return}\ end;}
\DoxyCodeLine{02315\ \}}
\DoxyCodeLine{02316\ }
\DoxyCodeLine{02317\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ UInt,\ \textcolor{keyword}{typename}\ Char,}
\DoxyCodeLine{02318\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(!std::is\_pointer<remove\_cvref\_t<OutputIt>>\mbox{\hyperlink{classvalue}{::value}})>}
\DoxyCodeLine{02319\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ UInt\ significand,}
\DoxyCodeLine{02320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size,\ \textcolor{keywordtype}{int}\ integral\_size,}
\DoxyCodeLine{02321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Char\ decimal\_point)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02322\ \ \ \textcolor{comment}{//\ Buffer\ is\ large\ enough\ to\ hold\ digits\ (digits10\ +\ 1)\ and\ a\ decimal\ point.}}
\DoxyCodeLine{02323\ \ \ Char\ \mbox{\hyperlink{classbuffer}{buffer}}[digits10<UInt>()\ +\ 2];}
\DoxyCodeLine{02324\ \ \ \textcolor{keyword}{auto}\ end\ =\ write\_significand(\mbox{\hyperlink{classbuffer}{buffer}},\ significand,\ significand\_size,}
\DoxyCodeLine{02325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ integral\_size,\ decimal\_point);}
\DoxyCodeLine{02326\ \ \ \textcolor{keywordflow}{return}\ detail::copy\_str\_noinline<Char>(\mbox{\hyperlink{classbuffer}{buffer}},\ end,\ out);}
\DoxyCodeLine{02327\ \}}
\DoxyCodeLine{02328\ }
\DoxyCodeLine{02329\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02330\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ significand,}
\DoxyCodeLine{02331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size,\ \textcolor{keywordtype}{int}\ integral\_size,}
\DoxyCodeLine{02332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Char\ decimal\_point)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02333\ \ \ out\ =\ detail::copy\_str\_noinline<Char>(significand,}
\DoxyCodeLine{02334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ significand\ +\ integral\_size,\ out);}
\DoxyCodeLine{02335\ \ \ \textcolor{keywordflow}{if}\ (!decimal\_point)\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02336\ \ \ *out++\ =\ decimal\_point;}
\DoxyCodeLine{02337\ \ \ \textcolor{keywordflow}{return}\ detail::copy\_str\_noinline<Char>(significand\ +\ integral\_size,}
\DoxyCodeLine{02338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ significand\ +\ significand\_size,\ out);}
\DoxyCodeLine{02339\ \}}
\DoxyCodeLine{02340\ }
\DoxyCodeLine{02341\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Grouping>}
\DoxyCodeLine{02342\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write\_significand(OutputIt\ out,\ T\ significand,}
\DoxyCodeLine{02343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ significand\_size,\ \textcolor{keywordtype}{int}\ integral\_size,}
\DoxyCodeLine{02344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Char\ decimal\_point,}
\DoxyCodeLine{02345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Grouping\&\ grouping)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02346\ \ \ \textcolor{keywordflow}{if}\ (!grouping.separator())\ \{}
\DoxyCodeLine{02347\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_significand(out,\ significand,\ significand\_size,\ integral\_size,}
\DoxyCodeLine{02348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ decimal\_point);}
\DoxyCodeLine{02349\ \ \ \}}
\DoxyCodeLine{02350\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classbuffer}{buffer}}\ =\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char>}}();}
\DoxyCodeLine{02351\ \ \ write\_significand(buffer\_appender<Char>(\mbox{\hyperlink{classbuffer}{buffer}}),\ significand,}
\DoxyCodeLine{02352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ significand\_size,\ integral\_size,\ decimal\_point);}
\DoxyCodeLine{02353\ \ \ grouping.apply(}
\DoxyCodeLine{02354\ \ \ \ \ \ \ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_a5fe8b50555561bfb4d77a2adcd5f79b2}{data}}(),\ to\_unsigned(integral\_size)));}
\DoxyCodeLine{02355\ \ \ \textcolor{keywordflow}{return}\ detail::copy\_str\_noinline<Char>(\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_a5fe8b50555561bfb4d77a2adcd5f79b2}{data}}()\ +\ integral\_size,}
\DoxyCodeLine{02356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbuffer}{buffer}}.end(),\ out);}
\DoxyCodeLine{02357\ \}}
\DoxyCodeLine{02358\ }
\DoxyCodeLine{02359\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ DecimalFP,\ \textcolor{keyword}{typename}\ Char,}
\DoxyCodeLine{02360\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Grouping\ =\ \mbox{\hyperlink{classdigit__grouping}{digit\_grouping<Char>}}>}
\DoxyCodeLine{02361\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ do\_write\_float(OutputIt\ out,\ \textcolor{keyword}{const}\ DecimalFP\&\ f,}
\DoxyCodeLine{02362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{02363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structfloat__specs}{float\_specs}}\ fspecs,\ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)}
\DoxyCodeLine{02364\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02365\ \ \ \textcolor{keyword}{auto}\ significand\ =\ f.significand;}
\DoxyCodeLine{02366\ \ \ \textcolor{keywordtype}{int}\ significand\_size\ =\ get\_significand\_size(f);}
\DoxyCodeLine{02367\ \ \ \textcolor{keyword}{const}\ Char\ zero\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{02368\ \ \ \textcolor{keyword}{auto}\ sign\ =\ fspecs.sign;}
\DoxyCodeLine{02369\ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ to\_unsigned(significand\_size)\ +\ (sign\ ?\ 1\ :\ 0);}
\DoxyCodeLine{02370\ \ \ \textcolor{keyword}{using\ }iterator\ =\ reserve\_iterator<OutputIt>;}
\DoxyCodeLine{02371\ }
\DoxyCodeLine{02372\ \ \ Char\ decimal\_point\ =}
\DoxyCodeLine{02373\ \ \ \ \ \ \ fspecs.locale\ ?\ detail::decimal\_point<Char>(loc)\ :\ static\_cast<Char>(\textcolor{stringliteral}{'.'});}
\DoxyCodeLine{02374\ }
\DoxyCodeLine{02375\ \ \ \textcolor{keywordtype}{int}\ output\_exp\ =\ f.exponent\ +\ significand\_size\ -\/\ 1;}
\DoxyCodeLine{02376\ \ \ \textcolor{keyword}{auto}\ use\_exp\_format\ =\ [=]()\ \{}
\DoxyCodeLine{02377\ \ \ \ \ \textcolor{keywordflow}{if}\ (fspecs.format\ ==\ float\_format::exp)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02378\ \ \ \ \ \textcolor{keywordflow}{if}\ (fspecs.format\ !=\ float\_format::general)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02379\ \ \ \ \ \textcolor{comment}{//\ Use\ the\ fixed\ notation\ if\ the\ exponent\ is\ in\ [exp\_lower,\ exp\_upper),}}
\DoxyCodeLine{02380\ \ \ \ \ \textcolor{comment}{//\ e.g.\ 0.0001\ instead\ of\ 1e-\/04.\ Otherwise\ use\ the\ exponent\ notation.}}
\DoxyCodeLine{02381\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ exp\_lower\ =\ -\/4,\ exp\_upper\ =\ 16;}
\DoxyCodeLine{02382\ \ \ \ \ \textcolor{keywordflow}{return}\ output\_exp\ <\ exp\_lower\ ||}
\DoxyCodeLine{02383\ \ \ \ \ \ \ \ \ \ \ \ output\_exp\ >=\ (fspecs.precision\ >\ 0\ ?\ fspecs.precision\ :\ exp\_upper);}
\DoxyCodeLine{02384\ \ \ \};}
\DoxyCodeLine{02385\ \ \ \textcolor{keywordflow}{if}\ (use\_exp\_format())\ \{}
\DoxyCodeLine{02386\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ 0;}
\DoxyCodeLine{02387\ \ \ \ \ \textcolor{keywordflow}{if}\ (fspecs.showpoint)\ \{}
\DoxyCodeLine{02388\ \ \ \ \ \ \ num\_zeros\ =\ fspecs.precision\ -\/\ significand\_size;}
\DoxyCodeLine{02389\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ <\ 0)\ num\_zeros\ =\ 0;}
\DoxyCodeLine{02390\ \ \ \ \ \ \ size\ +=\ to\_unsigned(num\_zeros);}
\DoxyCodeLine{02391\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (significand\_size\ ==\ 1)\ \{}
\DoxyCodeLine{02392\ \ \ \ \ \ \ decimal\_point\ =\ Char();}
\DoxyCodeLine{02393\ \ \ \ \ \}}
\DoxyCodeLine{02394\ \ \ \ \ \textcolor{keyword}{auto}\ abs\_output\_exp\ =\ output\_exp\ >=\ 0\ ?\ output\_exp\ :\ -\/output\_exp;}
\DoxyCodeLine{02395\ \ \ \ \ \textcolor{keywordtype}{int}\ exp\_digits\ =\ 2;}
\DoxyCodeLine{02396\ \ \ \ \ \textcolor{keywordflow}{if}\ (abs\_output\_exp\ >=\ 100)\ exp\_digits\ =\ abs\_output\_exp\ >=\ 1000\ ?\ 4\ :\ 3;}
\DoxyCodeLine{02397\ }
\DoxyCodeLine{02398\ \ \ \ \ size\ +=\ to\_unsigned((decimal\_point\ ?\ 1\ :\ 0)\ +\ 2\ +\ exp\_digits);}
\DoxyCodeLine{02399\ \ \ \ \ \textcolor{keywordtype}{char}\ exp\_char\ =\ fspecs.upper\ ?\ \textcolor{charliteral}{'E'}\ :\ \textcolor{charliteral}{'e'};}
\DoxyCodeLine{02400\ \ \ \ \ \textcolor{keyword}{auto}\ write\ =\ [=](iterator\ it)\ \{}
\DoxyCodeLine{02401\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02402\ \ \ \ \ \ \ \textcolor{comment}{//\ Insert\ a\ decimal\ point\ after\ the\ first\ digit\ and\ add\ an\ exponent.}}
\DoxyCodeLine{02403\ \ \ \ \ \ \ it\ =\ write\_significand(it,\ significand,\ significand\_size,\ 1,}
\DoxyCodeLine{02404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ decimal\_point);}
\DoxyCodeLine{02405\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ >\ 0)\ it\ =\ detail::fill\_n(it,\ num\_zeros,\ zero);}
\DoxyCodeLine{02406\ \ \ \ \ \ \ *it++\ =\ \textcolor{keyword}{static\_cast<}Char\textcolor{keyword}{>}(exp\_char);}
\DoxyCodeLine{02407\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write\_exponent<Char>(output\_exp,\ it);}
\DoxyCodeLine{02408\ \ \ \ \ \};}
\DoxyCodeLine{02409\ \ \ \ \ \textcolor{keywordflow}{return}\ specs.width\ >\ 0\ ?\ write\_padded<align::right>(out,\ specs,\ size,\ write)}
\DoxyCodeLine{02410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ base\_iterator(out,\ write(reserve(out,\ size)));}
\DoxyCodeLine{02411\ \ \ \}}
\DoxyCodeLine{02412\ }
\DoxyCodeLine{02413\ \ \ \textcolor{keywordtype}{int}\ exp\ =\ f.exponent\ +\ significand\_size;}
\DoxyCodeLine{02414\ \ \ \textcolor{keywordflow}{if}\ (f.exponent\ >=\ 0)\ \{}
\DoxyCodeLine{02415\ \ \ \ \ \textcolor{comment}{//\ 1234e5\ -\/>\ 123400000[.0+]}}
\DoxyCodeLine{02416\ \ \ \ \ size\ +=\ to\_unsigned(f.exponent);}
\DoxyCodeLine{02417\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ fspecs.precision\ -\/\ exp;}
\DoxyCodeLine{02418\ \ \ \ \ abort\_fuzzing\_if(num\_zeros\ >\ 5000);}
\DoxyCodeLine{02419\ \ \ \ \ \textcolor{keywordflow}{if}\ (fspecs.showpoint)\ \{}
\DoxyCodeLine{02420\ \ \ \ \ \ \ ++size;}
\DoxyCodeLine{02421\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ <=\ 0\ \&\&\ fspecs.format\ !=\ float\_format::fixed)\ num\_zeros\ =\ 1;}
\DoxyCodeLine{02422\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_zeros\ >\ 0)\ size\ +=\ to\_unsigned(num\_zeros);}
\DoxyCodeLine{02423\ \ \ \ \ \}}
\DoxyCodeLine{02424\ \ \ \ \ \textcolor{keyword}{auto}\ grouping\ =\ Grouping(loc,\ fspecs.locale);}
\DoxyCodeLine{02425\ \ \ \ \ size\ +=\ to\_unsigned(grouping.count\_separators(exp));}
\DoxyCodeLine{02426\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_padded<align::right>(out,\ specs,\ size,\ [\&](iterator\ it)\ \{}
\DoxyCodeLine{02427\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02428\ \ \ \ \ \ \ it\ =\ write\_significand<Char>(it,\ significand,\ significand\_size,}
\DoxyCodeLine{02429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.exponent,\ grouping);}
\DoxyCodeLine{02430\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!fspecs.showpoint)\ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{02431\ \ \ \ \ \ \ *it++\ =\ decimal\_point;}
\DoxyCodeLine{02432\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ num\_zeros\ >\ 0\ ?\ detail::fill\_n(it,\ num\_zeros,\ zero)\ :\ it;}
\DoxyCodeLine{02433\ \ \ \ \ \});}
\DoxyCodeLine{02434\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (exp\ >\ 0)\ \{}
\DoxyCodeLine{02435\ \ \ \ \ \textcolor{comment}{//\ 1234e-\/2\ -\/>\ 12.34[0+]}}
\DoxyCodeLine{02436\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ fspecs.showpoint\ ?\ fspecs.precision\ -\/\ significand\_size\ :\ 0;}
\DoxyCodeLine{02437\ \ \ \ \ size\ +=\ 1\ +\ to\_unsigned(num\_zeros\ >\ 0\ ?\ num\_zeros\ :\ 0);}
\DoxyCodeLine{02438\ \ \ \ \ \textcolor{keyword}{auto}\ grouping\ =\ Grouping(loc,\ fspecs.locale);}
\DoxyCodeLine{02439\ \ \ \ \ size\ +=\ to\_unsigned(grouping.count\_separators(significand\_size));}
\DoxyCodeLine{02440\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_padded<align::right>(out,\ specs,\ size,\ [\&](iterator\ it)\ \{}
\DoxyCodeLine{02441\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02442\ \ \ \ \ \ \ it\ =\ write\_significand(it,\ significand,\ significand\_size,\ exp,}
\DoxyCodeLine{02443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ decimal\_point,\ grouping);}
\DoxyCodeLine{02444\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ num\_zeros\ >\ 0\ ?\ detail::fill\_n(it,\ num\_zeros,\ zero)\ :\ it;}
\DoxyCodeLine{02445\ \ \ \ \ \});}
\DoxyCodeLine{02446\ \ \ \}}
\DoxyCodeLine{02447\ \ \ \textcolor{comment}{//\ 1234e-\/6\ -\/>\ 0.001234}}
\DoxyCodeLine{02448\ \ \ \textcolor{keywordtype}{int}\ num\_zeros\ =\ -\/exp;}
\DoxyCodeLine{02449\ \ \ \textcolor{keywordflow}{if}\ (significand\_size\ ==\ 0\ \&\&\ fspecs.precision\ >=\ 0\ \&\&}
\DoxyCodeLine{02450\ \ \ \ \ \ \ fspecs.precision\ <\ num\_zeros)\ \{}
\DoxyCodeLine{02451\ \ \ \ \ num\_zeros\ =\ fspecs.precision;}
\DoxyCodeLine{02452\ \ \ \}}
\DoxyCodeLine{02453\ \ \ \textcolor{keywordtype}{bool}\ pointy\ =\ num\_zeros\ !=\ 0\ ||\ significand\_size\ !=\ 0\ ||\ fspecs.showpoint;}
\DoxyCodeLine{02454\ \ \ size\ +=\ 1\ +\ (pointy\ ?\ 1\ :\ 0)\ +\ to\_unsigned(num\_zeros);}
\DoxyCodeLine{02455\ \ \ \textcolor{keywordflow}{return}\ write\_padded<align::right>(out,\ specs,\ size,\ [\&](iterator\ it)\ \{}
\DoxyCodeLine{02456\ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)\ *it++\ =\ detail::sign<Char>(sign);}
\DoxyCodeLine{02457\ \ \ \ \ *it++\ =\ zero;}
\DoxyCodeLine{02458\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pointy)\ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{02459\ \ \ \ \ *it++\ =\ decimal\_point;}
\DoxyCodeLine{02460\ \ \ \ \ it\ =\ detail::fill\_n(it,\ num\_zeros,\ zero);}
\DoxyCodeLine{02461\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_significand<Char>(it,\ significand,\ significand\_size);}
\DoxyCodeLine{02462\ \ \ \});}
\DoxyCodeLine{02463\ \}}
\DoxyCodeLine{02464\ }
\DoxyCodeLine{02465\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classfallback__digit__grouping}{fallback\_digit\_grouping}}\ \{}
\DoxyCodeLine{02466\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02467\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classfallback__digit__grouping}{fallback\_digit\_grouping}}(\mbox{\hyperlink{classlocale__ref}{locale\_ref}},\ \textcolor{keywordtype}{bool})\ \{\}}
\DoxyCodeLine{02468\ }
\DoxyCodeLine{02469\ \ \ \textcolor{keyword}{constexpr}\ Char\ separator()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Char();\ \}}
\DoxyCodeLine{02470\ }
\DoxyCodeLine{02471\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ count\_separators(\textcolor{keywordtype}{int})\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{02472\ }
\DoxyCodeLine{02473\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Out,\ \textcolor{keyword}{typename}\ C>}
\DoxyCodeLine{02474\ \ \ \textcolor{keyword}{constexpr}\ Out\ apply(Out\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<C>}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02475\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{02476\ \ \ \}}
\DoxyCodeLine{02477\ \};}
\DoxyCodeLine{02478\ }
\DoxyCodeLine{02479\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ DecimalFP,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{02480\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write\_float(OutputIt\ out,\ \textcolor{keyword}{const}\ DecimalFP\&\ f,}
\DoxyCodeLine{02481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{02482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structfloat__specs}{float\_specs}}\ fspecs,\ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)}
\DoxyCodeLine{02483\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{02484\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \{}
\DoxyCodeLine{02485\ \ \ \ \ \textcolor{keywordflow}{return}\ do\_write\_float<OutputIt,\ DecimalFP,\ Char,}
\DoxyCodeLine{02486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfallback__digit__grouping}{fallback\_digit\_grouping<Char>}}>(out,\ f,\ specs,\ fspecs,}
\DoxyCodeLine{02487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ loc);}
\DoxyCodeLine{02488\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02489\ \ \ \ \ \textcolor{keywordflow}{return}\ do\_write\_float(out,\ f,\ specs,\ fspecs,\ loc);}
\DoxyCodeLine{02490\ \ \ \}}
\DoxyCodeLine{02491\ \}}
\DoxyCodeLine{02492\ }
\DoxyCodeLine{02493\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ isnan(T\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{02494\ \ \ \textcolor{keywordflow}{return}\ !(\mbox{\hyperlink{classvalue}{value}}\ >=\ \mbox{\hyperlink{classvalue}{value}});\ \ \textcolor{comment}{//\ std::isnan\ doesn't\ support\ \_\_float128.}}
\DoxyCodeLine{02495\ \}}
\DoxyCodeLine{02496\ }
\DoxyCodeLine{02497\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Enable\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{02498\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhas__isfinite}{has\_isfinite}}\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{02499\ }
\DoxyCodeLine{02500\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{02501\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhas__isfinite}{has\_isfinite}}<T,\ enable\_if\_t<sizeof(std::isfinite(T()))\ !=\ 0>>}
\DoxyCodeLine{02502\ \ \ \ \ :\ std::true\_type\ \{\};}
\DoxyCodeLine{02503\ }
\DoxyCodeLine{02504\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(std::is\_\textcolor{keywordtype}{float}ing\_po\textcolor{keywordtype}{int}<T>::value\&\&}
\DoxyCodeLine{02505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ has\_isfinite<T>::value)>}
\DoxyCodeLine{02506\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{bool}\ isfinite(T\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{02507\ \ \ \textcolor{keyword}{constexpr}\ T\ inf\ =\ T(std::numeric\_limits<double>::infinity());}
\DoxyCodeLine{02508\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())}
\DoxyCodeLine{02509\ \ \ \ \ \textcolor{keywordflow}{return}\ !detail::isnan(\mbox{\hyperlink{classvalue}{value}})\ \&\&\ \mbox{\hyperlink{classvalue}{value}}\ !=\ inf\ \&\&\ \mbox{\hyperlink{classvalue}{value}}\ !=\ -\/inf;}
\DoxyCodeLine{02510\ \ \ \textcolor{keywordflow}{return}\ std::isfinite(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{02511\ \}}
\DoxyCodeLine{02512\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!has\_isfinite<T>::value)>}
\DoxyCodeLine{02513\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{bool}\ isfinite(T\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{02514\ \ \ T\ inf\ =\ T(std::numeric\_limits<double>::infinity());}
\DoxyCodeLine{02515\ \ \ \textcolor{comment}{//\ std::isfinite\ doesn't\ support\ \_\_float128.}}
\DoxyCodeLine{02516\ \ \ \textcolor{keywordflow}{return}\ !detail::isnan(\mbox{\hyperlink{classvalue}{value}})\ \&\&\ \mbox{\hyperlink{classvalue}{value}}\ !=\ inf\ \&\&\ \mbox{\hyperlink{classvalue}{value}}\ !=\ -\/inf;}
\DoxyCodeLine{02517\ \}}
\DoxyCodeLine{02518\ }
\DoxyCodeLine{02519\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{float}ing\_po\textcolor{keywordtype}{int}<T>::value)>}
\DoxyCodeLine{02520\ FMT\_INLINE\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{bool}\ signbit(T\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{02521\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())\ \{}
\DoxyCodeLine{02522\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_if\_constexpr}}
\DoxyCodeLine{02523\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::numeric\_limits<double>::is\_iec559)\ \{}
\DoxyCodeLine{02524\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ bits\ =\ detail::bit\_cast<uint64\_t>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{02525\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (bits\ >>\ (num\_bits<uint64\_t>()\ -\/\ 1))\ !=\ 0;}
\DoxyCodeLine{02526\ \ \ \ \ \}}
\DoxyCodeLine{02527\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02528\ \ \ \}}
\DoxyCodeLine{02529\ \ \ \textcolor{keywordflow}{return}\ std::signbit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{02530\ \}}
\DoxyCodeLine{02531\ }
\DoxyCodeLine{02532\ \textcolor{keyword}{enum\ class}\ round\_direction\ \{\ unknown,\ up,\ down\ \};}
\DoxyCodeLine{02533\ }
\DoxyCodeLine{02534\ \textcolor{comment}{//\ Given\ the\ divisor\ (normally\ a\ power\ of\ 10),\ the\ remainder\ =\ v\ \%\ divisor\ for}}
\DoxyCodeLine{02535\ \textcolor{comment}{//\ some\ number\ v\ and\ the\ error,\ returns\ whether\ v\ should\ be\ rounded\ up,\ down,\ or}}
\DoxyCodeLine{02536\ \textcolor{comment}{//\ whether\ the\ rounding\ direction\ can't\ be\ determined\ due\ to\ error.}}
\DoxyCodeLine{02537\ \textcolor{comment}{//\ error\ should\ be\ less\ than\ divisor\ /\ 2.}}
\DoxyCodeLine{02538\ FMT\_CONSTEXPR\ \textcolor{keyword}{inline}\ round\_direction\ get\_round\_direction(uint64\_t\ divisor,}
\DoxyCodeLine{02539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint64\_t\ remainder,}
\DoxyCodeLine{02540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint64\_t\ error)\ \{}
\DoxyCodeLine{02541\ \ \ FMT\_ASSERT(remainder\ <\ divisor,\ \textcolor{stringliteral}{"{}"{}});\ \ \textcolor{comment}{//\ divisor\ -\/\ remainder\ won't\ overflow.}}
\DoxyCodeLine{02542\ \ \ FMT\_ASSERT(error\ <\ divisor,\ \textcolor{stringliteral}{"{}"{}});\ \ \ \ \ \ \textcolor{comment}{//\ divisor\ -\/\ error\ won't\ overflow.}}
\DoxyCodeLine{02543\ \ \ FMT\_ASSERT(error\ <\ divisor\ -\/\ error,\ \textcolor{stringliteral}{"{}"{}});\ \ \textcolor{comment}{//\ error\ *\ 2\ won't\ overflow.}}
\DoxyCodeLine{02544\ \ \ \textcolor{comment}{//\ Round\ down\ if\ (remainder\ +\ error)\ *\ 2\ <=\ divisor.}}
\DoxyCodeLine{02545\ \ \ \textcolor{keywordflow}{if}\ (remainder\ <=\ divisor\ -\/\ remainder\ \&\&\ error\ *\ 2\ <=\ divisor\ -\/\ remainder\ *\ 2)}
\DoxyCodeLine{02546\ \ \ \ \ \textcolor{keywordflow}{return}\ round\_direction::down;}
\DoxyCodeLine{02547\ \ \ \textcolor{comment}{//\ Round\ up\ if\ (remainder\ -\/\ error)\ *\ 2\ >=\ divisor.}}
\DoxyCodeLine{02548\ \ \ \textcolor{keywordflow}{if}\ (remainder\ >=\ error\ \&\&}
\DoxyCodeLine{02549\ \ \ \ \ \ \ remainder\ -\/\ error\ >=\ divisor\ -\/\ (remainder\ -\/\ error))\ \{}
\DoxyCodeLine{02550\ \ \ \ \ \textcolor{keywordflow}{return}\ round\_direction::up;}
\DoxyCodeLine{02551\ \ \ \}}
\DoxyCodeLine{02552\ \ \ \textcolor{keywordflow}{return}\ round\_direction::unknown;}
\DoxyCodeLine{02553\ \}}
\DoxyCodeLine{02554\ }
\DoxyCodeLine{02555\ \textcolor{keyword}{namespace\ }digits\ \{}
\DoxyCodeLine{02556\ \textcolor{keyword}{enum}\ result\ \{}
\DoxyCodeLine{02557\ \ \ more,\ \ \textcolor{comment}{//\ Generate\ more\ digits.}}
\DoxyCodeLine{02558\ \ \ done,\ \ \textcolor{comment}{//\ Done\ generating\ digits.}}
\DoxyCodeLine{02559\ \ \ error\ \ \textcolor{comment}{//\ Digit\ generation\ cancelled\ due\ to\ an\ error.}}
\DoxyCodeLine{02560\ \};}
\DoxyCodeLine{02561\ \}}
\DoxyCodeLine{02562\ }
\DoxyCodeLine{02563\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structgen__digits__handler}{gen\_digits\_handler}}\ \{}
\DoxyCodeLine{02564\ \ \ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{structbuf}{buf}};}
\DoxyCodeLine{02565\ \ \ \textcolor{keywordtype}{int}\ size;}
\DoxyCodeLine{02566\ \ \ \textcolor{keywordtype}{int}\ precision;}
\DoxyCodeLine{02567\ \ \ \textcolor{keywordtype}{int}\ exp10;}
\DoxyCodeLine{02568\ \ \ \textcolor{keywordtype}{bool}\ fixed;}
\DoxyCodeLine{02569\ }
\DoxyCodeLine{02570\ \ \ FMT\_CONSTEXPR\ digits::result\ on\_digit(\textcolor{keywordtype}{char}\ digit,\ uint64\_t\ divisor,}
\DoxyCodeLine{02571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint64\_t\ remainder,\ uint64\_t\ error,}
\DoxyCodeLine{02572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ integral)\ \{}
\DoxyCodeLine{02573\ \ \ \ \ FMT\_ASSERT(remainder\ <\ divisor,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02574\ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}[size++]\ =\ digit;}
\DoxyCodeLine{02575\ \ \ \ \ \textcolor{keywordflow}{if}\ (!integral\ \&\&\ error\ >=\ remainder)\ \textcolor{keywordflow}{return}\ digits::error;}
\DoxyCodeLine{02576\ \ \ \ \ \textcolor{keywordflow}{if}\ (size\ <\ precision)\ \textcolor{keywordflow}{return}\ digits::more;}
\DoxyCodeLine{02577\ \ \ \ \ \textcolor{keywordflow}{if}\ (!integral)\ \{}
\DoxyCodeLine{02578\ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ error\ *\ 2\ <\ divisor\ with\ overflow\ prevention.}}
\DoxyCodeLine{02579\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ check\ is\ not\ needed\ for\ the\ integral\ part\ because\ error\ =\ 1}}
\DoxyCodeLine{02580\ \ \ \ \ \ \ \textcolor{comment}{//\ and\ divisor\ >\ (1\ <<\ 32)\ there.}}
\DoxyCodeLine{02581\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (error\ >=\ divisor\ ||\ error\ >=\ divisor\ -\/\ error)\ \textcolor{keywordflow}{return}\ digits::error;}
\DoxyCodeLine{02582\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02583\ \ \ \ \ \ \ FMT\_ASSERT(error\ ==\ 1\ \&\&\ divisor\ >\ 2,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02584\ \ \ \ \ \}}
\DoxyCodeLine{02585\ \ \ \ \ \textcolor{keyword}{auto}\ dir\ =\ get\_round\_direction(divisor,\ remainder,\ error);}
\DoxyCodeLine{02586\ \ \ \ \ \textcolor{keywordflow}{if}\ (dir\ !=\ round\_direction::up)}
\DoxyCodeLine{02587\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ dir\ ==\ round\_direction::down\ ?\ digits::done\ :\ digits::error;}
\DoxyCodeLine{02588\ \ \ \ \ ++\mbox{\hyperlink{structbuf}{buf}}[size\ -\/\ 1];}
\DoxyCodeLine{02589\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ size\ -\/\ 1;\ i\ >\ 0\ \&\&\ \mbox{\hyperlink{structbuf}{buf}}[i]\ >\ \textcolor{charliteral}{'9'};\ -\/-\/i)\ \{}
\DoxyCodeLine{02590\ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}[i]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{02591\ \ \ \ \ \ \ ++\mbox{\hyperlink{structbuf}{buf}}[i\ -\/\ 1];}
\DoxyCodeLine{02592\ \ \ \ \ \}}
\DoxyCodeLine{02593\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structbuf}{buf}}[0]\ >\ \textcolor{charliteral}{'9'})\ \{}
\DoxyCodeLine{02594\ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}[0]\ =\ \textcolor{charliteral}{'1'};}
\DoxyCodeLine{02595\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fixed)}
\DoxyCodeLine{02596\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}[size++]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{02597\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{02598\ \ \ \ \ \ \ \ \ ++exp10;}
\DoxyCodeLine{02599\ \ \ \ \ \}}
\DoxyCodeLine{02600\ \ \ \ \ \textcolor{keywordflow}{return}\ digits::done;}
\DoxyCodeLine{02601\ \ \ \}}
\DoxyCodeLine{02602\ \};}
\DoxyCodeLine{02603\ }
\DoxyCodeLine{02604\ \textcolor{keyword}{inline}\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ adjust\_precision(\textcolor{keywordtype}{int}\&\ precision,\ \textcolor{keywordtype}{int}\ exp10)\ \{}
\DoxyCodeLine{02605\ \ \ \textcolor{comment}{//\ Adjust\ fixed\ precision\ by\ exponent\ because\ it\ is\ relative\ to\ decimal}}
\DoxyCodeLine{02606\ \ \ \textcolor{comment}{//\ point.}}
\DoxyCodeLine{02607\ \ \ \textcolor{keywordflow}{if}\ (exp10\ >\ 0\ \&\&\ precision\ >\ max\_value<int>()\ -\/\ exp10)}
\DoxyCodeLine{02608\ \ \ \ \ FMT\_THROW(\mbox{\hyperlink{classformat__error}{format\_error}}(\textcolor{stringliteral}{"{}number\ is\ too\ big"{}}));}
\DoxyCodeLine{02609\ \ \ precision\ +=\ exp10;}
\DoxyCodeLine{02610\ \}}
\DoxyCodeLine{02611\ }
\DoxyCodeLine{02612\ \textcolor{comment}{//\ Generates\ output\ using\ the\ Grisu\ digit-\/gen\ algorithm.}}
\DoxyCodeLine{02613\ \textcolor{comment}{//\ error:\ the\ size\ of\ the\ region\ (lower,\ upper)\ outside\ of\ which\ numbers}}
\DoxyCodeLine{02614\ \textcolor{comment}{//\ definitely\ do\ not\ round\ to\ value\ (Delta\ in\ Grisu3).}}
\DoxyCodeLine{02615\ FMT\_INLINE\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ grisu\_gen\_digits(\mbox{\hyperlink{structbasic__fp}{fp}}\ \mbox{\hyperlink{classvalue}{value}},\ uint64\_t\ error,}
\DoxyCodeLine{02616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\&\ exp,}
\DoxyCodeLine{02617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgen__digits__handler}{gen\_digits\_handler}}\&\ handler)}
\DoxyCodeLine{02618\ \ \ \ \ -\/>\ digits::result\ \{}
\DoxyCodeLine{02619\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__fp}{fp}}\ one(1ULL\ <<\ -\/\mbox{\hyperlink{classvalue}{value}}.e,\ \mbox{\hyperlink{classvalue}{value}}.e);}
\DoxyCodeLine{02620\ \ \ \textcolor{comment}{//\ The\ integral\ part\ of\ scaled\ value\ (p1\ in\ Grisu)\ =\ value\ /\ one.\ It\ cannot\ be}}
\DoxyCodeLine{02621\ \ \ \textcolor{comment}{//\ zero\ because\ it\ contains\ a\ product\ of\ two\ 64-\/bit\ numbers\ with\ MSB\ set\ (due}}
\DoxyCodeLine{02622\ \ \ \textcolor{comment}{//\ to\ normalization)\ -\/\ 1,\ shifted\ right\ by\ at\ most\ 60\ bits.}}
\DoxyCodeLine{02623\ \ \ \textcolor{keyword}{auto}\ integral\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}.f\ >>\ -\/one.e);}
\DoxyCodeLine{02624\ \ \ FMT\_ASSERT(integral\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02625\ \ \ FMT\_ASSERT(integral\ ==\ \mbox{\hyperlink{classvalue}{value}}.f\ >>\ -\/one.e,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02626\ \ \ \textcolor{comment}{//\ The\ fractional\ part\ of\ scaled\ value\ (p2\ in\ Grisu)\ c\ =\ value\ \%\ one.}}
\DoxyCodeLine{02627\ \ \ uint64\_t\ fractional\ =\ \mbox{\hyperlink{classvalue}{value}}.f\ \&\ (one.f\ -\/\ 1);}
\DoxyCodeLine{02628\ \ \ exp\ =\ count\_digits(integral);\ \ \textcolor{comment}{//\ kappa\ in\ Grisu.}}
\DoxyCodeLine{02629\ \ \ \textcolor{comment}{//\ Non-\/fixed\ formats\ require\ at\ least\ one\ digit\ and\ no\ precision\ adjustment.}}
\DoxyCodeLine{02630\ \ \ \textcolor{keywordflow}{if}\ (handler.fixed)\ \{}
\DoxyCodeLine{02631\ \ \ \ \ adjust\_precision(handler.precision,\ exp\ +\ handler.exp10);}
\DoxyCodeLine{02632\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ precision\ is\ satisfied\ just\ by\ leading\ zeros,\ e.g.}}
\DoxyCodeLine{02633\ \ \ \ \ \textcolor{comment}{//\ format("{}\{:.2f\}"{},\ 0.001)\ gives\ "{}0.00"{}\ without\ generating\ any\ digits.}}
\DoxyCodeLine{02634\ \ \ \ \ \textcolor{keywordflow}{if}\ (handler.precision\ <=\ 0)\ \{}
\DoxyCodeLine{02635\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (handler.precision\ <\ 0)\ \textcolor{keywordflow}{return}\ digits::done;}
\DoxyCodeLine{02636\ \ \ \ \ \ \ \textcolor{comment}{//\ Divide\ by\ 10\ to\ prevent\ overflow.}}
\DoxyCodeLine{02637\ \ \ \ \ \ \ uint64\_t\ divisor\ =\ data::power\_of\_10\_64[exp\ -\/\ 1]\ <<\ -\/one.e;}
\DoxyCodeLine{02638\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ dir\ =\ get\_round\_direction(divisor,\ \mbox{\hyperlink{classvalue}{value}}.f\ /\ 10,\ error\ *\ 10);}
\DoxyCodeLine{02639\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dir\ ==\ round\_direction::unknown)\ \textcolor{keywordflow}{return}\ digits::error;}
\DoxyCodeLine{02640\ \ \ \ \ \ \ handler.buf[handler.size++]\ =\ dir\ ==\ round\_direction::up\ ?\ \textcolor{charliteral}{'1'}\ :\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{02641\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ digits::done;}
\DoxyCodeLine{02642\ \ \ \ \ \}}
\DoxyCodeLine{02643\ \ \ \}}
\DoxyCodeLine{02644\ \ \ \textcolor{comment}{//\ Generate\ digits\ for\ the\ integral\ part.\ This\ can\ produce\ up\ to\ 10\ digits.}}
\DoxyCodeLine{02645\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{02646\ \ \ \ \ uint32\_t\ digit\ =\ 0;}
\DoxyCodeLine{02647\ \ \ \ \ \textcolor{keyword}{auto}\ divmod\_integral\ =\ [\&](uint32\_t\ divisor)\ \{}
\DoxyCodeLine{02648\ \ \ \ \ \ \ digit\ =\ integral\ /\ divisor;}
\DoxyCodeLine{02649\ \ \ \ \ \ \ integral\ \%=\ divisor;}
\DoxyCodeLine{02650\ \ \ \ \ \};}
\DoxyCodeLine{02651\ \ \ \ \ \textcolor{comment}{//\ This\ optimization\ by\ Milo\ Yip\ reduces\ the\ number\ of\ integer\ divisions\ by}}
\DoxyCodeLine{02652\ \ \ \ \ \textcolor{comment}{//\ one\ per\ iteration.}}
\DoxyCodeLine{02653\ \ \ \ \ \textcolor{keywordflow}{switch}\ (exp)\ \{}
\DoxyCodeLine{02654\ \ \ \ \ \textcolor{keywordflow}{case}\ 10:}
\DoxyCodeLine{02655\ \ \ \ \ \ \ divmod\_integral(1000000000);}
\DoxyCodeLine{02656\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02657\ \ \ \ \ \textcolor{keywordflow}{case}\ 9:}
\DoxyCodeLine{02658\ \ \ \ \ \ \ divmod\_integral(100000000);}
\DoxyCodeLine{02659\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02660\ \ \ \ \ \textcolor{keywordflow}{case}\ 8:}
\DoxyCodeLine{02661\ \ \ \ \ \ \ divmod\_integral(10000000);}
\DoxyCodeLine{02662\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02663\ \ \ \ \ \textcolor{keywordflow}{case}\ 7:}
\DoxyCodeLine{02664\ \ \ \ \ \ \ divmod\_integral(1000000);}
\DoxyCodeLine{02665\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02666\ \ \ \ \ \textcolor{keywordflow}{case}\ 6:}
\DoxyCodeLine{02667\ \ \ \ \ \ \ divmod\_integral(100000);}
\DoxyCodeLine{02668\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02669\ \ \ \ \ \textcolor{keywordflow}{case}\ 5:}
\DoxyCodeLine{02670\ \ \ \ \ \ \ divmod\_integral(10000);}
\DoxyCodeLine{02671\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02672\ \ \ \ \ \textcolor{keywordflow}{case}\ 4:}
\DoxyCodeLine{02673\ \ \ \ \ \ \ divmod\_integral(1000);}
\DoxyCodeLine{02674\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02675\ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{02676\ \ \ \ \ \ \ divmod\_integral(100);}
\DoxyCodeLine{02677\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02678\ \ \ \ \ \textcolor{keywordflow}{case}\ 2:}
\DoxyCodeLine{02679\ \ \ \ \ \ \ divmod\_integral(10);}
\DoxyCodeLine{02680\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02681\ \ \ \ \ \textcolor{keywordflow}{case}\ 1:}
\DoxyCodeLine{02682\ \ \ \ \ \ \ digit\ =\ integral;}
\DoxyCodeLine{02683\ \ \ \ \ \ \ integral\ =\ 0;}
\DoxyCodeLine{02684\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{02685\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02686\ \ \ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}invalid\ number\ of\ digits"{}});}
\DoxyCodeLine{02687\ \ \ \ \ \}}
\DoxyCodeLine{02688\ \ \ \ \ -\/-\/exp;}
\DoxyCodeLine{02689\ \ \ \ \ \textcolor{keyword}{auto}\ remainder\ =\ (\textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(integral)\ <<\ -\/one.e)\ +\ fractional;}
\DoxyCodeLine{02690\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ handler.on\_digit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ digit),}
\DoxyCodeLine{02691\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data::power\_of\_10\_64[exp]\ <<\ -\/one.e,}
\DoxyCodeLine{02692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remainder,\ error,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02693\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ !=\ digits::more)\ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{02694\ \ \ \}\ \textcolor{keywordflow}{while}\ (exp\ >\ 0);}
\DoxyCodeLine{02695\ \ \ \textcolor{comment}{//\ Generate\ digits\ for\ the\ fractional\ part.}}
\DoxyCodeLine{02696\ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{02697\ \ \ \ \ fractional\ *=\ 10;}
\DoxyCodeLine{02698\ \ \ \ \ error\ *=\ 10;}
\DoxyCodeLine{02699\ \ \ \ \ \textcolor{keywordtype}{char}\ digit\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ (fractional\ >>\ -\/one.e));}
\DoxyCodeLine{02700\ \ \ \ \ fractional\ \&=\ one.f\ -\/\ 1;}
\DoxyCodeLine{02701\ \ \ \ \ -\/-\/exp;}
\DoxyCodeLine{02702\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ handler.on\_digit(digit,\ one.f,\ fractional,\ error,\ \textcolor{keyword}{false});}
\DoxyCodeLine{02703\ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ !=\ digits::more)\ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{02704\ \ \ \}}
\DoxyCodeLine{02705\ \}}
\DoxyCodeLine{02706\ }
\DoxyCodeLine{02707\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbigint}{bigint}}\ \{}
\DoxyCodeLine{02708\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{02709\ \ \ \textcolor{comment}{//\ A\ bigint\ is\ stored\ as\ an\ array\ of\ bigits\ (big\ digits),\ with\ bigit\ at\ index}}
\DoxyCodeLine{02710\ \ \ \textcolor{comment}{//\ 0\ being\ the\ least\ significant\ one.}}
\DoxyCodeLine{02711\ \ \ \textcolor{keyword}{using\ }bigit\ =\ uint32\_t;}
\DoxyCodeLine{02712\ \ \ \textcolor{keyword}{using\ }double\_bigit\ =\ uint64\_t;}
\DoxyCodeLine{02713\ \ \ \textcolor{keyword}{enum}\ \{\ bigits\_capacity\ =\ 32\ \};}
\DoxyCodeLine{02714\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<bigit,\ bigits\_capacity>}}\ bigits\_;}
\DoxyCodeLine{02715\ \ \ \textcolor{keywordtype}{int}\ exp\_;}
\DoxyCodeLine{02716\ }
\DoxyCodeLine{02717\ \ \ FMT\_CONSTEXPR20\ bigit\ operator[](\textcolor{keywordtype}{int}\ index)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02718\ \ \ \ \ \textcolor{keywordflow}{return}\ bigits\_[to\_unsigned(index)];}
\DoxyCodeLine{02719\ \ \ \}}
\DoxyCodeLine{02720\ \ \ FMT\_CONSTEXPR20\ bigit\&\ operator[](\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{02721\ \ \ \ \ \textcolor{keywordflow}{return}\ bigits\_[to\_unsigned(index)];}
\DoxyCodeLine{02722\ \ \ \}}
\DoxyCodeLine{02723\ }
\DoxyCodeLine{02724\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ bigit\_bits\ =\ num\_bits<bigit>();}
\DoxyCodeLine{02725\ }
\DoxyCodeLine{02726\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{classbigint}{bigint}}>;}
\DoxyCodeLine{02727\ }
\DoxyCodeLine{02728\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ subtract\_bigits(\textcolor{keywordtype}{int}\ index,\ bigit\ other,\ bigit\&\ borrow)\ \{}
\DoxyCodeLine{02729\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \textcolor{keyword}{static\_cast<}double\_bigit\textcolor{keyword}{>}((*this)[index])\ -\/\ other\ -\/\ borrow;}
\DoxyCodeLine{02730\ \ \ \ \ (*this)[index]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result);}
\DoxyCodeLine{02731\ \ \ \ \ borrow\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result\ >>\ (bigit\_bits\ *\ 2\ -\/\ 1));}
\DoxyCodeLine{02732\ \ \ \}}
\DoxyCodeLine{02733\ }
\DoxyCodeLine{02734\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ remove\_leading\_zeros()\ \{}
\DoxyCodeLine{02735\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_bigits\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bigits\_.size())\ -\/\ 1;}
\DoxyCodeLine{02736\ \ \ \ \ \textcolor{keywordflow}{while}\ (num\_bigits\ >\ 0\ \&\&\ (*\textcolor{keyword}{this})[num\_bigits]\ ==\ 0)\ -\/-\/num\_bigits;}
\DoxyCodeLine{02737\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(to\_unsigned(num\_bigits\ +\ 1));}
\DoxyCodeLine{02738\ \ \ \}}
\DoxyCodeLine{02739\ }
\DoxyCodeLine{02740\ \ \ \textcolor{comment}{//\ Computes\ *this\ -\/=\ other\ assuming\ aligned\ bigints\ and\ *this\ >=\ other.}}
\DoxyCodeLine{02741\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ subtract\_aligned(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ other)\ \{}
\DoxyCodeLine{02742\ \ \ \ \ FMT\_ASSERT(other.exp\_\ >=\ exp\_,\ \textcolor{stringliteral}{"{}unaligned\ bigints"{}});}
\DoxyCodeLine{02743\ \ \ \ \ FMT\_ASSERT(\mbox{\hyperlink{namespacecompare}{compare}}(*\textcolor{keyword}{this},\ other)\ >=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02744\ \ \ \ \ bigit\ borrow\ =\ 0;}
\DoxyCodeLine{02745\ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ other.exp\_\ -\/\ exp\_;}
\DoxyCodeLine{02746\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ 0,\ n\ =\ other.bigits\_.size();\ j\ !=\ n;\ ++i,\ ++j)}
\DoxyCodeLine{02747\ \ \ \ \ \ \ subtract\_bigits(i,\ other.bigits\_[j],\ borrow);}
\DoxyCodeLine{02748\ \ \ \ \ \textcolor{keywordflow}{while}\ (borrow\ >\ 0)\ subtract\_bigits(i,\ 0,\ borrow);}
\DoxyCodeLine{02749\ \ \ \ \ remove\_leading\_zeros();}
\DoxyCodeLine{02750\ \ \ \}}
\DoxyCodeLine{02751\ }
\DoxyCodeLine{02752\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ multiply(uint32\_t\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{02753\ \ \ \ \ \textcolor{keyword}{const}\ double\_bigit\ wide\_value\ =\ \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{02754\ \ \ \ \ bigit\ carry\ =\ 0;}
\DoxyCodeLine{02755\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ n\ =\ bigits\_.size();\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{02756\ \ \ \ \ \ \ double\_bigit\ result\ =\ bigits\_[i]\ *\ wide\_value\ +\ carry;}
\DoxyCodeLine{02757\ \ \ \ \ \ \ bigits\_[i]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result);}
\DoxyCodeLine{02758\ \ \ \ \ \ \ carry\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result\ >>\ bigit\_bits);}
\DoxyCodeLine{02759\ \ \ \ \ \}}
\DoxyCodeLine{02760\ \ \ \ \ \textcolor{keywordflow}{if}\ (carry\ !=\ 0)\ bigits\_.push\_back(carry);}
\DoxyCodeLine{02761\ \ \ \}}
\DoxyCodeLine{02762\ }
\DoxyCodeLine{02763\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt,\ FMT\_ENABLE\_IF(std::is\_same<UInt,\ u\textcolor{keywordtype}{int}64\_t>::value\ ||}
\DoxyCodeLine{02764\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<UInt,\ u\textcolor{keywordtype}{int}128\_t>::value)>}
\DoxyCodeLine{02765\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ multiply(UInt\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{02766\ \ \ \ \ \textcolor{keyword}{using\ }half\_uint\ =}
\DoxyCodeLine{02767\ \ \ \ \ \ \ \ \ conditional\_t<std::is\_same<UInt,\ uint128\_t>::value,\ uint64\_t,\ uint32\_t>;}
\DoxyCodeLine{02768\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ shift\ =\ num\_bits<half\_uint>()\ -\/\ bigit\_bits;}
\DoxyCodeLine{02769\ \ \ \ \ \textcolor{keyword}{const}\ UInt\ lower\ =\ \textcolor{keyword}{static\_cast<}half\_uint\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{02770\ \ \ \ \ \textcolor{keyword}{const}\ UInt\ upper\ =\ \mbox{\hyperlink{classvalue}{value}}\ >>\ num\_bits<half\_uint>();}
\DoxyCodeLine{02771\ \ \ \ \ UInt\ carry\ =\ 0;}
\DoxyCodeLine{02772\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ n\ =\ bigits\_.size();\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{02773\ \ \ \ \ \ \ UInt\ result\ =\ lower\ *\ bigits\_[i]\ +\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(carry);}
\DoxyCodeLine{02774\ \ \ \ \ \ \ carry\ =\ (upper\ *\ bigits\_[i]\ <<\ shift)\ +\ (result\ >>\ bigit\_bits)\ +}
\DoxyCodeLine{02775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (carry\ >>\ bigit\_bits);}
\DoxyCodeLine{02776\ \ \ \ \ \ \ bigits\_[i]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(result);}
\DoxyCodeLine{02777\ \ \ \ \ \}}
\DoxyCodeLine{02778\ \ \ \ \ \textcolor{keywordflow}{while}\ (carry\ !=\ 0)\ \{}
\DoxyCodeLine{02779\ \ \ \ \ \ \ bigits\_.push\_back(\textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(carry));}
\DoxyCodeLine{02780\ \ \ \ \ \ \ carry\ >>=\ bigit\_bits;}
\DoxyCodeLine{02781\ \ \ \ \ \}}
\DoxyCodeLine{02782\ \ \ \}}
\DoxyCodeLine{02783\ }
\DoxyCodeLine{02784\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt,\ FMT\_ENABLE\_IF(std::is\_same<UInt,\ u\textcolor{keywordtype}{int}64\_t>::value\ ||}
\DoxyCodeLine{02785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same<UInt,\ u\textcolor{keywordtype}{int}128\_t>::value)>}
\DoxyCodeLine{02786\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ assign(UInt\ n)\ \{}
\DoxyCodeLine{02787\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ num\_bigits\ =\ 0;}
\DoxyCodeLine{02788\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{02789\ \ \ \ \ \ \ bigits\_[num\_bigits++]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(n);}
\DoxyCodeLine{02790\ \ \ \ \ \ \ n\ >>=\ bigit\_bits;}
\DoxyCodeLine{02791\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (n\ !=\ 0);}
\DoxyCodeLine{02792\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(num\_bigits);}
\DoxyCodeLine{02793\ \ \ \ \ exp\_\ =\ 0;}
\DoxyCodeLine{02794\ \ \ \}}
\DoxyCodeLine{02795\ }
\DoxyCodeLine{02796\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{02797\ \ \ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classbigint}{bigint}}()\ :\ exp\_(0)\ \{\}}
\DoxyCodeLine{02798\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classbigint}{bigint}}(uint64\_t\ n)\ \{\ assign(n);\ \}}
\DoxyCodeLine{02799\ }
\DoxyCodeLine{02800\ \ \ \mbox{\hyperlink{classbigint}{bigint}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02801\ \ \ \textcolor{keywordtype}{void}\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{02802\ }
\DoxyCodeLine{02803\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ assign(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ other)\ \{}
\DoxyCodeLine{02804\ \ \ \ \ \textcolor{keyword}{auto}\ size\ =\ other.bigits\_.size();}
\DoxyCodeLine{02805\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(size);}
\DoxyCodeLine{02806\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structdata}{data}}\ =\ other.bigits\_.data();}
\DoxyCodeLine{02807\ \ \ \ \ std::copy(\mbox{\hyperlink{structdata}{data}},\ \mbox{\hyperlink{structdata}{data}}\ +\ size,\ make\_checked(bigits\_.data(),\ size));}
\DoxyCodeLine{02808\ \ \ \ \ exp\_\ =\ other.exp\_;}
\DoxyCodeLine{02809\ \ \ \}}
\DoxyCodeLine{02810\ }
\DoxyCodeLine{02811\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ operator=(Int\ n)\ \{}
\DoxyCodeLine{02812\ \ \ \ \ FMT\_ASSERT(n\ >\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02813\ \ \ \ \ assign(uint64\_or\_128\_t<Int>(n));}
\DoxyCodeLine{02814\ \ \ \}}
\DoxyCodeLine{02815\ }
\DoxyCodeLine{02816\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{int}\ num\_bigits()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{02817\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bigits\_.size())\ +\ exp\_;}
\DoxyCodeLine{02818\ \ \ \}}
\DoxyCodeLine{02819\ }
\DoxyCodeLine{02820\ \ \ FMT\_NOINLINE\ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classbigint}{bigint}}\&\ operator<<=(\textcolor{keywordtype}{int}\ shift)\ \{}
\DoxyCodeLine{02821\ \ \ \ \ FMT\_ASSERT(shift\ >=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02822\ \ \ \ \ exp\_\ +=\ shift\ /\ bigit\_bits;}
\DoxyCodeLine{02823\ \ \ \ \ shift\ \%=\ bigit\_bits;}
\DoxyCodeLine{02824\ \ \ \ \ \textcolor{keywordflow}{if}\ (shift\ ==\ 0)\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02825\ \ \ \ \ bigit\ carry\ =\ 0;}
\DoxyCodeLine{02826\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0,\ n\ =\ bigits\_.size();\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{02827\ \ \ \ \ \ \ bigit\ c\ =\ bigits\_[i]\ >>\ (bigit\_bits\ -\/\ shift);}
\DoxyCodeLine{02828\ \ \ \ \ \ \ bigits\_[i]\ =\ (bigits\_[i]\ <<\ shift)\ +\ carry;}
\DoxyCodeLine{02829\ \ \ \ \ \ \ carry\ =\ c;}
\DoxyCodeLine{02830\ \ \ \ \ \}}
\DoxyCodeLine{02831\ \ \ \ \ \textcolor{keywordflow}{if}\ (carry\ !=\ 0)\ bigits\_.push\_back(carry);}
\DoxyCodeLine{02832\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02833\ \ \ \}}
\DoxyCodeLine{02834\ }
\DoxyCodeLine{02835\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>\ FMT\_CONSTEXPR20\ \mbox{\hyperlink{classbigint}{bigint}}\&\ operator*=(Int\ \mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{02836\ \ \ \ \ FMT\_ASSERT(\mbox{\hyperlink{classvalue}{value}}\ >\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02837\ \ \ \ \ multiply(uint32\_or\_64\_or\_128\_t<Int>(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{02838\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{02839\ \ \ \}}
\DoxyCodeLine{02840\ }
\DoxyCodeLine{02841\ \ \ \textcolor{keyword}{friend}\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacecompare}{compare}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ lhs,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ rhs)\ \{}
\DoxyCodeLine{02842\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_lhs\_bigits\ =\ lhs.num\_bigits(),\ num\_rhs\_bigits\ =\ rhs.num\_bigits();}
\DoxyCodeLine{02843\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_lhs\_bigits\ !=\ num\_rhs\_bigits)}
\DoxyCodeLine{02844\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ num\_lhs\_bigits\ >\ num\_rhs\_bigits\ ?\ 1\ :\ -\/1;}
\DoxyCodeLine{02845\ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(lhs.bigits\_.size())\ -\/\ 1;}
\DoxyCodeLine{02846\ \ \ \ \ \textcolor{keywordtype}{int}\ j\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(rhs.bigits\_.size())\ -\/\ 1;}
\DoxyCodeLine{02847\ \ \ \ \ \textcolor{keywordtype}{int}\ end\ =\ i\ -\/\ j;}
\DoxyCodeLine{02848\ \ \ \ \ \textcolor{keywordflow}{if}\ (end\ <\ 0)\ end\ =\ 0;}
\DoxyCodeLine{02849\ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ i\ >=\ end;\ -\/-\/i,\ -\/-\/j)\ \{}
\DoxyCodeLine{02850\ \ \ \ \ \ \ bigit\ lhs\_bigit\ =\ lhs[i],\ rhs\_bigit\ =\ rhs[j];}
\DoxyCodeLine{02851\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lhs\_bigit\ !=\ rhs\_bigit)\ \textcolor{keywordflow}{return}\ lhs\_bigit\ >\ rhs\_bigit\ ?\ 1\ :\ -\/1;}
\DoxyCodeLine{02852\ \ \ \ \ \}}
\DoxyCodeLine{02853\ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ !=\ j)\ \textcolor{keywordflow}{return}\ i\ >\ j\ ?\ 1\ :\ -\/1;}
\DoxyCodeLine{02854\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02855\ \ \ \}}
\DoxyCodeLine{02856\ }
\DoxyCodeLine{02857\ \ \ \textcolor{comment}{//\ Returns\ compare(lhs1\ +\ lhs2,\ rhs).}}
\DoxyCodeLine{02858\ \ \ \textcolor{keyword}{friend}\ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{int}\ add\_compare(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ lhs1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ lhs2,}
\DoxyCodeLine{02859\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ rhs)\ \{}
\DoxyCodeLine{02860\ \ \ \ \ \textcolor{keyword}{auto}\ minimum\ =\ [](\textcolor{keywordtype}{int}\ \mbox{\hyperlink{structa}{a}},\ \textcolor{keywordtype}{int}\ b)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structa}{a}}\ <\ b\ ?\ \mbox{\hyperlink{structa}{a}}\ :\ b;\ \};}
\DoxyCodeLine{02861\ \ \ \ \ \textcolor{keyword}{auto}\ maximum\ =\ [](\textcolor{keywordtype}{int}\ \mbox{\hyperlink{structa}{a}},\ \textcolor{keywordtype}{int}\ b)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structa}{a}}\ >\ b\ ?\ \mbox{\hyperlink{structa}{a}}\ :\ b;\ \};}
\DoxyCodeLine{02862\ \ \ \ \ \textcolor{keywordtype}{int}\ max\_lhs\_bigits\ =\ maximum(lhs1.num\_bigits(),\ lhs2.num\_bigits());}
\DoxyCodeLine{02863\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_rhs\_bigits\ =\ rhs.num\_bigits();}
\DoxyCodeLine{02864\ \ \ \ \ \textcolor{keywordflow}{if}\ (max\_lhs\_bigits\ +\ 1\ <\ num\_rhs\_bigits)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02865\ \ \ \ \ \textcolor{keywordflow}{if}\ (max\_lhs\_bigits\ >\ num\_rhs\_bigits)\ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{02866\ \ \ \ \ \textcolor{keyword}{auto}\ get\_bigit\ =\ [](\textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ n,\ \textcolor{keywordtype}{int}\ i)\ -\/>\ bigit\ \{}
\DoxyCodeLine{02867\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ i\ >=\ n.exp\_\ \&\&\ i\ <\ n.num\_bigits()\ ?\ n[i\ -\/\ n.exp\_]\ :\ 0;}
\DoxyCodeLine{02868\ \ \ \ \ \};}
\DoxyCodeLine{02869\ \ \ \ \ double\_bigit\ borrow\ =\ 0;}
\DoxyCodeLine{02870\ \ \ \ \ \textcolor{keywordtype}{int}\ min\_exp\ =\ minimum(minimum(lhs1.exp\_,\ lhs2.exp\_),\ rhs.exp\_);}
\DoxyCodeLine{02871\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ num\_rhs\_bigits\ -\/\ 1;\ i\ >=\ min\_exp;\ -\/-\/i)\ \{}
\DoxyCodeLine{02872\ \ \ \ \ \ \ double\_bigit\ sum\ =}
\DoxyCodeLine{02873\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}double\_bigit\textcolor{keyword}{>}(get\_bigit(lhs1,\ i))\ +\ get\_bigit(lhs2,\ i);}
\DoxyCodeLine{02874\ \ \ \ \ \ \ bigit\ rhs\_bigit\ =\ get\_bigit(rhs,\ i);}
\DoxyCodeLine{02875\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sum\ >\ rhs\_bigit\ +\ borrow)\ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{02876\ \ \ \ \ \ \ borrow\ =\ rhs\_bigit\ +\ borrow\ -\/\ sum;}
\DoxyCodeLine{02877\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (borrow\ >\ 1)\ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{02878\ \ \ \ \ \ \ borrow\ <<=\ bigit\_bits;}
\DoxyCodeLine{02879\ \ \ \ \ \}}
\DoxyCodeLine{02880\ \ \ \ \ \textcolor{keywordflow}{return}\ borrow\ !=\ 0\ ?\ -\/1\ :\ 0;}
\DoxyCodeLine{02881\ \ \ \}}
\DoxyCodeLine{02882\ }
\DoxyCodeLine{02883\ \ \ \textcolor{comment}{//\ Assigns\ pow(10,\ exp)\ to\ this\ bigint.}}
\DoxyCodeLine{02884\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ assign\_pow10(\textcolor{keywordtype}{int}\ exp)\ \{}
\DoxyCodeLine{02885\ \ \ \ \ FMT\_ASSERT(exp\ >=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02886\ \ \ \ \ \textcolor{keywordflow}{if}\ (exp\ ==\ 0)\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ =\ 1;}
\DoxyCodeLine{02887\ \ \ \ \ \textcolor{comment}{//\ Find\ the\ top\ bit.}}
\DoxyCodeLine{02888\ \ \ \ \ \textcolor{keywordtype}{int}\ bitmask\ =\ 1;}
\DoxyCodeLine{02889\ \ \ \ \ \textcolor{keywordflow}{while}\ (exp\ >=\ bitmask)\ bitmask\ <<=\ 1;}
\DoxyCodeLine{02890\ \ \ \ \ bitmask\ >>=\ 1;}
\DoxyCodeLine{02891\ \ \ \ \ \textcolor{comment}{//\ pow(10,\ exp)\ =\ pow(5,\ exp)\ *\ pow(2,\ exp).\ First\ compute\ pow(5,\ exp)\ by}}
\DoxyCodeLine{02892\ \ \ \ \ \textcolor{comment}{//\ repeated\ squaring\ and\ multiplication.}}
\DoxyCodeLine{02893\ \ \ \ \ *\textcolor{keyword}{this}\ =\ 5;}
\DoxyCodeLine{02894\ \ \ \ \ bitmask\ >>=\ 1;}
\DoxyCodeLine{02895\ \ \ \ \ \textcolor{keywordflow}{while}\ (bitmask\ !=\ 0)\ \{}
\DoxyCodeLine{02896\ \ \ \ \ \ \ square();}
\DoxyCodeLine{02897\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((exp\ \&\ bitmask)\ !=\ 0)\ *\textcolor{keyword}{this}\ *=\ 5;}
\DoxyCodeLine{02898\ \ \ \ \ \ \ bitmask\ >>=\ 1;}
\DoxyCodeLine{02899\ \ \ \ \ \}}
\DoxyCodeLine{02900\ \ \ \ \ *\textcolor{keyword}{this}\ <<=\ exp;\ \ \textcolor{comment}{//\ Multiply\ by\ pow(2,\ exp)\ by\ shifting.}}
\DoxyCodeLine{02901\ \ \ \}}
\DoxyCodeLine{02902\ }
\DoxyCodeLine{02903\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ square()\ \{}
\DoxyCodeLine{02904\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_bigits\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bigits\_.size());}
\DoxyCodeLine{02905\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_result\_bigits\ =\ 2\ *\ num\_bigits;}
\DoxyCodeLine{02906\ \ \ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<bigit,\ bigits\_capacity>}}\ n(std::move(bigits\_));}
\DoxyCodeLine{02907\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(to\_unsigned(num\_result\_bigits));}
\DoxyCodeLine{02908\ \ \ \ \ \textcolor{keyword}{auto}\ sum\ =\ uint128\_t();}
\DoxyCodeLine{02909\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ bigit\_index\ =\ 0;\ bigit\_index\ <\ num\_bigits;\ ++bigit\_index)\ \{}
\DoxyCodeLine{02910\ \ \ \ \ \ \ \textcolor{comment}{//\ Compute\ bigit\ at\ position\ bigit\_index\ of\ the\ result\ by\ adding}}
\DoxyCodeLine{02911\ \ \ \ \ \ \ \textcolor{comment}{//\ cross-\/product\ terms\ n[i]\ *\ n[j]\ such\ that\ i\ +\ j\ ==\ bigit\_index.}}
\DoxyCodeLine{02912\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0,\ j\ =\ bigit\_index;\ j\ >=\ 0;\ ++i,\ -\/-\/j)\ \{}
\DoxyCodeLine{02913\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Most\ terms\ are\ multiplied\ twice\ which\ can\ be\ optimized\ in\ the\ future.}}
\DoxyCodeLine{02914\ \ \ \ \ \ \ \ \ sum\ +=\ \textcolor{keyword}{static\_cast<}double\_bigit\textcolor{keyword}{>}(n[i])\ *\ n[j];}
\DoxyCodeLine{02915\ \ \ \ \ \ \ \}}
\DoxyCodeLine{02916\ \ \ \ \ \ \ (*this)[bigit\_index]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(sum);}
\DoxyCodeLine{02917\ \ \ \ \ \ \ sum\ >>=\ num\_bits<bigit>();\ \ \textcolor{comment}{//\ Compute\ the\ carry.}}
\DoxyCodeLine{02918\ \ \ \ \ \}}
\DoxyCodeLine{02919\ \ \ \ \ \textcolor{comment}{//\ Do\ the\ same\ for\ the\ top\ half.}}
\DoxyCodeLine{02920\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ bigit\_index\ =\ num\_bigits;\ bigit\_index\ <\ num\_result\_bigits;}
\DoxyCodeLine{02921\ \ \ \ \ \ \ \ \ \ ++bigit\_index)\ \{}
\DoxyCodeLine{02922\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ num\_bigits\ -\/\ 1,\ i\ =\ bigit\_index\ -\/\ j;\ i\ <\ num\_bigits;)}
\DoxyCodeLine{02923\ \ \ \ \ \ \ \ \ sum\ +=\ \textcolor{keyword}{static\_cast<}double\_bigit\textcolor{keyword}{>}(n[i++])\ *\ n[j-\/-\/];}
\DoxyCodeLine{02924\ \ \ \ \ \ \ (*this)[bigit\_index]\ =\ \textcolor{keyword}{static\_cast<}bigit\textcolor{keyword}{>}(sum);}
\DoxyCodeLine{02925\ \ \ \ \ \ \ sum\ >>=\ num\_bits<bigit>();}
\DoxyCodeLine{02926\ \ \ \ \ \}}
\DoxyCodeLine{02927\ \ \ \ \ remove\_leading\_zeros();}
\DoxyCodeLine{02928\ \ \ \ \ exp\_\ *=\ 2;}
\DoxyCodeLine{02929\ \ \ \}}
\DoxyCodeLine{02930\ }
\DoxyCodeLine{02931\ \ \ \textcolor{comment}{//\ If\ this\ bigint\ has\ a\ bigger\ exponent\ than\ other,\ adds\ trailing\ zero\ to\ make}}
\DoxyCodeLine{02932\ \ \ \textcolor{comment}{//\ exponents\ equal.\ This\ simplifies\ some\ operations\ such\ as\ subtraction.}}
\DoxyCodeLine{02933\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{void}\ align(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ other)\ \{}
\DoxyCodeLine{02934\ \ \ \ \ \textcolor{keywordtype}{int}\ exp\_difference\ =\ exp\_\ -\/\ other.exp\_;}
\DoxyCodeLine{02935\ \ \ \ \ \textcolor{keywordflow}{if}\ (exp\_difference\ <=\ 0)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{02936\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_bigits\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bigits\_.size());}
\DoxyCodeLine{02937\ \ \ \ \ bigits\_.\mbox{\hyperlink{classbasic__memory__buffer_a153c47788d6d1a76ec97780748755ea1}{resize}}(to\_unsigned(num\_bigits\ +\ exp\_difference));}
\DoxyCodeLine{02938\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ num\_bigits\ -\/\ 1,\ j\ =\ i\ +\ exp\_difference;\ i\ >=\ 0;\ -\/-\/i,\ -\/-\/j)}
\DoxyCodeLine{02939\ \ \ \ \ \ \ bigits\_[j]\ =\ bigits\_[i];}
\DoxyCodeLine{02940\ \ \ \ \ std::uninitialized\_fill\_n(bigits\_.data(),\ exp\_difference,\ 0);}
\DoxyCodeLine{02941\ \ \ \ \ exp\_\ -\/=\ exp\_difference;}
\DoxyCodeLine{02942\ \ \ \}}
\DoxyCodeLine{02943\ }
\DoxyCodeLine{02944\ \ \ \textcolor{comment}{//\ Divides\ this\ bignum\ by\ divisor,\ assigning\ the\ remainder\ to\ this\ and}}
\DoxyCodeLine{02945\ \ \ \textcolor{comment}{//\ returning\ the\ quotient.}}
\DoxyCodeLine{02946\ \ \ FMT\_CONSTEXPR20\ \textcolor{keywordtype}{int}\ divmod\_assign(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbigint}{bigint}}\&\ divisor)\ \{}
\DoxyCodeLine{02947\ \ \ \ \ FMT\_ASSERT(\textcolor{keyword}{this}\ !=\ \&divisor,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02948\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacecompare}{compare}}(*\textcolor{keyword}{this},\ divisor)\ <\ 0)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{02949\ \ \ \ \ FMT\_ASSERT(divisor.bigits\_[divisor.bigits\_.size()\ -\/\ 1u]\ !=\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02950\ \ \ \ \ align(divisor);}
\DoxyCodeLine{02951\ \ \ \ \ \textcolor{keywordtype}{int}\ quotient\ =\ 0;}
\DoxyCodeLine{02952\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{02953\ \ \ \ \ \ \ subtract\_aligned(divisor);}
\DoxyCodeLine{02954\ \ \ \ \ \ \ ++quotient;}
\DoxyCodeLine{02955\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{namespacecompare}{compare}}(*\textcolor{keyword}{this},\ divisor)\ >=\ 0);}
\DoxyCodeLine{02956\ \ \ \ \ \textcolor{keywordflow}{return}\ quotient;}
\DoxyCodeLine{02957\ \ \ \}}
\DoxyCodeLine{02958\ \};}
\DoxyCodeLine{02959\ }
\DoxyCodeLine{02960\ \textcolor{comment}{//\ format\_dragon\ flags.}}
\DoxyCodeLine{02961\ \textcolor{keyword}{enum}\ dragon\ \{}
\DoxyCodeLine{02962\ \ \ predecessor\_closer\ =\ 1,}
\DoxyCodeLine{02963\ \ \ fixup\ =\ 2,\ \ \textcolor{comment}{//\ Run\ fixup\ to\ correct\ exp10\ which\ can\ be\ off\ by\ one.}}
\DoxyCodeLine{02964\ \ \ fixed\ =\ 4,}
\DoxyCodeLine{02965\ \};}
\DoxyCodeLine{02966\ }
\DoxyCodeLine{02967\ \textcolor{comment}{//\ Formats\ a\ floating-\/point\ number\ using\ a\ variation\ of\ the\ Fixed-\/Precision}}
\DoxyCodeLine{02968\ \textcolor{comment}{//\ Positive\ Floating-\/Point\ Printout\ ((FPP)\string^2)\ algorithm\ by\ Steele\ \&\ White:}}
\DoxyCodeLine{02969\ \textcolor{comment}{//\ https://fmt.dev/papers/p372-\/steele.pdf.}}
\DoxyCodeLine{02970\ FMT\_CONSTEXPR20\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ format\_dragon(\mbox{\hyperlink{structbasic__fp}{basic\_fp<uint128\_t>}}\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{02971\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ flags,\ \textcolor{keywordtype}{int}\ num\_digits,}
\DoxyCodeLine{02972\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbuffer}{buffer<char>}}\&\ \mbox{\hyperlink{structbuf}{buf}},\ \textcolor{keywordtype}{int}\&\ exp10)\ \{}
\DoxyCodeLine{02973\ \ \ \mbox{\hyperlink{classbigint}{bigint}}\ numerator;\ \ \ \ \textcolor{comment}{//\ 2\ *\ R\ in\ (FPP)\string^2.}}
\DoxyCodeLine{02974\ \ \ \mbox{\hyperlink{classbigint}{bigint}}\ denominator;\ \ \textcolor{comment}{//\ 2\ *\ S\ in\ (FPP)\string^2.}}
\DoxyCodeLine{02975\ \ \ \textcolor{comment}{//\ lower\ and\ upper\ are\ differences\ between\ value\ and\ corresponding\ boundaries.}}
\DoxyCodeLine{02976\ \ \ \mbox{\hyperlink{classbigint}{bigint}}\ lower;\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ (M\string^-\/\ in\ (FPP)\string^2).}}
\DoxyCodeLine{02977\ \ \ \mbox{\hyperlink{classbigint}{bigint}}\ upper\_store;\ \ \ \ \ \ \ \textcolor{comment}{//\ upper's\ value\ if\ different\ from\ lower.}}
\DoxyCodeLine{02978\ \ \ \mbox{\hyperlink{classbigint}{bigint}}*\ upper\ =\ \textcolor{keyword}{nullptr};\ \ \textcolor{comment}{//\ (M\string^+\ in\ (FPP)\string^2).}}
\DoxyCodeLine{02979\ \ \ \textcolor{comment}{//\ Shift\ numerator\ and\ denominator\ by\ an\ extra\ bit\ or\ two\ (if\ lower\ boundary}}
\DoxyCodeLine{02980\ \ \ \textcolor{comment}{//\ is\ closer)\ to\ make\ lower\ and\ upper\ integers.\ This\ eliminates\ multiplication}}
\DoxyCodeLine{02981\ \ \ \textcolor{comment}{//\ by\ 2\ during\ later\ computations.}}
\DoxyCodeLine{02982\ \ \ \textcolor{keywordtype}{bool}\ is\_predecessor\_closer\ =\ (flags\ \&\ dragon::predecessor\_closer)\ !=\ 0;}
\DoxyCodeLine{02983\ \ \ \textcolor{keywordtype}{int}\ shift\ =\ is\_predecessor\_closer\ ?\ 2\ :\ 1;}
\DoxyCodeLine{02984\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvalue}{value}}.e\ >=\ 0)\ \{}
\DoxyCodeLine{02985\ \ \ \ \ numerator\ =\ \mbox{\hyperlink{classvalue}{value}}.f;}
\DoxyCodeLine{02986\ \ \ \ \ numerator\ <<=\ \mbox{\hyperlink{classvalue}{value}}.e\ +\ shift;}
\DoxyCodeLine{02987\ \ \ \ \ lower\ =\ 1;}
\DoxyCodeLine{02988\ \ \ \ \ lower\ <<=\ \mbox{\hyperlink{classvalue}{value}}.e;}
\DoxyCodeLine{02989\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_predecessor\_closer)\ \{}
\DoxyCodeLine{02990\ \ \ \ \ \ \ upper\_store\ =\ 1;}
\DoxyCodeLine{02991\ \ \ \ \ \ \ upper\_store\ <<=\ \mbox{\hyperlink{classvalue}{value}}.e\ +\ 1;}
\DoxyCodeLine{02992\ \ \ \ \ \ \ upper\ =\ \&upper\_store;}
\DoxyCodeLine{02993\ \ \ \ \ \}}
\DoxyCodeLine{02994\ \ \ \ \ denominator.assign\_pow10(exp10);}
\DoxyCodeLine{02995\ \ \ \ \ denominator\ <<=\ shift;}
\DoxyCodeLine{02996\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (exp10\ <\ 0)\ \{}
\DoxyCodeLine{02997\ \ \ \ \ numerator.assign\_pow10(-\/exp10);}
\DoxyCodeLine{02998\ \ \ \ \ lower.assign(numerator);}
\DoxyCodeLine{02999\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_predecessor\_closer)\ \{}
\DoxyCodeLine{03000\ \ \ \ \ \ \ upper\_store.assign(numerator);}
\DoxyCodeLine{03001\ \ \ \ \ \ \ upper\_store\ <<=\ 1;}
\DoxyCodeLine{03002\ \ \ \ \ \ \ upper\ =\ \&upper\_store;}
\DoxyCodeLine{03003\ \ \ \ \ \}}
\DoxyCodeLine{03004\ \ \ \ \ numerator\ *=\ \mbox{\hyperlink{classvalue}{value}}.f;}
\DoxyCodeLine{03005\ \ \ \ \ numerator\ <<=\ shift;}
\DoxyCodeLine{03006\ \ \ \ \ denominator\ =\ 1;}
\DoxyCodeLine{03007\ \ \ \ \ denominator\ <<=\ shift\ -\/\ \mbox{\hyperlink{classvalue}{value}}.e;}
\DoxyCodeLine{03008\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03009\ \ \ \ \ numerator\ =\ \mbox{\hyperlink{classvalue}{value}}.f;}
\DoxyCodeLine{03010\ \ \ \ \ numerator\ <<=\ shift;}
\DoxyCodeLine{03011\ \ \ \ \ denominator.assign\_pow10(exp10);}
\DoxyCodeLine{03012\ \ \ \ \ denominator\ <<=\ shift\ -\/\ \mbox{\hyperlink{classvalue}{value}}.e;}
\DoxyCodeLine{03013\ \ \ \ \ lower\ =\ 1;}
\DoxyCodeLine{03014\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_predecessor\_closer)\ \{}
\DoxyCodeLine{03015\ \ \ \ \ \ \ upper\_store\ =\ 1ULL\ <<\ 1;}
\DoxyCodeLine{03016\ \ \ \ \ \ \ upper\ =\ \&upper\_store;}
\DoxyCodeLine{03017\ \ \ \ \ \}}
\DoxyCodeLine{03018\ \ \ \}}
\DoxyCodeLine{03019\ \ \ \textcolor{keywordtype}{int}\ even\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((\mbox{\hyperlink{classvalue}{value}}.f\ \&\ 1)\ ==\ 0);}
\DoxyCodeLine{03020\ \ \ \textcolor{keywordflow}{if}\ (!upper)\ upper\ =\ \&lower;}
\DoxyCodeLine{03021\ \ \ \textcolor{keywordflow}{if}\ ((flags\ \&\ dragon::fixup)\ !=\ 0)\ \{}
\DoxyCodeLine{03022\ \ \ \ \ \textcolor{keywordflow}{if}\ (add\_compare(numerator,\ *upper,\ denominator)\ +\ even\ <=\ 0)\ \{}
\DoxyCodeLine{03023\ \ \ \ \ \ \ -\/-\/exp10;}
\DoxyCodeLine{03024\ \ \ \ \ \ \ numerator\ *=\ 10;}
\DoxyCodeLine{03025\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ <\ 0)\ \{}
\DoxyCodeLine{03026\ \ \ \ \ \ \ \ \ lower\ *=\ 10;}
\DoxyCodeLine{03027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (upper\ !=\ \&lower)\ *upper\ *=\ 10;}
\DoxyCodeLine{03028\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03029\ \ \ \ \ \}}
\DoxyCodeLine{03030\ \ \ \ \ \textcolor{keywordflow}{if}\ ((flags\ \&\ dragon::fixed)\ !=\ 0)\ adjust\_precision(num\_digits,\ exp10\ +\ 1);}
\DoxyCodeLine{03031\ \ \ \}}
\DoxyCodeLine{03032\ \ \ \textcolor{comment}{//\ Invariant:\ value\ ==\ (numerator\ /\ denominator)\ *\ pow(10,\ exp10).}}
\DoxyCodeLine{03033\ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ <\ 0)\ \{}
\DoxyCodeLine{03034\ \ \ \ \ \textcolor{comment}{//\ Generate\ the\ shortest\ representation.}}
\DoxyCodeLine{03035\ \ \ \ \ num\_digits\ =\ 0;}
\DoxyCodeLine{03036\ \ \ \ \ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{structdata}{data}}\ =\ \mbox{\hyperlink{structbuf}{buf}}.data();}
\DoxyCodeLine{03037\ \ \ \ \ \textcolor{keywordflow}{for}\ (;;)\ \{}
\DoxyCodeLine{03038\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ digit\ =\ numerator.divmod\_assign(denominator);}
\DoxyCodeLine{03039\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ low\ =\ \mbox{\hyperlink{namespacecompare}{compare}}(numerator,\ lower)\ -\/\ even\ <\ 0;\ \ \textcolor{comment}{//\ numerator\ <[=]\ lower.}}
\DoxyCodeLine{03040\ \ \ \ \ \ \ \textcolor{comment}{//\ numerator\ +\ upper\ >[=]\ pow10:}}
\DoxyCodeLine{03041\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ high\ =\ add\_compare(numerator,\ *upper,\ denominator)\ +\ even\ >\ 0;}
\DoxyCodeLine{03042\ \ \ \ \ \ \ \mbox{\hyperlink{structdata}{data}}[num\_digits++]\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ digit);}
\DoxyCodeLine{03043\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (low\ ||\ high)\ \{}
\DoxyCodeLine{03044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!low)\ \{}
\DoxyCodeLine{03045\ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{structdata}{data}}[num\_digits\ -\/\ 1];}
\DoxyCodeLine{03046\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (high)\ \{}
\DoxyCodeLine{03047\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ result\ =\ add\_compare(numerator,\ numerator,\ denominator);}
\DoxyCodeLine{03048\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Round\ half\ to\ even.}}
\DoxyCodeLine{03049\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ >\ 0\ ||\ (result\ ==\ 0\ \&\&\ (digit\ \%\ 2)\ !=\ 0))}
\DoxyCodeLine{03050\ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{structdata}{data}}[num\_digits\ -\/\ 1];}
\DoxyCodeLine{03051\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{03052\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_resize(to\_unsigned(num\_digits));}
\DoxyCodeLine{03053\ \ \ \ \ \ \ \ \ exp10\ -\/=\ num\_digits\ -\/\ 1;}
\DoxyCodeLine{03054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{03055\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03056\ \ \ \ \ \ \ numerator\ *=\ 10;}
\DoxyCodeLine{03057\ \ \ \ \ \ \ lower\ *=\ 10;}
\DoxyCodeLine{03058\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (upper\ !=\ \&lower)\ *upper\ *=\ 10;}
\DoxyCodeLine{03059\ \ \ \ \ \}}
\DoxyCodeLine{03060\ \ \ \}}
\DoxyCodeLine{03061\ \ \ \textcolor{comment}{//\ Generate\ the\ given\ number\ of\ digits.}}
\DoxyCodeLine{03062\ \ \ exp10\ -\/=\ num\_digits\ -\/\ 1;}
\DoxyCodeLine{03063\ \ \ \textcolor{keywordflow}{if}\ (num\_digits\ ==\ 0)\ \{}
\DoxyCodeLine{03064\ \ \ \ \ denominator\ *=\ 10;}
\DoxyCodeLine{03065\ \ \ \ \ \textcolor{keyword}{auto}\ digit\ =\ add\_compare(numerator,\ numerator,\ denominator)\ >\ 0\ ?\ \textcolor{charliteral}{'1'}\ :\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{03066\ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}.push\_back(digit);}
\DoxyCodeLine{03067\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{03068\ \ \ \}}
\DoxyCodeLine{03069\ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_resize(to\_unsigned(num\_digits));}
\DoxyCodeLine{03070\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_digits\ -\/\ 1;\ ++i)\ \{}
\DoxyCodeLine{03071\ \ \ \ \ \textcolor{keywordtype}{int}\ digit\ =\ numerator.divmod\_assign(denominator);}
\DoxyCodeLine{03072\ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}[i]\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ digit);}
\DoxyCodeLine{03073\ \ \ \ \ numerator\ *=\ 10;}
\DoxyCodeLine{03074\ \ \ \}}
\DoxyCodeLine{03075\ \ \ \textcolor{keywordtype}{int}\ digit\ =\ numerator.divmod\_assign(denominator);}
\DoxyCodeLine{03076\ \ \ \textcolor{keyword}{auto}\ result\ =\ add\_compare(numerator,\ numerator,\ denominator);}
\DoxyCodeLine{03077\ \ \ \textcolor{keywordflow}{if}\ (result\ >\ 0\ ||\ (result\ ==\ 0\ \&\&\ (digit\ \%\ 2)\ !=\ 0))\ \{}
\DoxyCodeLine{03078\ \ \ \ \ \textcolor{keywordflow}{if}\ (digit\ ==\ 9)\ \{}
\DoxyCodeLine{03079\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ overflow\ =\ \textcolor{charliteral}{'0'}\ +\ 10;}
\DoxyCodeLine{03080\ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}[num\_digits\ -\/\ 1]\ =\ overflow;}
\DoxyCodeLine{03081\ \ \ \ \ \ \ \textcolor{comment}{//\ Propagate\ the\ carry.}}
\DoxyCodeLine{03082\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ num\_digits\ -\/\ 1;\ i\ >\ 0\ \&\&\ \mbox{\hyperlink{structbuf}{buf}}[i]\ ==\ overflow;\ -\/-\/i)\ \{}
\DoxyCodeLine{03083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}[i]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{03084\ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{structbuf}{buf}}[i\ -\/\ 1];}
\DoxyCodeLine{03085\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03086\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structbuf}{buf}}[0]\ ==\ overflow)\ \{}
\DoxyCodeLine{03087\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}[0]\ =\ \textcolor{charliteral}{'1'};}
\DoxyCodeLine{03088\ \ \ \ \ \ \ \ \ ++exp10;}
\DoxyCodeLine{03089\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03090\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{03091\ \ \ \ \ \}}
\DoxyCodeLine{03092\ \ \ \ \ ++digit;}
\DoxyCodeLine{03093\ \ \ \}}
\DoxyCodeLine{03094\ \ \ \mbox{\hyperlink{structbuf}{buf}}[num\_digits\ -\/\ 1]\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(\textcolor{charliteral}{'0'}\ +\ digit);}
\DoxyCodeLine{03095\ \}}
\DoxyCodeLine{03096\ }
\DoxyCodeLine{03097\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Float>}
\DoxyCodeLine{03098\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ format\_float(Float\ \mbox{\hyperlink{classvalue}{value}},\ \textcolor{keywordtype}{int}\ precision,\ \mbox{\hyperlink{structfloat__specs}{float\_specs}}\ specs,}
\DoxyCodeLine{03099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbuffer}{buffer<char>}}\&\ \mbox{\hyperlink{structbuf}{buf}})\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{03100\ \ \ \textcolor{comment}{//\ float\ is\ passed\ as\ double\ to\ reduce\ the\ number\ of\ instantiations.}}
\DoxyCodeLine{03101\ \ \ \textcolor{keyword}{static\_assert}(!std::is\_same<Float,\ float>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{03102\ \ \ FMT\_ASSERT(\mbox{\hyperlink{classvalue}{value}}\ >=\ 0,\ \textcolor{stringliteral}{"{}value\ is\ negative"{}});}
\DoxyCodeLine{03103\ \ \ \textcolor{keyword}{auto}\ converted\_value\ =\ convert\_float(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{03104\ }
\DoxyCodeLine{03105\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ fixed\ =\ specs.format\ ==\ float\_format::fixed;}
\DoxyCodeLine{03106\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvalue}{value}}\ <=\ 0)\ \{\ \ \textcolor{comment}{//\ <=\ instead\ of\ ==\ to\ silence\ a\ warning.}}
\DoxyCodeLine{03107\ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ <=\ 0\ ||\ !fixed)\ \{}
\DoxyCodeLine{03108\ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}.push\_back(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{03109\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{03110\ \ \ \ \ \}}
\DoxyCodeLine{03111\ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_resize(to\_unsigned(precision));}
\DoxyCodeLine{03112\ \ \ \ \ fill\_n(\mbox{\hyperlink{structbuf}{buf}}.data(),\ precision,\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{03113\ \ \ \ \ \textcolor{keywordflow}{return}\ -\/precision;}
\DoxyCodeLine{03114\ \ \ \}}
\DoxyCodeLine{03115\ }
\DoxyCodeLine{03116\ \ \ \textcolor{keywordtype}{int}\ exp\ =\ 0;}
\DoxyCodeLine{03117\ \ \ \textcolor{keywordtype}{bool}\ use\_dragon\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03118\ \ \ \textcolor{keywordtype}{unsigned}\ dragon\_flags\ =\ 0;}
\DoxyCodeLine{03119\ \ \ \textcolor{keywordflow}{if}\ (!is\_fast\_float<Float>())\ \{}
\DoxyCodeLine{03120\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ inv\_log2\_10\ =\ 0.3010299956639812;\ \ \textcolor{comment}{//\ 1\ /\ log2(10)}}
\DoxyCodeLine{03121\ \ \ \ \ \textcolor{keyword}{using\ }info\ =\ \mbox{\hyperlink{structdragonbox_1_1float__info}{dragonbox::float\_info}}<\textcolor{keyword}{decltype}(converted\_value)>;}
\DoxyCodeLine{03122\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ f\ =\ \mbox{\hyperlink{structbasic__fp}{basic\_fp<typename\ info::carrier\_uint>}}(converted\_value);}
\DoxyCodeLine{03123\ \ \ \ \ \textcolor{comment}{//\ Compute\ exp,\ an\ approximate\ power\ of\ 10,\ such\ that}}
\DoxyCodeLine{03124\ \ \ \ \ \textcolor{comment}{//\ \ \ 10\string^(exp\ -\/\ 1)\ <=\ value\ <\ 10\string^exp\ or\ 10\string^exp\ <=\ value\ <\ 10\string^(exp\ +\ 1).}}
\DoxyCodeLine{03125\ \ \ \ \ \textcolor{comment}{//\ This\ is\ based\ on\ log10(value)\ ==\ log2(value)\ /\ log2(10)\ and\ approximation}}
\DoxyCodeLine{03126\ \ \ \ \ \textcolor{comment}{//\ of\ log2(value)\ by\ e\ +\ num\_fraction\_bits\ idea\ from\ double-\/conversion.}}
\DoxyCodeLine{03127\ \ \ \ \ exp\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(}
\DoxyCodeLine{03128\ \ \ \ \ \ \ \ \ std::ceil((f.e\ +\ count\_digits<1>(f.f)\ -\/\ 1)\ *\ inv\_log2\_10\ -\/\ 1e-\/10));}
\DoxyCodeLine{03129\ \ \ \ \ dragon\_flags\ =\ dragon::fixup;}
\DoxyCodeLine{03130\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!is\_constant\_evaluated()\ \&\&\ precision\ <\ 0)\ \{}
\DoxyCodeLine{03131\ \ \ \ \ \textcolor{comment}{//\ Use\ Dragonbox\ for\ the\ shortest\ format.}}
\DoxyCodeLine{03132\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.binary32)\ \{}
\DoxyCodeLine{03133\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ dec\ =\ dragonbox::to\_decimal(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{03134\ \ \ \ \ \ \ write<char>(buffer\_appender<char>(\mbox{\hyperlink{structbuf}{buf}}),\ dec.significand);}
\DoxyCodeLine{03135\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ dec.exponent;}
\DoxyCodeLine{03136\ \ \ \ \ \}}
\DoxyCodeLine{03137\ \ \ \ \ \textcolor{keyword}{auto}\ dec\ =\ dragonbox::to\_decimal(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{03138\ \ \ \ \ write<char>(buffer\_appender<char>(\mbox{\hyperlink{structbuf}{buf}}),\ dec.significand);}
\DoxyCodeLine{03139\ \ \ \ \ \textcolor{keywordflow}{return}\ dec.exponent;}
\DoxyCodeLine{03140\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03141\ \ \ \ \ \textcolor{comment}{//\ Use\ Grisu\ +\ Dragon4\ for\ the\ given\ precision:}}
\DoxyCodeLine{03142\ \ \ \ \ \textcolor{comment}{//\ https://www.cs.tufts.edu/\string~nr/cs257/archive/florian-\/loitsch/printf.pdf.}}
\DoxyCodeLine{03143\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ min\_exp\ =\ -\/60;\ \ \textcolor{comment}{//\ alpha\ in\ Grisu.}}
\DoxyCodeLine{03144\ \ \ \ \ \textcolor{keywordtype}{int}\ cached\_exp10\ =\ 0;\ \ \ \ \ \textcolor{comment}{//\ K\ in\ Grisu.}}
\DoxyCodeLine{03145\ \ \ \ \ \mbox{\hyperlink{structbasic__fp}{fp}}\ normalized\ =\ \mbox{\hyperlink{namespacegtest__json__test__utils_a339ba380c6799ecba1a9c9b396020573}{normalize}}(\mbox{\hyperlink{structbasic__fp}{fp}}(converted\_value));}
\DoxyCodeLine{03146\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ cached\_pow\ =\ get\_cached\_power(}
\DoxyCodeLine{03147\ \ \ \ \ \ \ \ \ min\_exp\ -\/\ (normalized.e\ +\ fp::num\_significand\_bits),\ cached\_exp10);}
\DoxyCodeLine{03148\ \ \ \ \ normalized\ =\ normalized\ *\ cached\_pow;}
\DoxyCodeLine{03149\ \ \ \ \ \mbox{\hyperlink{structgen__digits__handler}{gen\_digits\_handler}}\ handler\{\mbox{\hyperlink{structbuf}{buf}}.data(),\ 0,\ precision,\ -\/cached\_exp10,\ fixed\};}
\DoxyCodeLine{03150\ \ \ \ \ \textcolor{keywordflow}{if}\ (grisu\_gen\_digits(normalized,\ 1,\ exp,\ handler)\ !=\ digits::error\ \&\&}
\DoxyCodeLine{03151\ \ \ \ \ \ \ \ \ !is\_constant\_evaluated())\ \{}
\DoxyCodeLine{03152\ \ \ \ \ \ \ exp\ +=\ handler.exp10;}
\DoxyCodeLine{03153\ \ \ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_resize(to\_unsigned(handler.size));}
\DoxyCodeLine{03154\ \ \ \ \ \ \ use\_dragon\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{03155\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03156\ \ \ \ \ \ \ exp\ +=\ handler.size\ -\/\ cached\_exp10\ -\/\ 1;}
\DoxyCodeLine{03157\ \ \ \ \ \ \ precision\ =\ handler.precision;}
\DoxyCodeLine{03158\ \ \ \ \ \}}
\DoxyCodeLine{03159\ \ \ \}}
\DoxyCodeLine{03160\ \ \ \textcolor{keywordflow}{if}\ (use\_dragon)\ \{}
\DoxyCodeLine{03161\ \ \ \ \ \textcolor{keyword}{auto}\ f\ =\ \mbox{\hyperlink{structbasic__fp}{basic\_fp<uint128\_t>}}();}
\DoxyCodeLine{03162\ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_predecessor\_closer\ =\ specs.binary32}
\DoxyCodeLine{03163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ f.assign(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}))}
\DoxyCodeLine{03164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ f.assign(converted\_value);}
\DoxyCodeLine{03165\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_predecessor\_closer)\ dragon\_flags\ |=\ dragon::predecessor\_closer;}
\DoxyCodeLine{03166\ \ \ \ \ \textcolor{keywordflow}{if}\ (fixed)\ dragon\_flags\ |=\ dragon::fixed;}
\DoxyCodeLine{03167\ \ \ \ \ \textcolor{comment}{//\ Limit\ precision\ to\ the\ maximum\ possible\ number\ of\ significant\ digits\ in}}
\DoxyCodeLine{03168\ \ \ \ \ \textcolor{comment}{//\ an\ IEEE754\ double\ because\ we\ don't\ need\ to\ generate\ zeros.}}
\DoxyCodeLine{03169\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ max\_double\_digits\ =\ 767;}
\DoxyCodeLine{03170\ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ >\ max\_double\_digits)\ precision\ =\ max\_double\_digits;}
\DoxyCodeLine{03171\ \ \ \ \ format\_dragon(f,\ dragon\_flags,\ precision,\ \mbox{\hyperlink{structbuf}{buf}},\ exp);}
\DoxyCodeLine{03172\ \ \ \}}
\DoxyCodeLine{03173\ \ \ \textcolor{keywordflow}{if}\ (!fixed\ \&\&\ !specs.showpoint)\ \{}
\DoxyCodeLine{03174\ \ \ \ \ \textcolor{comment}{//\ Remove\ trailing\ zeros.}}
\DoxyCodeLine{03175\ \ \ \ \ \textcolor{keyword}{auto}\ num\_digits\ =\ \mbox{\hyperlink{structbuf}{buf}}.size();}
\DoxyCodeLine{03176\ \ \ \ \ \textcolor{keywordflow}{while}\ (num\_digits\ >\ 0\ \&\&\ \mbox{\hyperlink{structbuf}{buf}}[num\_digits\ -\/\ 1]\ ==\ \textcolor{charliteral}{'0'})\ \{}
\DoxyCodeLine{03177\ \ \ \ \ \ \ -\/-\/num\_digits;}
\DoxyCodeLine{03178\ \ \ \ \ \ \ ++exp;}
\DoxyCodeLine{03179\ \ \ \ \ \}}
\DoxyCodeLine{03180\ \ \ \ \ \mbox{\hyperlink{structbuf}{buf}}.try\_resize(num\_digits);}
\DoxyCodeLine{03181\ \ \ \}}
\DoxyCodeLine{03182\ \ \ \textcolor{keywordflow}{return}\ exp;}
\DoxyCodeLine{03183\ \}}
\DoxyCodeLine{03184\ }
\DoxyCodeLine{03185\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03186\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_floating\_point<T>::value)>}
\DoxyCodeLine{03187\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{03188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\ specs,\ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc\ =\ \{\})}
\DoxyCodeLine{03189\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03190\ \ \ \textcolor{keywordflow}{if}\ (const\_check(!is\_supported\_floating\_point(\mbox{\hyperlink{classvalue}{value}})))\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03191\ \ \ \mbox{\hyperlink{structfloat__specs}{float\_specs}}\ fspecs\ =\ parse\_float\_type\_spec(specs);}
\DoxyCodeLine{03192\ \ \ fspecs.sign\ =\ specs.sign;}
\DoxyCodeLine{03193\ \ \ \textcolor{keywordflow}{if}\ (detail::signbit(\mbox{\hyperlink{classvalue}{value}}))\ \{\ \ \textcolor{comment}{//\ value\ <\ 0\ is\ false\ for\ NaN\ so\ use\ signbit.}}
\DoxyCodeLine{03194\ \ \ \ \ fspecs.sign\ =\ sign::minus;}
\DoxyCodeLine{03195\ \ \ \ \ \mbox{\hyperlink{classvalue}{value}}\ =\ -\/\mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{03196\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (fspecs.sign\ ==\ sign::minus)\ \{}
\DoxyCodeLine{03197\ \ \ \ \ fspecs.sign\ =\ sign::none;}
\DoxyCodeLine{03198\ \ \ \}}
\DoxyCodeLine{03199\ }
\DoxyCodeLine{03200\ \ \ \textcolor{keywordflow}{if}\ (!detail::isfinite(\mbox{\hyperlink{classvalue}{value}}))}
\DoxyCodeLine{03201\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_nonfinite(out,\ detail::isnan(\mbox{\hyperlink{classvalue}{value}}),\ specs,\ fspecs);}
\DoxyCodeLine{03202\ }
\DoxyCodeLine{03203\ \ \ \textcolor{keywordflow}{if}\ (specs.align\ ==\ align::numeric\ \&\&\ fspecs.sign)\ \{}
\DoxyCodeLine{03204\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ 1);}
\DoxyCodeLine{03205\ \ \ \ \ *it++\ =\ detail::sign<Char>(fspecs.sign);}
\DoxyCodeLine{03206\ \ \ \ \ out\ =\ base\_iterator(out,\ it);}
\DoxyCodeLine{03207\ \ \ \ \ fspecs.sign\ =\ sign::none;}
\DoxyCodeLine{03208\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs.width\ !=\ 0)\ -\/-\/specs.width;}
\DoxyCodeLine{03209\ \ \ \}}
\DoxyCodeLine{03210\ }
\DoxyCodeLine{03211\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{memory\_buffer}}\ \mbox{\hyperlink{classbuffer}{buffer}};}
\DoxyCodeLine{03212\ \ \ \textcolor{keywordflow}{if}\ (fspecs.format\ ==\ float\_format::hex)\ \{}
\DoxyCodeLine{03213\ \ \ \ \ \textcolor{keywordflow}{if}\ (fspecs.sign)\ \mbox{\hyperlink{classbuffer}{buffer}}.push\_back(detail::sign<char>(fspecs.sign));}
\DoxyCodeLine{03214\ \ \ \ \ snprintf\_float(convert\_float(\mbox{\hyperlink{classvalue}{value}}),\ specs.precision,\ fspecs,\ \mbox{\hyperlink{classbuffer}{buffer}});}
\DoxyCodeLine{03215\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_bytes<align::right>(out,\ \{\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_a5fe8b50555561bfb4d77a2adcd5f79b2}{data}}(),\ \mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_aebcfda1cf597e92fdd876bb1b9a1ba2a}{size}}()\},}
\DoxyCodeLine{03216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs);}
\DoxyCodeLine{03217\ \ \ \}}
\DoxyCodeLine{03218\ \ \ \textcolor{keywordtype}{int}\ precision\ =\ specs.precision\ >=\ 0\ ||\ specs.type\ ==\ presentation\_type::none}
\DoxyCodeLine{03219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ specs.precision}
\DoxyCodeLine{03220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ 6;}
\DoxyCodeLine{03221\ \ \ \textcolor{keywordflow}{if}\ (fspecs.format\ ==\ float\_format::exp)\ \{}
\DoxyCodeLine{03222\ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ ==\ max\_value<int>())}
\DoxyCodeLine{03223\ \ \ \ \ \ \ throw\_format\_error(\textcolor{stringliteral}{"{}number\ is\ too\ big"{}});}
\DoxyCodeLine{03224\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{03225\ \ \ \ \ \ \ ++precision;}
\DoxyCodeLine{03226\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (fspecs.format\ !=\ float\_format::fixed\ \&\&\ precision\ ==\ 0)\ \{}
\DoxyCodeLine{03227\ \ \ \ \ precision\ =\ 1;}
\DoxyCodeLine{03228\ \ \ \}}
\DoxyCodeLine{03229\ \ \ \textcolor{keywordflow}{if}\ (const\_check(std::is\_same<T,\ float>()))\ fspecs.binary32\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{03230\ \ \ \textcolor{keywordtype}{int}\ exp\ =\ format\_float(convert\_float(\mbox{\hyperlink{classvalue}{value}}),\ precision,\ fspecs,\ \mbox{\hyperlink{classbuffer}{buffer}});}
\DoxyCodeLine{03231\ \ \ fspecs.precision\ =\ precision;}
\DoxyCodeLine{03232\ \ \ \textcolor{keyword}{auto}\ f\ =\ \mbox{\hyperlink{structbig__decimal__fp}{big\_decimal\_fp}}\{\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_a5fe8b50555561bfb4d77a2adcd5f79b2}{data}}(),\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_aebcfda1cf597e92fdd876bb1b9a1ba2a}{size}}()),\ exp\};}
\DoxyCodeLine{03233\ \ \ \textcolor{keywordflow}{return}\ write\_float(out,\ f,\ specs,\ fspecs,\ loc);}
\DoxyCodeLine{03234\ \}}
\DoxyCodeLine{03235\ }
\DoxyCodeLine{03236\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03237\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_fast\_float<T>::value)>}
\DoxyCodeLine{03238\ FMT\_CONSTEXPR20\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03239\ \ \ \textcolor{keywordflow}{if}\ (is\_constant\_evaluated())}
\DoxyCodeLine{03240\ \ \ \ \ \textcolor{keywordflow}{return}\ write(out,\ \mbox{\hyperlink{classvalue}{value}},\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}());}
\DoxyCodeLine{03241\ \ \ \textcolor{keywordflow}{if}\ (const\_check(!is\_supported\_floating\_point(\mbox{\hyperlink{classvalue}{value}})))\ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03242\ }
\DoxyCodeLine{03243\ \ \ \textcolor{keyword}{auto}\ fspecs\ =\ \mbox{\hyperlink{structfloat__specs}{float\_specs}}();}
\DoxyCodeLine{03244\ \ \ \textcolor{keywordflow}{if}\ (detail::signbit(\mbox{\hyperlink{classvalue}{value}}))\ \{}
\DoxyCodeLine{03245\ \ \ \ \ fspecs.sign\ =\ sign::minus;}
\DoxyCodeLine{03246\ \ \ \ \ \mbox{\hyperlink{classvalue}{value}}\ =\ -\/\mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{03247\ \ \ \}}
\DoxyCodeLine{03248\ }
\DoxyCodeLine{03249\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ specs\ =\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}();}
\DoxyCodeLine{03250\ \ \ \textcolor{keyword}{using\ }floaty\ =\ conditional\_t<std::is\_same<T,\ long\ double>::value,\ double,\ T>;}
\DoxyCodeLine{03251\ \ \ \textcolor{keyword}{using\ }uint\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structdragonbox_1_1float__info}{dragonbox::float\_info<floaty>::carrier\_uint}};}
\DoxyCodeLine{03252\ \ \ uint\ mask\ =\ exponent\_mask<floaty>();}
\DoxyCodeLine{03253\ \ \ \textcolor{keywordflow}{if}\ ((bit\_cast<uint>(\mbox{\hyperlink{classvalue}{value}})\ \&\ mask)\ ==\ mask)}
\DoxyCodeLine{03254\ \ \ \ \ \textcolor{keywordflow}{return}\ write\_nonfinite(out,\ std::isnan(\mbox{\hyperlink{classvalue}{value}}),\ specs,\ fspecs);}
\DoxyCodeLine{03255\ }
\DoxyCodeLine{03256\ \ \ \textcolor{keyword}{auto}\ dec\ =\ dragonbox::to\_decimal(\textcolor{keyword}{static\_cast<}floaty\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{03257\ \ \ \textcolor{keywordflow}{return}\ write\_float(out,\ dec,\ specs,\ fspecs,\ \{\});}
\DoxyCodeLine{03258\ \}}
\DoxyCodeLine{03259\ }
\DoxyCodeLine{03260\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03261\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(is\_floating\_point<T>::value\ \&\&}
\DoxyCodeLine{03262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !is\_fast\_float<T>::value)>}
\DoxyCodeLine{03263\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03264\ \ \ \textcolor{keywordflow}{return}\ write(out,\ \mbox{\hyperlink{classvalue}{value}},\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}());}
\DoxyCodeLine{03265\ \}}
\DoxyCodeLine{03266\ }
\DoxyCodeLine{03267\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{03268\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \mbox{\hyperlink{structmonostate}{monostate}},\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\ =\ \{\},}
\DoxyCodeLine{03269\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ =\ \{\})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03270\ \ \ FMT\_ASSERT(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{03271\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03272\ \}}
\DoxyCodeLine{03273\ }
\DoxyCodeLine{03274\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{03275\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \mbox{\hyperlink{classvalue}{value}})}
\DoxyCodeLine{03276\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03277\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ \mbox{\hyperlink{classvalue}{value}}.size());}
\DoxyCodeLine{03278\ \ \ it\ =\ copy\_str\_noinline<Char>(\mbox{\hyperlink{classvalue}{value}}.begin(),\ \mbox{\hyperlink{classvalue}{value}}.end(),\ it);}
\DoxyCodeLine{03279\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{03280\ \}}
\DoxyCodeLine{03281\ }
\DoxyCodeLine{03282\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03283\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(\mbox{\hyperlink{structis__string}{is\_string<T>::value}})>}
\DoxyCodeLine{03284\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03285\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ to\_string\_view(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{03286\ \}}
\DoxyCodeLine{03287\ }
\DoxyCodeLine{03288\ \textcolor{comment}{//\ FMT\_ENABLE\_IF()\ condition\ separated\ to\ workaround\ an\ MSVC\ bug.}}
\DoxyCodeLine{03289\ \textcolor{keyword}{template}\ <}
\DoxyCodeLine{03290\ \ \ \ \ \textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03291\ \ \ \ \ \textcolor{keywordtype}{bool}\ check\ =}
\DoxyCodeLine{03292\ \ \ \ \ \ \ \ \ std::is\_enum<T>::value\ \&\&\ !std::is\_same<T,\ Char>::value\ \&\&}
\DoxyCodeLine{03293\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structtype__constant}{mapped\_type\_constant<T,\ basic\_format\_context<OutputIt,\ Char>}}>\mbox{\hyperlink{classvalue}{::value}}\ !=}
\DoxyCodeLine{03294\ \ \ \ \ \ \ \ \ \ \ \ \ type::custom\_type,}
\DoxyCodeLine{03295\ \ \ \ \ FMT\_ENABLE\_IF(check)>}
\DoxyCodeLine{03296\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03297\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ \textcolor{keyword}{static\_cast<}underlying\_t<T>\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{03298\ \}}
\DoxyCodeLine{03299\ }
\DoxyCodeLine{03300\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03301\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(std::is\_same<T,\ bool>::value)>}
\DoxyCodeLine{03302\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ T\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{03303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs\ =\ \{\},}
\DoxyCodeLine{03304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ =\ \{\})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03305\ \ \ \textcolor{keywordflow}{return}\ specs.type\ !=\ presentation\_type::none\ \&\&}
\DoxyCodeLine{03306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs.type\ !=\ presentation\_type::string}
\DoxyCodeLine{03307\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ write(out,\ \mbox{\hyperlink{classvalue}{value}}\ ?\ 1\ :\ 0,\ specs,\ \{\})}
\DoxyCodeLine{03308\ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ write\_bytes(out,\ \mbox{\hyperlink{classvalue}{value}}\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}},\ specs);}
\DoxyCodeLine{03309\ \}}
\DoxyCodeLine{03310\ }
\DoxyCodeLine{03311\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{03312\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ Char\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03313\ \ \ \textcolor{keyword}{auto}\ it\ =\ reserve(out,\ 1);}
\DoxyCodeLine{03314\ \ \ *it++\ =\ \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{03315\ \ \ \textcolor{keywordflow}{return}\ base\_iterator(out,\ it);}
\DoxyCodeLine{03316\ \}}
\DoxyCodeLine{03317\ }
\DoxyCodeLine{03318\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt>}
\DoxyCodeLine{03319\ FMT\_CONSTEXPR\_CHAR\_TRAITS\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ Char*\ \mbox{\hyperlink{classvalue}{value}})}
\DoxyCodeLine{03320\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03321\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classvalue}{value}})\ \{}
\DoxyCodeLine{03322\ \ \ \ \ throw\_format\_error(\textcolor{stringliteral}{"{}string\ pointer\ is\ null"{}});}
\DoxyCodeLine{03323\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{03324\ \ \ \ \ out\ =\ write(out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{03325\ \ \ \}}
\DoxyCodeLine{03326\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03327\ \}}
\DoxyCodeLine{03328\ }
\DoxyCodeLine{03329\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03330\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(std::is\_same<T,\ void>::value)>}
\DoxyCodeLine{03331\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ T*\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{03332\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs\ =\ \{\},\ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ =\ \{\})}
\DoxyCodeLine{03333\ \ \ \ \ -\/>\ OutputIt\ \{}
\DoxyCodeLine{03334\ \ \ check\_pointer\_type\_spec(specs.type,\ \mbox{\hyperlink{structerror__handler}{error\_handler}}());}
\DoxyCodeLine{03335\ \ \ \textcolor{keywordflow}{return}\ write\_ptr<Char>(out,\ bit\_cast<uintptr\_t>(\mbox{\hyperlink{classvalue}{value}}),\ \&specs);}
\DoxyCodeLine{03336\ \}}
\DoxyCodeLine{03337\ }
\DoxyCodeLine{03338\ \textcolor{comment}{//\ A\ write\ overload\ that\ handles\ implicit\ conversions.}}
\DoxyCodeLine{03339\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03340\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_context}{Context}}\ =\ \mbox{\hyperlink{classbasic__format__context}{basic\_format\_context<OutputIt,\ Char>}}>}
\DoxyCodeLine{03341\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ enable\_if\_t<}
\DoxyCodeLine{03342\ \ \ \ \ std::is\_class<T>::value\ \&\&\ !\mbox{\hyperlink{structis__string}{is\_string<T>::value}}\ \&\&}
\DoxyCodeLine{03343\ \ \ \ \ \ \ \ \ !is\_floating\_point<T>::value\ \&\&\ !std::is\_same<T,\ Char>::value\ \&\&}
\DoxyCodeLine{03344\ \ \ \ \ \ \ \ \ !std::is\_same<\textcolor{keyword}{const}\ T\&,}
\DoxyCodeLine{03345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{decltype}(\mbox{\hyperlink{structarg__mapper}{arg\_mapper<Context>}}().map(\mbox{\hyperlink{classvalue}{value}}))>\mbox{\hyperlink{classvalue}{::value}},}
\DoxyCodeLine{03346\ \ \ \ \ OutputIt>\ \{}
\DoxyCodeLine{03347\ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ \mbox{\hyperlink{structarg__mapper}{arg\_mapper<Context>}}().map(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{03348\ \}}
\DoxyCodeLine{03349\ }
\DoxyCodeLine{03350\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{03351\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_context}{Context}}\ =\ \mbox{\hyperlink{classbasic__format__context}{basic\_format\_context<OutputIt,\ Char>}}>}
\DoxyCodeLine{03352\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ write(OutputIt\ out,\ \textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{classvalue}{value}})}
\DoxyCodeLine{03353\ \ \ \ \ -\/>\ enable\_if\_t<mapped\_type\_constant<T,\ Context>::value\ ==\ type::custom\_type,}
\DoxyCodeLine{03354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OutputIt>\ \{}
\DoxyCodeLine{03355\ \ \ \textcolor{keyword}{using\ }formatter\_type\ =}
\DoxyCodeLine{03356\ \ \ \ \ \ \ conditional\_t<has\_formatter<T,\ Context>::value,}
\DoxyCodeLine{03357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Context::template\ formatter\_type<T>,}
\DoxyCodeLine{03358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structfallback__formatter}{fallback\_formatter<T,\ Char>}}>;}
\DoxyCodeLine{03359\ \ \ \textcolor{keyword}{auto}\ ctx\ =\ \mbox{\hyperlink{struct_context}{Context}}(out,\ \{\},\ \{\});}
\DoxyCodeLine{03360\ \ \ \textcolor{keywordflow}{return}\ formatter\_type().format(\mbox{\hyperlink{classvalue}{value}},\ ctx);}
\DoxyCodeLine{03361\ \}}
\DoxyCodeLine{03362\ }
\DoxyCodeLine{03363\ \textcolor{comment}{//\ An\ argument\ visitor\ that\ formats\ the\ argument\ and\ writes\ it\ via\ the\ output}}
\DoxyCodeLine{03364\ \textcolor{comment}{//\ iterator.\ It's\ a\ class\ and\ not\ a\ generic\ lambda\ for\ compatibility\ with\ C++11.}}
\DoxyCodeLine{03365\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdefault__arg__formatter}{default\_arg\_formatter}}\ \{}
\DoxyCodeLine{03366\ \ \ \textcolor{keyword}{using\ }iterator\ =\ buffer\_appender<Char>;}
\DoxyCodeLine{03367\ \ \ \textcolor{keyword}{using\ }context\ =\ \mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}};}
\DoxyCodeLine{03368\ }
\DoxyCodeLine{03369\ \ \ iterator\ out;}
\DoxyCodeLine{03370\ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args<context>}}\ args;}
\DoxyCodeLine{03371\ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc;}
\DoxyCodeLine{03372\ }
\DoxyCodeLine{03373\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ operator()(T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ iterator\ \{}
\DoxyCodeLine{03374\ \ \ \ \ \textcolor{keywordflow}{return}\ write<Char>(out,\ \mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{03375\ \ \ \}}
\DoxyCodeLine{03376\ \ \ \textcolor{keyword}{auto}\ operator()(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classbasic__format__arg_1_1handle}{basic\_format\_arg<context>::handle}}\ h)\ -\/>\ iterator\ \{}
\DoxyCodeLine{03377\ \ \ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\ parse\_ctx(\{\});}
\DoxyCodeLine{03378\ \ \ \ \ context\ format\_ctx(out,\ args,\ loc);}
\DoxyCodeLine{03379\ \ \ \ \ h.format(parse\_ctx,\ format\_ctx);}
\DoxyCodeLine{03380\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_ctx.out();}
\DoxyCodeLine{03381\ \ \ \}}
\DoxyCodeLine{03382\ \};}
\DoxyCodeLine{03383\ }
\DoxyCodeLine{03384\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structarg__formatter}{arg\_formatter}}\ \{}
\DoxyCodeLine{03385\ \ \ \textcolor{keyword}{using\ }iterator\ =\ buffer\_appender<Char>;}
\DoxyCodeLine{03386\ \ \ \textcolor{keyword}{using\ }context\ =\ \mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}};}
\DoxyCodeLine{03387\ }
\DoxyCodeLine{03388\ \ \ iterator\ out;}
\DoxyCodeLine{03389\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs;}
\DoxyCodeLine{03390\ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ locale;}
\DoxyCodeLine{03391\ }
\DoxyCodeLine{03392\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{03393\ \ \ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}\ operator()(T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ iterator\ \{}
\DoxyCodeLine{03394\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write(out,\ \mbox{\hyperlink{classvalue}{value}},\ specs,\ locale);}
\DoxyCodeLine{03395\ \ \ \}}
\DoxyCodeLine{03396\ \ \ \textcolor{keyword}{auto}\ operator()(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classbasic__format__arg_1_1handle}{basic\_format\_arg<context>::handle}})\ -\/>\ iterator\ \{}
\DoxyCodeLine{03397\ \ \ \ \ \textcolor{comment}{//\ User-\/defined\ types\ are\ handled\ separately\ because\ they\ require\ access}}
\DoxyCodeLine{03398\ \ \ \ \ \textcolor{comment}{//\ to\ the\ parse\ context.}}
\DoxyCodeLine{03399\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03400\ \ \ \}}
\DoxyCodeLine{03401\ \};}
\DoxyCodeLine{03402\ }
\DoxyCodeLine{03403\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcustom__formatter}{custom\_formatter}}\ \{}
\DoxyCodeLine{03404\ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\&\ parse\_ctx;}
\DoxyCodeLine{03405\ \ \ \mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}}\&\ ctx;}
\DoxyCodeLine{03406\ }
\DoxyCodeLine{03407\ \ \ \textcolor{keywordtype}{void}\ operator()(}
\DoxyCodeLine{03408\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classbasic__format__arg}{basic\_format\_arg}}<\mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}}>::handle\ h)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{03409\ \ \ \ \ h.format(parse\_ctx,\ ctx);}
\DoxyCodeLine{03410\ \ \ \}}
\DoxyCodeLine{03411\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keywordtype}{void}\ operator()(T)\textcolor{keyword}{\ const\ }\{\}}
\DoxyCodeLine{03412\ \};}
\DoxyCodeLine{03413\ }
\DoxyCodeLine{03414\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{03415\ \textcolor{keyword}{using\ }is\_integer\ =}
\DoxyCodeLine{03416\ \ \ \ \ bool\_constant<is\_integral<T>::value\ \&\&\ !std::is\_same<T,\ bool>::value\ \&\&}
\DoxyCodeLine{03417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ char>::value\ \&\&}
\DoxyCodeLine{03418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::is\_same<T,\ wchar\_t>::value>;}
\DoxyCodeLine{03419\ }
\DoxyCodeLine{03420\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ErrorHandler>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classwidth__checker}{width\_checker}}\ \{}
\DoxyCodeLine{03421\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03422\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{classwidth__checker}{width\_checker}}(ErrorHandler\&\ eh)\ :\ handler\_(eh)\ \{\}}
\DoxyCodeLine{03423\ }
\DoxyCodeLine{03424\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{03425\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \{}
\DoxyCodeLine{03426\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_negative(\mbox{\hyperlink{classvalue}{value}}))\ handler\_.on\_error(\textcolor{stringliteral}{"{}negative\ width"{}});}
\DoxyCodeLine{03427\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{03428\ \ \ \}}
\DoxyCodeLine{03429\ }
\DoxyCodeLine{03430\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{03431\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(T)\ -\/>\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \{}
\DoxyCodeLine{03432\ \ \ \ \ handler\_.on\_error(\textcolor{stringliteral}{"{}width\ is\ not\ integer"{}});}
\DoxyCodeLine{03433\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{03434\ \ \ \}}
\DoxyCodeLine{03435\ }
\DoxyCodeLine{03436\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03437\ \ \ ErrorHandler\&\ handler\_;}
\DoxyCodeLine{03438\ \};}
\DoxyCodeLine{03439\ }
\DoxyCodeLine{03440\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ErrorHandler>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classprecision__checker}{precision\_checker}}\ \{}
\DoxyCodeLine{03441\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03442\ \ \ \textcolor{keyword}{explicit}\ FMT\_CONSTEXPR\ \mbox{\hyperlink{classprecision__checker}{precision\_checker}}(ErrorHandler\&\ eh)\ :\ handler\_(eh)\ \{\}}
\DoxyCodeLine{03443\ }
\DoxyCodeLine{03444\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{03445\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \{}
\DoxyCodeLine{03446\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_negative(\mbox{\hyperlink{classvalue}{value}}))\ handler\_.on\_error(\textcolor{stringliteral}{"{}negative\ precision"{}});}
\DoxyCodeLine{03447\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{03448\ \ \ \}}
\DoxyCodeLine{03449\ }
\DoxyCodeLine{03450\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!is\_\textcolor{keywordtype}{int}eger<T>::value)>}
\DoxyCodeLine{03451\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ operator()(T)\ -\/>\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \{}
\DoxyCodeLine{03452\ \ \ \ \ handler\_.on\_error(\textcolor{stringliteral}{"{}precision\ is\ not\ integer"{}});}
\DoxyCodeLine{03453\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{03454\ \ \ \}}
\DoxyCodeLine{03455\ }
\DoxyCodeLine{03456\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03457\ \ \ ErrorHandler\&\ handler\_;}
\DoxyCodeLine{03458\ \};}
\DoxyCodeLine{03459\ }
\DoxyCodeLine{03460\ \textcolor{keyword}{template}\ <\textcolor{keyword}{template}\ <\textcolor{keyword}{typename}>\ \textcolor{keyword}{class\ }Handler,\ \textcolor{keyword}{typename}\ FormatArg,}
\DoxyCodeLine{03461\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ErrorHandler>}
\DoxyCodeLine{03462\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ get\_dynamic\_spec(FormatArg\ arg,\ ErrorHandler\ eh)\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{03463\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classvalue}{value}}\ =\ visit\_format\_arg(Handler<ErrorHandler>(eh),\ arg);}
\DoxyCodeLine{03464\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classvalue}{value}}\ >\ to\_unsigned(max\_value<int>()))\ eh.on\_error(\textcolor{stringliteral}{"{}number\ is\ too\ big"{}});}
\DoxyCodeLine{03465\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{03466\ \}}
\DoxyCodeLine{03467\ }
\DoxyCodeLine{03468\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Context,\ \textcolor{keyword}{typename}\ ID>}
\DoxyCodeLine{03469\ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ get\_arg(\mbox{\hyperlink{struct_context}{Context}}\&\ ctx,\ ID\ \textcolor{keywordtype}{id})\ -\/>}
\DoxyCodeLine{03470\ \ \ \ \ \textcolor{keyword}{typename}\ Context::format\_arg\ \{}
\DoxyCodeLine{03471\ \ \ \textcolor{keyword}{auto}\ arg\ =\ ctx.arg(\textcolor{keywordtype}{id});}
\DoxyCodeLine{03472\ \ \ \textcolor{keywordflow}{if}\ (!arg)\ ctx.on\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{03473\ \ \ \textcolor{keywordflow}{return}\ arg;}
\DoxyCodeLine{03474\ \}}
\DoxyCodeLine{03475\ }
\DoxyCodeLine{03476\ \textcolor{comment}{//\ The\ standard\ format\ specifier\ handler\ with\ checking.}}
\DoxyCodeLine{03477\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classspecs__handler}{specs\_handler}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classspecs__setter}{specs\_setter}}<Char>\ \{}
\DoxyCodeLine{03478\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03479\ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\&\ parse\_context\_;}
\DoxyCodeLine{03480\ \ \ \mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}}\&\ context\_;}
\DoxyCodeLine{03481\ }
\DoxyCodeLine{03482\ \ \ \textcolor{comment}{//\ This\ is\ only\ needed\ for\ compatibility\ with\ gcc\ 4.4.}}
\DoxyCodeLine{03483\ \ \ \textcolor{keyword}{using\ }format\_arg\ =\ \mbox{\hyperlink{classbasic__format__arg}{basic\_format\_arg<buffer\_context<Char>}}>;}
\DoxyCodeLine{03484\ }
\DoxyCodeLine{03485\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ get\_arg(\mbox{\hyperlink{structauto__id}{auto\_id}})\ -\/>\ format\_arg\ \{}
\DoxyCodeLine{03486\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::get\_arg(context\_,\ parse\_context\_.\mbox{\hyperlink{classbasic__format__parse__context_a9eb66391da04f3f435cb4664fc9d9170}{next\_arg\_id}}());}
\DoxyCodeLine{03487\ \ \ \}}
\DoxyCodeLine{03488\ }
\DoxyCodeLine{03489\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ get\_arg(\textcolor{keywordtype}{int}\ arg\_id)\ -\/>\ format\_arg\ \{}
\DoxyCodeLine{03490\ \ \ \ \ parse\_context\_.\mbox{\hyperlink{classbasic__format__parse__context_a5dc605ebf44606770789dc6059235130}{check\_arg\_id}}(arg\_id);}
\DoxyCodeLine{03491\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::get\_arg(context\_,\ arg\_id);}
\DoxyCodeLine{03492\ \ \ \}}
\DoxyCodeLine{03493\ }
\DoxyCodeLine{03494\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ get\_arg(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ arg\_id)\ -\/>\ format\_arg\ \{}
\DoxyCodeLine{03495\ \ \ \ \ parse\_context\_.\mbox{\hyperlink{classbasic__format__parse__context_a5dc605ebf44606770789dc6059235130}{check\_arg\_id}}(arg\_id);}
\DoxyCodeLine{03496\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::get\_arg(context\_,\ arg\_id);}
\DoxyCodeLine{03497\ \ \ \}}
\DoxyCodeLine{03498\ }
\DoxyCodeLine{03499\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03500\ \ \ FMT\_CONSTEXPR\ \mbox{\hyperlink{classspecs__handler}{specs\_handler}}(\mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}\&\ specs,}
\DoxyCodeLine{03501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\&\ parse\_ctx,}
\DoxyCodeLine{03502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}}\&\ ctx)}
\DoxyCodeLine{03503\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classspecs__setter}{specs\_setter}}<Char>(specs),\ parse\_context\_(parse\_ctx),\ context\_(ctx)\ \{\}}
\DoxyCodeLine{03504\ }
\DoxyCodeLine{03505\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Id>\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_dynamic\_width(Id\ arg\_id)\ \{}
\DoxyCodeLine{03506\ \ \ \ \ this-\/>specs\_.width\ =\ get\_dynamic\_spec<width\_checker>(}
\DoxyCodeLine{03507\ \ \ \ \ \ \ \ \ get\_arg(arg\_id),\ context\_.error\_handler());}
\DoxyCodeLine{03508\ \ \ \}}
\DoxyCodeLine{03509\ }
\DoxyCodeLine{03510\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Id>\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ on\_dynamic\_precision(Id\ arg\_id)\ \{}
\DoxyCodeLine{03511\ \ \ \ \ this-\/>specs\_.precision\ =\ get\_dynamic\_spec<precision\_checker>(}
\DoxyCodeLine{03512\ \ \ \ \ \ \ \ \ get\_arg(arg\_id),\ context\_.error\_handler());}
\DoxyCodeLine{03513\ \ \ \}}
\DoxyCodeLine{03514\ }
\DoxyCodeLine{03515\ \ \ \textcolor{keywordtype}{void}\ on\_error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \{\ context\_.on\_error(message);\ \}}
\DoxyCodeLine{03516\ \};}
\DoxyCodeLine{03517\ }
\DoxyCodeLine{03518\ \textcolor{keyword}{template}\ <\textcolor{keyword}{template}\ <\textcolor{keyword}{typename}>\ \textcolor{keyword}{class\ }Handler,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_context}{Context}}>}
\DoxyCodeLine{03519\ FMT\_CONSTEXPR\ \textcolor{keywordtype}{void}\ handle\_dynamic\_spec(\textcolor{keywordtype}{int}\&\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{03520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structarg__ref}{arg\_ref<typename\ Context::char\_type>}}\ ref,}
\DoxyCodeLine{03521\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_context}{Context}}\&\ ctx)\ \{}
\DoxyCodeLine{03522\ \ \ \textcolor{keywordflow}{switch}\ (ref.kind)\ \{}
\DoxyCodeLine{03523\ \ \ \textcolor{keywordflow}{case}\ arg\_id\_kind::none:}
\DoxyCodeLine{03524\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03525\ \ \ \textcolor{keywordflow}{case}\ arg\_id\_kind::index:}
\DoxyCodeLine{03526\ \ \ \ \ \mbox{\hyperlink{classvalue}{value}}\ =\ detail::get\_dynamic\_spec<Handler>(ctx.arg(ref.val.index),}
\DoxyCodeLine{03527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx.error\_handler());}
\DoxyCodeLine{03528\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03529\ \ \ \textcolor{keywordflow}{case}\ arg\_id\_kind::name:}
\DoxyCodeLine{03530\ \ \ \ \ \mbox{\hyperlink{classvalue}{value}}\ =\ detail::get\_dynamic\_spec<Handler>(ctx.arg(ref.val.name),}
\DoxyCodeLine{03531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx.error\_handler());}
\DoxyCodeLine{03532\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{03533\ \ \ \}}
\DoxyCodeLine{03534\ \}}
\DoxyCodeLine{03535\ }
\DoxyCodeLine{03536\ \textcolor{preprocessor}{\#if\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{03537\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }udl\_formatter\ \{}
\DoxyCodeLine{03538\ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ str;}
\DoxyCodeLine{03539\ }
\DoxyCodeLine{03540\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{03541\ \ \ \textcolor{keyword}{auto}\ operator()(T\&\&...\ args)\ \textcolor{keyword}{const}\ -\/>\ std::basic\_string<Char>\ \{}
\DoxyCodeLine{03542\ \ \ \ \ \textcolor{keywordflow}{return}\ vformat(str,\ fmt::make\_format\_args<\mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}}>(args...));}
\DoxyCodeLine{03543\ \ \ \}}
\DoxyCodeLine{03544\ \};}
\DoxyCodeLine{03545\ }
\DoxyCodeLine{03546\ \textcolor{preprocessor}{\#\ \ if\ FMT\_USE\_NONTYPE\_TEMPLATE\_ARGS}}
\DoxyCodeLine{03547\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N,}
\DoxyCodeLine{03548\ \ \ \ \ \ \ \ \ \ \ fmt::detail\_exported::fixed\_string<Char,\ N>\ Str>}
\DoxyCodeLine{03549\ \textcolor{keyword}{struct\ }statically\_named\_arg\ :\ \mbox{\hyperlink{structview}{view}}\ \{}
\DoxyCodeLine{03550\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ name\ =\ Str.data;}
\DoxyCodeLine{03551\ }
\DoxyCodeLine{03552\ \ \ \textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{03553\ \ \ statically\_named\_arg(\textcolor{keyword}{const}\ T\&\ v)\ :\ \mbox{\hyperlink{classvalue}{value}}(v)\ \{\}}
\DoxyCodeLine{03554\ \};}
\DoxyCodeLine{03555\ }
\DoxyCodeLine{03556\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N,}
\DoxyCodeLine{03557\ \ \ \ \ \ \ \ \ \ \ fmt::detail\_exported::fixed\_string<Char,\ N>\ Str>}
\DoxyCodeLine{03558\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structis__named__arg}{is\_named\_arg}}<statically\_named\_arg<T,\ Char,\ N,\ Str>>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{03559\ }
\DoxyCodeLine{03560\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N,}
\DoxyCodeLine{03561\ \ \ \ \ \ \ \ \ \ \ fmt::detail\_exported::fixed\_string<Char,\ N>\ Str>}
\DoxyCodeLine{03562\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structis__statically__named__arg}{is\_statically\_named\_arg}}<statically\_named\_arg<T,\ Char,\ N,\ Str>>}
\DoxyCodeLine{03563\ \ \ \ \ :\ std::true\_type\ \{\};}
\DoxyCodeLine{03564\ }
\DoxyCodeLine{03565\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N,}
\DoxyCodeLine{03566\ \ \ \ \ \ \ \ \ \ \ fmt::detail\_exported::fixed\_string<Char,\ N>\ Str>}
\DoxyCodeLine{03567\ \textcolor{keyword}{struct\ }udl\_arg\ \{}
\DoxyCodeLine{03568\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ operator=(T\&\&\ \mbox{\hyperlink{classvalue}{value}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{03569\ \ \ \ \ \textcolor{keywordflow}{return}\ statically\_named\_arg<T,\ Char,\ N,\ Str>(std::forward<T>(\mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{03570\ \ \ \}}
\DoxyCodeLine{03571\ \};}
\DoxyCodeLine{03572\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{03573\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>\ \textcolor{keyword}{struct\ }udl\_arg\ \{}
\DoxyCodeLine{03574\ \ \ \textcolor{keyword}{const}\ Char*\ str;}
\DoxyCodeLine{03575\ }
\DoxyCodeLine{03576\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ operator=(T\&\&\ \mbox{\hyperlink{classvalue}{value}})\ \textcolor{keyword}{const}\ -\/>\ \mbox{\hyperlink{structnamed__arg}{named\_arg<Char,\ T>}}\ \{}
\DoxyCodeLine{03577\ \ \ \ \ \textcolor{keywordflow}{return}\ \{str,\ std::forward<T>(\mbox{\hyperlink{classvalue}{value}})\};}
\DoxyCodeLine{03578\ \ \ \}}
\DoxyCodeLine{03579\ \};}
\DoxyCodeLine{03580\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{03581\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{03582\ }
\DoxyCodeLine{03583\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Locale,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03584\ \textcolor{keyword}{auto}\ vformat(\textcolor{keyword}{const}\ Locale\&\ loc,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ format\_str,}
\DoxyCodeLine{03585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args}}<\mbox{\hyperlink{classbasic__format__context}{buffer\_context}}<type\_identity\_t<Char>>>\ args)}
\DoxyCodeLine{03586\ \ \ \ \ -\/>\ std::basic\_string<Char>\ \{}
\DoxyCodeLine{03587\ \ \ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char>}}\ \mbox{\hyperlink{classbuffer}{buffer}};}
\DoxyCodeLine{03588\ \ \ detail::vformat\_to(\mbox{\hyperlink{classbuffer}{buffer}},\ format\_str,\ args,\ detail::locale\_ref(loc));}
\DoxyCodeLine{03589\ \ \ \textcolor{keywordflow}{return}\ \{\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_a5fe8b50555561bfb4d77a2adcd5f79b2}{data}}(),\ \mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classbuffer_aebcfda1cf597e92fdd876bb1b9a1ba2a}{size}}()\};}
\DoxyCodeLine{03590\ \}}
\DoxyCodeLine{03591\ }
\DoxyCodeLine{03592\ \textcolor{keyword}{using\ }format\_func\ =\ void\ (*)(detail::buffer<char>\&,\ int,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*);}
\DoxyCodeLine{03593\ }
\DoxyCodeLine{03594\ FMT\_API\ \textcolor{keywordtype}{void}\ format\_error\_code(\mbox{\hyperlink{classbuffer}{buffer<char>}}\&\ out,\ \textcolor{keywordtype}{int}\ error\_code,}
\DoxyCodeLine{03595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ message)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{03596\ }
\DoxyCodeLine{03597\ FMT\_API\ \textcolor{keywordtype}{void}\ report\_error(format\_func\ func,\ \textcolor{keywordtype}{int}\ error\_code,}
\DoxyCodeLine{03598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{03599\ FMT\_END\_DETAIL\_NAMESPACE}
\DoxyCodeLine{03600\ }
\DoxyCodeLine{03601\ FMT\_API\ \textcolor{keyword}{auto}\ vsystem\_error(\textcolor{keywordtype}{int}\ error\_code,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ format\_str,}
\DoxyCodeLine{03602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{format\_args}}\ args)\ -\/>\ std::system\_error;}
\DoxyCodeLine{03603\ }
\DoxyCodeLine{03621\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{03622\ \textcolor{keyword}{auto}\ system\_error(\textcolor{keywordtype}{int}\ error\_code,\ \mbox{\hyperlink{classbasic__format__string}{format\_string<T...>}}\ fmt,\ T\&\&...\ args)}
\DoxyCodeLine{03623\ \ \ \ \ -\/>\ std::system\_error\ \{}
\DoxyCodeLine{03624\ \ \ \textcolor{keywordflow}{return}\ vsystem\_error(error\_code,\ fmt,\ fmt::make\_format\_args(args...));}
\DoxyCodeLine{03625\ \}}
\DoxyCodeLine{03626\ }
\DoxyCodeLine{03643\ FMT\_API\ \textcolor{keywordtype}{void}\ format\_system\_error(detail::buffer<char>\&\ out,\ \textcolor{keywordtype}{int}\ error\_code,}
\DoxyCodeLine{03644\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{03645\ }
\DoxyCodeLine{03646\ \textcolor{comment}{//\ Reports\ a\ system\ error\ without\ throwing\ an\ exception.}}
\DoxyCodeLine{03647\ \textcolor{comment}{//\ Can\ be\ used\ to\ report\ errors\ from\ destructors.}}
\DoxyCodeLine{03648\ FMT\_API\ \textcolor{keywordtype}{void}\ report\_system\_error(\textcolor{keywordtype}{int}\ error\_code,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ message)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{03649\ }
\DoxyCodeLine{03651\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classformat__int}{format\_int}}\ \{}
\DoxyCodeLine{03652\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03653\ \ \ \textcolor{comment}{//\ Buffer\ should\ be\ large\ enough\ to\ hold\ all\ digits\ (digits10\ +\ 1),}}
\DoxyCodeLine{03654\ \ \ \textcolor{comment}{//\ a\ sign\ and\ a\ null\ character.}}
\DoxyCodeLine{03655\ \ \ \textcolor{keyword}{enum}\ \{\ buffer\_size\ =\ std::numeric\_limits<unsigned\ long\ long>::digits10\ +\ 3\ \};}
\DoxyCodeLine{03656\ \ \ \textcolor{keyword}{mutable}\ \textcolor{keywordtype}{char}\ buffer\_[buffer\_size];}
\DoxyCodeLine{03657\ \ \ \textcolor{keywordtype}{char}*\ str\_;}
\DoxyCodeLine{03658\ }
\DoxyCodeLine{03659\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ UInt>\ \textcolor{keyword}{auto}\ format\_unsigned(UInt\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{03660\ \ \ \ \ \textcolor{keyword}{auto}\ n\ =\ \textcolor{keyword}{static\_cast<}detail::uint32\_or\_64\_or\_128\_t<UInt>\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{03661\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::format\_decimal(buffer\_,\ n,\ buffer\_size\ -\/\ 1).begin;}
\DoxyCodeLine{03662\ \ \ \}}
\DoxyCodeLine{03663\ }
\DoxyCodeLine{03664\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Int>\ \textcolor{keyword}{auto}\ format\_signed(Int\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{03665\ \ \ \ \ \textcolor{keyword}{auto}\ abs\_value\ =\ \textcolor{keyword}{static\_cast<}detail::uint32\_or\_64\_or\_128\_t<Int>\textcolor{keyword}{>}(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{03666\ \ \ \ \ \textcolor{keywordtype}{bool}\ negative\ =\ \mbox{\hyperlink{classvalue}{value}}\ <\ 0;}
\DoxyCodeLine{03667\ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ abs\_value\ =\ 0\ -\/\ abs\_value;}
\DoxyCodeLine{03668\ \ \ \ \ \textcolor{keyword}{auto}\ begin\ =\ format\_unsigned(abs\_value);}
\DoxyCodeLine{03669\ \ \ \ \ \textcolor{keywordflow}{if}\ (negative)\ *-\/-\/begin\ =\ \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{03670\ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{03671\ \ \ \}}
\DoxyCodeLine{03672\ }
\DoxyCodeLine{03673\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03674\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvalue}{value}})\ :\ str\_(format\_signed(\mbox{\hyperlink{classvalue}{value}}))\ \{\}}
\DoxyCodeLine{03675\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{long}\ \mbox{\hyperlink{classvalue}{value}})\ :\ str\_(format\_signed(\mbox{\hyperlink{classvalue}{value}}))\ \{\}}
\DoxyCodeLine{03676\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classvalue}{value}})\ :\ str\_(format\_signed(\mbox{\hyperlink{classvalue}{value}}))\ \{\}}
\DoxyCodeLine{03677\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{unsigned}\ \mbox{\hyperlink{classvalue}{value}})\ :\ str\_(format\_unsigned(\mbox{\hyperlink{classvalue}{value}}))\ \{\}}
\DoxyCodeLine{03678\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classvalue}{value}})\ :\ str\_(format\_unsigned(\mbox{\hyperlink{classvalue}{value}}))\ \{\}}
\DoxyCodeLine{03679\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classformat__int}{format\_int}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classvalue}{value}})}
\DoxyCodeLine{03680\ \ \ \ \ \ \ :\ str\_(format\_unsigned(\mbox{\hyperlink{classvalue}{value}}))\ \{\}}
\DoxyCodeLine{03681\ }
\DoxyCodeLine{03683\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classformat__int_a2f1870d4b535ead8699717fdcb25e997}{size}}()\ const\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{03684\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::to\_unsigned(buffer\_\ -\/\ str\_\ +\ buffer\_size\ -\/\ 1);}
\DoxyCodeLine{03685\ \ \ \}}
\DoxyCodeLine{03686\ }
\DoxyCodeLine{03691\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classformat__int_ac8f7ea8ed9a0d5bdfa5cb0661e8851b8}{data}}()\ const\ -\/>\ const\ \textcolor{keywordtype}{char}*\ \{\ \textcolor{keywordflow}{return}\ str\_;\ \}}
\DoxyCodeLine{03692\ }
\DoxyCodeLine{03697\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classformat__int_aadfe4e08e0007018df9c78863ad13d23}{c\_str}}()\ const\ -\/>\ const\ \textcolor{keywordtype}{char}*\ \{}
\DoxyCodeLine{03698\ \ \ \ \ buffer\_[buffer\_size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{03699\ \ \ \ \ \textcolor{keywordflow}{return}\ str\_;}
\DoxyCodeLine{03700\ \ \ \}}
\DoxyCodeLine{03701\ }
\DoxyCodeLine{03707\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classformat__int_a0f1b5493b06b98edb747737ba864f86f}{str}}()\ const\ -\/>\ std::\textcolor{keywordtype}{string}\ \{\ \textcolor{keywordflow}{return}\ std::string(str\_,\ size());\ \}}
\DoxyCodeLine{03708\ \};}
\DoxyCodeLine{03709\ }
\DoxyCodeLine{03710\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03711\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03712\ FMT\_CONSTEXPR\ FMT\_INLINE\ \textcolor{keyword}{auto}}
\DoxyCodeLine{03713\ \mbox{\hyperlink{structformatter}{formatter}}<T,\ Char,}
\DoxyCodeLine{03714\ \ \ \ \ \ \ \ \ \ \ enable\_if\_t<detail::type\_constant<T,\ Char>::value\ !=}
\DoxyCodeLine{03715\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::type::custom\_type>>::format(\textcolor{keyword}{const}\ T\&\ val,}
\DoxyCodeLine{03716\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FormatContext\&\ ctx)}
\DoxyCodeLine{03717\ \ \ \ \ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03718\ \ \ \textcolor{keywordflow}{if}\ (specs\_.width\_ref.kind\ !=\ detail::arg\_id\_kind::none\ ||}
\DoxyCodeLine{03719\ \ \ \ \ \ \ specs\_.precision\_ref.kind\ !=\ detail::arg\_id\_kind::none)\ \{}
\DoxyCodeLine{03720\ \ \ \ \ \textcolor{keyword}{auto}\ specs\ =\ specs\_;}
\DoxyCodeLine{03721\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs.width,}
\DoxyCodeLine{03722\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs.width\_ref,\ ctx);}
\DoxyCodeLine{03723\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{03724\ \ \ \ \ \ \ \ \ specs.precision,\ specs.precision\_ref,\ ctx);}
\DoxyCodeLine{03725\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write<Char>(ctx.out(),\ val,\ specs,\ ctx.locale());}
\DoxyCodeLine{03726\ \ \ \}}
\DoxyCodeLine{03727\ \ \ \textcolor{keywordflow}{return}\ detail::write<Char>(ctx.out(),\ val,\ specs\_,\ ctx.locale());}
\DoxyCodeLine{03728\ \}}
\DoxyCodeLine{03729\ }
\DoxyCodeLine{03730\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03731\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<void*,\ Char>\ :\ \mbox{\hyperlink{structformatter}{formatter<const\ void*,\ Char>}}\ \{}
\DoxyCodeLine{03732\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03733\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keywordtype}{void}*\ val,\ FormatContext\&\ ctx)\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03734\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structformatter}{formatter<const\ void*,\ Char>::format}}(val,\ ctx);}
\DoxyCodeLine{03735\ \ \ \}}
\DoxyCodeLine{03736\ \};}
\DoxyCodeLine{03737\ }
\DoxyCodeLine{03738\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{03739\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<Char[N],\ Char>\ :\ \mbox{\hyperlink{structformatter}{formatter}}<basic\_string\_view<Char>,\ Char>\ \{}
\DoxyCodeLine{03740\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03741\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ Char*\ val,\ FormatContext\&\ ctx)\ \textcolor{keyword}{const}}
\DoxyCodeLine{03742\ \ \ \ \ \ \ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03743\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structformatter}{formatter<basic\_string\_view<Char>}},\ Char>::format(val,\ ctx);}
\DoxyCodeLine{03744\ \ \ \}}
\DoxyCodeLine{03745\ \};}
\DoxyCodeLine{03746\ }
\DoxyCodeLine{03747\ \textcolor{comment}{//\ A\ formatter\ for\ types\ known\ only\ at\ run\ time\ such\ as\ variant\ alternatives.}}
\DoxyCodeLine{03748\ \textcolor{comment}{//}}
\DoxyCodeLine{03749\ \textcolor{comment}{//\ Usage:}}
\DoxyCodeLine{03750\ \textcolor{comment}{//\ \ \ using\ variant\ =\ std::variant<int,\ std::string>;}}
\DoxyCodeLine{03751\ \textcolor{comment}{//\ \ \ template\ <>}}
\DoxyCodeLine{03752\ \textcolor{comment}{//\ \ \ struct\ formatter<variant>:\ dynamic\_formatter<>\ \{}}
\DoxyCodeLine{03753\ \textcolor{comment}{//\ \ \ \ \ auto\ format(const\ variant\&\ v,\ format\_context\&\ ctx)\ \{}}
\DoxyCodeLine{03754\ \textcolor{comment}{//\ \ \ \ \ \ \ return\ visit([\&](const\ auto\&\ val)\ \{}}
\DoxyCodeLine{03755\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ return\ dynamic\_formatter<>::format(val,\ ctx);}}
\DoxyCodeLine{03756\ \textcolor{comment}{//\ \ \ \ \ \ \ \},\ v);}}
\DoxyCodeLine{03757\ \textcolor{comment}{//\ \ \ \ \ \}}}
\DoxyCodeLine{03758\ \textcolor{comment}{//\ \ \ \};}}
\DoxyCodeLine{03759\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char\ =\ \textcolor{keywordtype}{char}>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdynamic__formatter}{dynamic\_formatter}}\ \{}
\DoxyCodeLine{03760\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03761\ \ \ detail::dynamic\_format\_specs<Char>\ specs\_;}
\DoxyCodeLine{03762\ \ \ \textcolor{keyword}{const}\ Char*\ format\_str\_;}
\DoxyCodeLine{03763\ }
\DoxyCodeLine{03764\ \ \ \textcolor{keyword}{struct\ }null\_handler\ :\ detail::error\_handler\ \{}
\DoxyCodeLine{03765\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_align(align\_t)\ \{\}}
\DoxyCodeLine{03766\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_sign(sign\_t)\ \{\}}
\DoxyCodeLine{03767\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_hash()\ \{\}}
\DoxyCodeLine{03768\ \ \ \};}
\DoxyCodeLine{03769\ }
\DoxyCodeLine{03770\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Context>\ \textcolor{keywordtype}{void}\ handle\_specs(\mbox{\hyperlink{struct_context}{Context}}\&\ ctx)\ \{}
\DoxyCodeLine{03771\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs\_.width,}
\DoxyCodeLine{03772\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs\_.width\_ref,\ ctx);}
\DoxyCodeLine{03773\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{03774\ \ \ \ \ \ \ \ \ specs\_.precision,\ specs\_.precision\_ref,\ ctx);}
\DoxyCodeLine{03775\ \ \ \}}
\DoxyCodeLine{03776\ }
\DoxyCodeLine{03777\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03778\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{03779\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{03780\ \ \ \ \ format\_str\_\ =\ ctx.begin();}
\DoxyCodeLine{03781\ \ \ \ \ \textcolor{comment}{//\ Checks\ are\ deferred\ to\ formatting\ time\ when\ the\ argument\ type\ is\ known.}}
\DoxyCodeLine{03782\ \ \ \ \ detail::dynamic\_specs\_handler<ParseContext>\ handler(specs\_,\ ctx);}
\DoxyCodeLine{03783\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::parse\_format\_specs(ctx.begin(),\ ctx.end(),\ handler);}
\DoxyCodeLine{03784\ \ \ \}}
\DoxyCodeLine{03785\ }
\DoxyCodeLine{03786\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03787\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ T\&\ val,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03788\ \ \ \ \ handle\_specs(ctx);}
\DoxyCodeLine{03789\ \ \ \ \ detail::specs\_checker<null\_handler>\ \mbox{\hyperlink{structchecker}{checker}}(}
\DoxyCodeLine{03790\ \ \ \ \ \ \ \ \ null\_handler(),\ detail::mapped\_type\_constant<T,\ FormatContext>::value);}
\DoxyCodeLine{03791\ \ \ \ \ \mbox{\hyperlink{structchecker}{checker}}.on\_align(specs\_.align);}
\DoxyCodeLine{03792\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.sign\ !=\ sign::none)\ \mbox{\hyperlink{structchecker}{checker}}.on\_sign(specs\_.sign);}
\DoxyCodeLine{03793\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.alt)\ \mbox{\hyperlink{structchecker}{checker}}.on\_hash();}
\DoxyCodeLine{03794\ \ \ \ \ \textcolor{keywordflow}{if}\ (specs\_.precision\ >=\ 0)\ \mbox{\hyperlink{structchecker}{checker}}.end\_precision();}
\DoxyCodeLine{03795\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write<Char>(ctx.out(),\ val,\ specs\_,\ ctx.locale());}
\DoxyCodeLine{03796\ \ \ \}}
\DoxyCodeLine{03797\ \};}
\DoxyCodeLine{03798\ }
\DoxyCodeLine{03808\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ ptr(T\ p)\ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \{}
\DoxyCodeLine{03809\ \ \ \textcolor{keyword}{static\_assert}(std::is\_pointer<T>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{03810\ \ \ \textcolor{keywordflow}{return}\ detail::bit\_cast<const\ void*>(p);}
\DoxyCodeLine{03811\ \}}
\DoxyCodeLine{03812\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ ptr(\textcolor{keyword}{const}\ std::unique\_ptr<T>\&\ p)\ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \{}
\DoxyCodeLine{03813\ \ \ \textcolor{keywordflow}{return}\ p.get();}
\DoxyCodeLine{03814\ \}}
\DoxyCodeLine{03815\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ ptr(\textcolor{keyword}{const}\ std::shared\_ptr<T>\&\ p)\ -\/>\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \{}
\DoxyCodeLine{03816\ \ \ \textcolor{keywordflow}{return}\ p.get();}
\DoxyCodeLine{03817\ \}}
\DoxyCodeLine{03818\ }
\DoxyCodeLine{03829\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Enum>}
\DoxyCodeLine{03830\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ underlying(Enum\ e)\ \textcolor{keyword}{noexcept}\ -\/>\ underlying\_t<Enum>\ \{}
\DoxyCodeLine{03831\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}underlying\_t<Enum>\textcolor{keyword}{>}(e);}
\DoxyCodeLine{03832\ \}}
\DoxyCodeLine{03833\ }
\DoxyCodeLine{03834\ \textcolor{keyword}{namespace\ }enums\ \{}
\DoxyCodeLine{03835\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Enum,\ FMT\_ENABLE\_IF(std::is\_enum<Enum>::value)>}
\DoxyCodeLine{03836\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ format\_as(Enum\ e)\ \textcolor{keyword}{noexcept}\ -\/>\ underlying\_t<Enum>\ \{}
\DoxyCodeLine{03837\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}underlying\_t<Enum>\textcolor{keyword}{>}(e);}
\DoxyCodeLine{03838\ \}}
\DoxyCodeLine{03839\ \}\ \ \textcolor{comment}{//\ namespace\ enums}}
\DoxyCodeLine{03840\ }
\DoxyCodeLine{03841\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbytes}{bytes}}\ \{}
\DoxyCodeLine{03842\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03843\ \ \ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ data\_;}
\DoxyCodeLine{03844\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{classbytes}{bytes}}>;}
\DoxyCodeLine{03845\ }
\DoxyCodeLine{03846\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03847\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classbytes}{bytes}}(\mbox{\hyperlink{classbasic__string__view}{string\_view}}\ \mbox{\hyperlink{structdata}{data}})\ :\ data\_(\mbox{\hyperlink{structdata}{data}})\ \{\}}
\DoxyCodeLine{03848\ \};}
\DoxyCodeLine{03849\ }
\DoxyCodeLine{03850\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{classbytes}{bytes}}>\ \{}
\DoxyCodeLine{03851\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03852\ \ \ detail::dynamic\_format\_specs<char>\ specs\_;}
\DoxyCodeLine{03853\ }
\DoxyCodeLine{03854\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03855\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{03856\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{03857\ \ \ \ \ \textcolor{keyword}{using\ }handler\_type\ =\ detail::dynamic\_specs\_handler<ParseContext>;}
\DoxyCodeLine{03858\ \ \ \ \ detail::specs\_checker<handler\_type>\ handler(handler\_type(specs\_,\ ctx),}
\DoxyCodeLine{03859\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::type::string\_type);}
\DoxyCodeLine{03860\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ parse\_format\_specs(ctx.begin(),\ ctx.end(),\ handler);}
\DoxyCodeLine{03861\ \ \ \ \ detail::check\_string\_type\_spec(specs\_.type,\ ctx.error\_handler());}
\DoxyCodeLine{03862\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{03863\ \ \ \}}
\DoxyCodeLine{03864\ }
\DoxyCodeLine{03865\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03866\ \ \ \textcolor{keyword}{auto}\ format(\mbox{\hyperlink{classbytes}{bytes}}\ b,\ FormatContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03867\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs\_.width,}
\DoxyCodeLine{03868\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs\_.width\_ref,\ ctx);}
\DoxyCodeLine{03869\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{03870\ \ \ \ \ \ \ \ \ specs\_.precision,\ specs\_.precision\_ref,\ ctx);}
\DoxyCodeLine{03871\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write\_bytes(ctx.out(),\ b.data\_,\ specs\_);}
\DoxyCodeLine{03872\ \ \ \}}
\DoxyCodeLine{03873\ \};}
\DoxyCodeLine{03874\ }
\DoxyCodeLine{03875\ \textcolor{comment}{//\ group\_digits\_view\ is\ not\ derived\ from\ view\ because\ it\ copies\ the\ argument.}}
\DoxyCodeLine{03876\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structgroup__digits__view}{group\_digits\_view}}\ \{\ T\ \mbox{\hyperlink{classvalue}{value}};\ \};}
\DoxyCodeLine{03877\ }
\DoxyCodeLine{03889\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{auto}\ group\_digits(T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ \mbox{\hyperlink{structgroup__digits__view}{group\_digits\_view<T>}}\ \{}
\DoxyCodeLine{03890\ \ \ \textcolor{keywordflow}{return}\ \{\mbox{\hyperlink{classvalue}{value}}\};}
\DoxyCodeLine{03891\ \}}
\DoxyCodeLine{03892\ }
\DoxyCodeLine{03893\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{structgroup__digits__view}{group\_digits\_view}}<T>>\ :\ \mbox{\hyperlink{structformatter}{formatter}}<T>\ \{}
\DoxyCodeLine{03894\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03895\ \ \ detail::dynamic\_format\_specs<char>\ specs\_;}
\DoxyCodeLine{03896\ }
\DoxyCodeLine{03897\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03898\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{03899\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{03900\ \ \ \ \ \textcolor{keyword}{using\ }handler\_type\ =\ detail::dynamic\_specs\_handler<ParseContext>;}
\DoxyCodeLine{03901\ \ \ \ \ detail::specs\_checker<handler\_type>\ handler(handler\_type(specs\_,\ ctx),}
\DoxyCodeLine{03902\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::type::int\_type);}
\DoxyCodeLine{03903\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ parse\_format\_specs(ctx.begin(),\ ctx.end(),\ handler);}
\DoxyCodeLine{03904\ \ \ \ \ detail::check\_string\_type\_spec(specs\_.type,\ ctx.error\_handler());}
\DoxyCodeLine{03905\ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{03906\ \ \ \}}
\DoxyCodeLine{03907\ }
\DoxyCodeLine{03908\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03909\ \ \ \textcolor{keyword}{auto}\ format(\mbox{\hyperlink{structgroup__digits__view}{group\_digits\_view<T>}}\ t,\ FormatContext\&\ ctx)}
\DoxyCodeLine{03910\ \ \ \ \ \ \ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03911\ \ \ \ \ detail::handle\_dynamic\_spec<detail::width\_checker>(specs\_.width,}
\DoxyCodeLine{03912\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ specs\_.width\_ref,\ ctx);}
\DoxyCodeLine{03913\ \ \ \ \ detail::handle\_dynamic\_spec<detail::precision\_checker>(}
\DoxyCodeLine{03914\ \ \ \ \ \ \ \ \ specs\_.precision,\ specs\_.precision\_ref,\ ctx);}
\DoxyCodeLine{03915\ \ \ \ \ \textcolor{keywordflow}{return}\ detail::write\_int\_localized(}
\DoxyCodeLine{03916\ \ \ \ \ \ \ \ \ ctx.out(),\ \textcolor{keyword}{static\_cast<}detail::uint64\_or\_128\_t<T>\textcolor{keyword}{>}(t.value),\ 0,\ specs\_,}
\DoxyCodeLine{03917\ \ \ \ \ \ \ \ \ detail::digit\_grouping<char>(\{\textcolor{stringliteral}{"{}\(\backslash\)3"{}},\ \textcolor{stringliteral}{','}\}));}
\DoxyCodeLine{03918\ \ \ \}}
\DoxyCodeLine{03919\ \};}
\DoxyCodeLine{03920\ }
\DoxyCodeLine{03921\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ Sentinel,\ \textcolor{keyword}{typename}\ Char\ =\ \textcolor{keywordtype}{char}>}
\DoxyCodeLine{03922\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structjoin__view}{join\_view}}\ :\ detail::view\ \{}
\DoxyCodeLine{03923\ \ \ It\ begin;}
\DoxyCodeLine{03924\ \ \ Sentinel\ end;}
\DoxyCodeLine{03925\ \ \ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ sep;}
\DoxyCodeLine{03926\ }
\DoxyCodeLine{03927\ \ \ \mbox{\hyperlink{structjoin__view}{join\_view}}(It\ b,\ Sentinel\ e,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ s)}
\DoxyCodeLine{03928\ \ \ \ \ \ \ :\ begin(b),\ end(e),\ sep(s)\ \{\}}
\DoxyCodeLine{03929\ \};}
\DoxyCodeLine{03930\ }
\DoxyCodeLine{03931\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ Sentinel,\ \textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{03932\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structformatter}{formatter}}<\mbox{\hyperlink{structjoin__view}{join\_view}}<It,\ Sentinel,\ Char>,\ Char>\ \{}
\DoxyCodeLine{03933\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{03934\ \ \ \textcolor{keyword}{using\ }value\_type\ =}
\DoxyCodeLine{03935\ \textcolor{preprocessor}{\#ifdef\ \_\_cpp\_lib\_ranges}}
\DoxyCodeLine{03936\ \ \ \ \ \ \ std::iter\_value\_t<It>;}
\DoxyCodeLine{03937\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{03938\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ std::iterator\_traits<It>::value\_type;}
\DoxyCodeLine{03939\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03940\ \ \ \textcolor{keyword}{using\ }context\ =\ \mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}};}
\DoxyCodeLine{03941\ \ \ \textcolor{keyword}{using\ }mapper\ =\ detail::arg\_mapper<context>;}
\DoxyCodeLine{03942\ }
\DoxyCodeLine{03943\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(has\_formatter<T,\ context>::value)>}
\DoxyCodeLine{03944\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ map(\textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ \textcolor{keyword}{const}\ T\&\ \{}
\DoxyCodeLine{03945\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classvalue}{value}};}
\DoxyCodeLine{03946\ \ \ \}}
\DoxyCodeLine{03947\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!has\_formatter<T,\ context>::value)>}
\DoxyCodeLine{03948\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ map(\textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ \textcolor{keyword}{decltype}(mapper().map(\mbox{\hyperlink{classvalue}{value}}))\ \{}
\DoxyCodeLine{03949\ \ \ \ \ \textcolor{keywordflow}{return}\ mapper().map(\mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{03950\ \ \ \}}
\DoxyCodeLine{03951\ }
\DoxyCodeLine{03952\ \ \ \textcolor{keyword}{using\ }formatter\_type\ =}
\DoxyCodeLine{03953\ \ \ \ \ \ \ conditional\_t<is\_formattable<value\_type,\ Char>::value,}
\DoxyCodeLine{03954\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structformatter}{formatter}}<remove\_cvref\_t<\textcolor{keyword}{decltype}(map(}
\DoxyCodeLine{03955\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::declval<const\ value\_type\&>()))>,}
\DoxyCodeLine{03956\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Char>,}
\DoxyCodeLine{03957\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::fallback\_formatter<value\_type,\ Char>>;}
\DoxyCodeLine{03958\ }
\DoxyCodeLine{03959\ \ \ formatter\_type\ value\_formatter\_;}
\DoxyCodeLine{03960\ }
\DoxyCodeLine{03961\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{03962\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ParseContext>}
\DoxyCodeLine{03963\ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ parse(ParseContext\&\ ctx)\ -\/>\ \textcolor{keyword}{decltype}(ctx.begin())\ \{}
\DoxyCodeLine{03964\ \ \ \ \ \textcolor{keywordflow}{return}\ value\_formatter\_.parse(ctx);}
\DoxyCodeLine{03965\ \ \ \}}
\DoxyCodeLine{03966\ }
\DoxyCodeLine{03967\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FormatContext>}
\DoxyCodeLine{03968\ \ \ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ \mbox{\hyperlink{structjoin__view}{join\_view<It,\ Sentinel,\ Char>}}\&\ \mbox{\hyperlink{classvalue}{value}},}
\DoxyCodeLine{03969\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FormatContext\&\ ctx)\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{decltype}(ctx.out())\ \{}
\DoxyCodeLine{03970\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ \mbox{\hyperlink{classvalue}{value}}.begin;}
\DoxyCodeLine{03971\ \ \ \ \ \textcolor{keyword}{auto}\ out\ =\ ctx.out();}
\DoxyCodeLine{03972\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ \mbox{\hyperlink{classvalue}{value}}.end)\ \{}
\DoxyCodeLine{03973\ \ \ \ \ \ \ out\ =\ value\_formatter\_.format(map(*it),\ ctx);}
\DoxyCodeLine{03974\ \ \ \ \ \ \ ++it;}
\DoxyCodeLine{03975\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (it\ !=\ \mbox{\hyperlink{classvalue}{value}}.end)\ \{}
\DoxyCodeLine{03976\ \ \ \ \ \ \ \ \ out\ =\ detail::copy\_str<Char>(\mbox{\hyperlink{classvalue}{value}}.sep.begin(),\ \mbox{\hyperlink{classvalue}{value}}.sep.end(),\ out);}
\DoxyCodeLine{03977\ \ \ \ \ \ \ \ \ ctx.advance\_to(out);}
\DoxyCodeLine{03978\ \ \ \ \ \ \ \ \ out\ =\ value\_formatter\_.format(map(*it),\ ctx);}
\DoxyCodeLine{03979\ \ \ \ \ \ \ \ \ ++it;}
\DoxyCodeLine{03980\ \ \ \ \ \ \ \}}
\DoxyCodeLine{03981\ \ \ \ \ \}}
\DoxyCodeLine{03982\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{03983\ \ \ \}}
\DoxyCodeLine{03984\ \};}
\DoxyCodeLine{03985\ }
\DoxyCodeLine{03990\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ It,\ \textcolor{keyword}{typename}\ Sentinel>}
\DoxyCodeLine{03991\ \textcolor{keyword}{auto}\ join(It\ begin,\ Sentinel\ end,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ sep)\ -\/>\ \mbox{\hyperlink{structjoin__view}{join\_view<It,\ Sentinel>}}\ \{}
\DoxyCodeLine{03992\ \ \ \textcolor{keywordflow}{return}\ \{begin,\ end,\ sep\};}
\DoxyCodeLine{03993\ \}}
\DoxyCodeLine{03994\ }
\DoxyCodeLine{04011\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Range>}
\DoxyCodeLine{04012\ \textcolor{keyword}{auto}\ join(Range\&\&\ range,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ sep)}
\DoxyCodeLine{04013\ \ \ \ \ -\/>\ \mbox{\hyperlink{structjoin__view}{join\_view<detail::iterator\_t<Range>}},\ detail::sentinel\_t<Range>>\ \{}
\DoxyCodeLine{04014\ \ \ \textcolor{keywordflow}{return}\ join(std::begin(range),\ std::end(range),\ sep);}
\DoxyCodeLine{04015\ \}}
\DoxyCodeLine{04016\ }
\DoxyCodeLine{04028\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(!std::is\_\textcolor{keywordtype}{int}egral<T>::value)>}
\DoxyCodeLine{04029\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ to\_string(\textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ std::string\ \{}
\DoxyCodeLine{04030\ \ \ \textcolor{keyword}{auto}\ result\ =\ std::string();}
\DoxyCodeLine{04031\ \ \ detail::write<char>(std::back\_inserter(result),\ \mbox{\hyperlink{classvalue}{value}});}
\DoxyCodeLine{04032\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{04033\ \}}
\DoxyCodeLine{04034\ }
\DoxyCodeLine{04035\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ FMT\_ENABLE\_IF(std::is\_\textcolor{keywordtype}{int}egral<T>::value)>}
\DoxyCodeLine{04036\ FMT\_NODISCARD\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ to\_string(T\ \mbox{\hyperlink{classvalue}{value}})\ -\/>\ std::string\ \{}
\DoxyCodeLine{04037\ \ \ \textcolor{comment}{//\ The\ buffer\ should\ be\ large\ enough\ to\ store\ the\ number\ including\ the\ sign}}
\DoxyCodeLine{04038\ \ \ \textcolor{comment}{//\ or\ "{}false"{}\ for\ bool.}}
\DoxyCodeLine{04039\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ max\_size\ =\ detail::digits10<T>()\ +\ 2;}
\DoxyCodeLine{04040\ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{classbuffer}{buffer}}[max\_size\ >\ 5\ ?\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(max\_size)\ :\ 5];}
\DoxyCodeLine{04041\ \ \ \textcolor{keywordtype}{char}*\ begin\ =\ \mbox{\hyperlink{classbuffer}{buffer}};}
\DoxyCodeLine{04042\ \ \ \textcolor{keywordflow}{return}\ std::string(begin,\ detail::write<char>(begin,\ \mbox{\hyperlink{classvalue}{value}}));}
\DoxyCodeLine{04043\ \}}
\DoxyCodeLine{04044\ }
\DoxyCodeLine{04045\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char,\ \textcolor{keywordtype}{size\_t}\ SIZE>}
\DoxyCodeLine{04046\ FMT\_NODISCARD\ \textcolor{keyword}{auto}\ to\_string(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbasic__memory__buffer}{basic\_memory\_buffer<Char,\ SIZE>}}\&\ \mbox{\hyperlink{structbuf}{buf}})}
\DoxyCodeLine{04047\ \ \ \ \ -\/>\ std::basic\_string<Char>\ \{}
\DoxyCodeLine{04048\ \ \ \textcolor{keyword}{auto}\ size\ =\ \mbox{\hyperlink{structbuf}{buf}}.size();}
\DoxyCodeLine{04049\ \ \ detail::assume(size\ <\ std::basic\_string<Char>().max\_size());}
\DoxyCodeLine{04050\ \ \ \textcolor{keywordflow}{return}\ std::basic\_string<Char>(\mbox{\hyperlink{structbuf}{buf}}.data(),\ size);}
\DoxyCodeLine{04051\ \}}
\DoxyCodeLine{04052\ }
\DoxyCodeLine{04053\ FMT\_BEGIN\_DETAIL\_NAMESPACE}
\DoxyCodeLine{04054\ }
\DoxyCodeLine{04055\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Char>}
\DoxyCodeLine{04056\ \textcolor{keywordtype}{void}\ vformat\_to(}
\DoxyCodeLine{04057\ \ \ \ \ \mbox{\hyperlink{classbuffer}{buffer<Char>}}\&\ \mbox{\hyperlink{structbuf}{buf}},\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ fmt,}
\DoxyCodeLine{04058\ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args}}<FMT\_BUFFER\_CONTEXT(type\_identity\_t<Char>)>\ args,}
\DoxyCodeLine{04059\ \ \ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ loc)\ \{}
\DoxyCodeLine{04060\ \ \ \textcolor{comment}{//\ workaround\ for\ msvc\ bug\ regarding\ name-\/lookup\ in\ module}}
\DoxyCodeLine{04061\ \ \ \textcolor{comment}{//\ link\ names\ into\ function\ scope}}
\DoxyCodeLine{04062\ \ \ \textcolor{keyword}{using\ }detail::arg\_formatter;}
\DoxyCodeLine{04063\ \ \ \textcolor{keyword}{using\ }detail::buffer\_appender;}
\DoxyCodeLine{04064\ \ \ \textcolor{keyword}{using\ }detail::custom\_formatter;}
\DoxyCodeLine{04065\ \ \ \textcolor{keyword}{using\ }detail::default\_arg\_formatter;}
\DoxyCodeLine{04066\ \ \ \textcolor{keyword}{using\ }detail::get\_arg;}
\DoxyCodeLine{04067\ \ \ \textcolor{keyword}{using\ }detail::locale\_ref;}
\DoxyCodeLine{04068\ \ \ \textcolor{keyword}{using\ }detail::parse\_format\_specs;}
\DoxyCodeLine{04069\ \ \ \textcolor{keyword}{using\ }detail::specs\_checker;}
\DoxyCodeLine{04070\ \ \ \textcolor{keyword}{using\ }detail::specs\_handler;}
\DoxyCodeLine{04071\ \ \ \textcolor{keyword}{using\ }detail::to\_unsigned;}
\DoxyCodeLine{04072\ \ \ \textcolor{keyword}{using\ }detail::type;}
\DoxyCodeLine{04073\ \ \ \textcolor{keyword}{using\ }detail::write;}
\DoxyCodeLine{04074\ \ \ \textcolor{keyword}{auto}\ out\ =\ buffer\_appender<Char>(\mbox{\hyperlink{structbuf}{buf}});}
\DoxyCodeLine{04075\ \ \ \textcolor{keywordflow}{if}\ (fmt.size()\ ==\ 2\ \&\&\ equal2(fmt.data(),\ \textcolor{stringliteral}{"{}\{\}"{}}))\ \{}
\DoxyCodeLine{04076\ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ args.get(0);}
\DoxyCodeLine{04077\ \ \ \ \ \textcolor{keywordflow}{if}\ (!arg)\ \mbox{\hyperlink{structerror__handler}{error\_handler}}().on\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{04078\ \ \ \ \ visit\_format\_arg(\mbox{\hyperlink{structdefault__arg__formatter}{default\_arg\_formatter<Char>}}\{out,\ args,\ loc\},\ arg);}
\DoxyCodeLine{04079\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{04080\ \ \ \}}
\DoxyCodeLine{04081\ }
\DoxyCodeLine{04082\ \ \ \textcolor{keyword}{struct\ }format\_handler\ :\ \mbox{\hyperlink{structerror__handler}{error\_handler}}\ \{}
\DoxyCodeLine{04083\ \ \ \ \ \mbox{\hyperlink{classbasic__format__parse__context}{basic\_format\_parse\_context<Char>}}\ parse\_context;}
\DoxyCodeLine{04084\ \ \ \ \ \mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}}\ context;}
\DoxyCodeLine{04085\ }
\DoxyCodeLine{04086\ \ \ \ \ format\_handler(buffer\_appender<Char>\ p\_out,\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ str,}
\DoxyCodeLine{04087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{basic\_format\_args}}<\mbox{\hyperlink{classbasic__format__context}{buffer\_context<Char>}}>\ p\_args,}
\DoxyCodeLine{04088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlocale__ref}{locale\_ref}}\ p\_loc)}
\DoxyCodeLine{04089\ \ \ \ \ \ \ \ \ :\ parse\_context(str),\ context(p\_out,\ p\_args,\ p\_loc)\ \{\}}
\DoxyCodeLine{04090\ }
\DoxyCodeLine{04091\ \ \ \ \ \textcolor{keywordtype}{void}\ on\_text(\textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)\ \{}
\DoxyCodeLine{04092\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ text\ =\ \mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}(begin,\ to\_unsigned(end\ -\/\ begin));}
\DoxyCodeLine{04093\ \ \ \ \ \ \ context.advance\_to(write<Char>(context.out(),\ text));}
\DoxyCodeLine{04094\ \ \ \ \ \}}
\DoxyCodeLine{04095\ }
\DoxyCodeLine{04096\ \ \ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ on\_arg\_id()\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{04097\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_a9eb66391da04f3f435cb4664fc9d9170}{next\_arg\_id}}();}
\DoxyCodeLine{04098\ \ \ \ \ \}}
\DoxyCodeLine{04099\ \ \ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ on\_arg\_id(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{04100\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_a5dc605ebf44606770789dc6059235130}{check\_arg\_id}}(\textcolor{keywordtype}{id}),\ id;}
\DoxyCodeLine{04101\ \ \ \ \ \}}
\DoxyCodeLine{04102\ \ \ \ \ FMT\_CONSTEXPR\ \textcolor{keyword}{auto}\ on\_arg\_id(\mbox{\hyperlink{classbasic__string__view}{basic\_string\_view<Char>}}\ \textcolor{keywordtype}{id})\ -\/>\ \textcolor{keywordtype}{int}\ \{}
\DoxyCodeLine{04103\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ arg\_id\ =\ context.arg\_id(\textcolor{keywordtype}{id});}
\DoxyCodeLine{04104\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (arg\_id\ <\ 0)\ on\_error(\textcolor{stringliteral}{"{}argument\ not\ found"{}});}
\DoxyCodeLine{04105\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ arg\_id;}
\DoxyCodeLine{04106\ \ \ \ \ \}}
\DoxyCodeLine{04107\ }
\DoxyCodeLine{04108\ \ \ \ \ FMT\_INLINE\ \textcolor{keywordtype}{void}\ on\_replacement\_field(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ Char*)\ \{}
\DoxyCodeLine{04109\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ get\_arg(context,\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{04110\ \ \ \ \ \ \ context.advance\_to(visit\_format\_arg(}
\DoxyCodeLine{04111\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdefault__arg__formatter}{default\_arg\_formatter<Char>}}\{context.out(),\ context.args(),}
\DoxyCodeLine{04112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ context.locale()\},}
\DoxyCodeLine{04113\ \ \ \ \ \ \ \ \ \ \ arg));}
\DoxyCodeLine{04114\ \ \ \ \ \}}
\DoxyCodeLine{04115\ }
\DoxyCodeLine{04116\ \ \ \ \ \textcolor{keyword}{auto}\ on\_format\_specs(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ Char*\ begin,\ \textcolor{keyword}{const}\ Char*\ end)}
\DoxyCodeLine{04117\ \ \ \ \ \ \ \ \ -\/>\ \textcolor{keyword}{const}\ Char*\ \{}
\DoxyCodeLine{04118\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ arg\ =\ get\_arg(context,\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{04119\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (arg.type()\ ==\ type::custom\_type)\ \{}
\DoxyCodeLine{04120\ \ \ \ \ \ \ \ \ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_ac123ab6c1c6e58db3ab0a917def4add8}{advance\_to}}(parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_acacc81561f6136973796f6b1ec4bdd5d}{begin}}()\ +}
\DoxyCodeLine{04121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (begin\ -\/\ \&*parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_acacc81561f6136973796f6b1ec4bdd5d}{begin}}()));}
\DoxyCodeLine{04122\ \ \ \ \ \ \ \ \ visit\_format\_arg(\mbox{\hyperlink{structcustom__formatter}{custom\_formatter<Char>}}\{parse\_context,\ context\},\ arg);}
\DoxyCodeLine{04123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ parse\_context.\mbox{\hyperlink{classbasic__format__parse__context_acacc81561f6136973796f6b1ec4bdd5d}{begin}}();}
\DoxyCodeLine{04124\ \ \ \ \ \ \ \}}
\DoxyCodeLine{04125\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ specs\ =\ \mbox{\hyperlink{structbasic__format__specs}{basic\_format\_specs<Char>}}();}
\DoxyCodeLine{04126\ \ \ \ \ \ \ \mbox{\hyperlink{classspecs__checker}{specs\_checker<specs\_handler<Char>}}>\ handler(}
\DoxyCodeLine{04127\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classspecs__handler}{specs\_handler<Char>}}(specs,\ parse\_context,\ context),\ arg.type());}
\DoxyCodeLine{04128\ \ \ \ \ \ \ begin\ =\ parse\_format\_specs(begin,\ end,\ handler);}
\DoxyCodeLine{04129\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (begin\ ==\ end\ ||\ *begin\ !=\ \textcolor{charliteral}{'\}'})}
\DoxyCodeLine{04130\ \ \ \ \ \ \ \ \ on\_error(\textcolor{stringliteral}{"{}missing\ '\}'\ in\ format\ string"{}});}
\DoxyCodeLine{04131\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ f\ =\ \mbox{\hyperlink{structarg__formatter}{arg\_formatter<Char>}}\{context.out(),\ specs,\ context.locale()\};}
\DoxyCodeLine{04132\ \ \ \ \ \ \ context.advance\_to(visit\_format\_arg(f,\ arg));}
\DoxyCodeLine{04133\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ begin;}
\DoxyCodeLine{04134\ \ \ \ \ \}}
\DoxyCodeLine{04135\ \ \ \};}
\DoxyCodeLine{04136\ \ \ detail::parse\_format\_string<false>(fmt,\ format\_handler(out,\ fmt,\ args,\ loc));}
\DoxyCodeLine{04137\ \}}
\DoxyCodeLine{04138\ }
\DoxyCodeLine{04139\ \textcolor{preprocessor}{\#ifndef\ FMT\_HEADER\_ONLY}}
\DoxyCodeLine{04140\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keyword}{auto}\ thousands\_sep\_impl<char>(\mbox{\hyperlink{classlocale__ref}{locale\_ref}})}
\DoxyCodeLine{04141\ \ \ \ \ -\/>\ \mbox{\hyperlink{structthousands__sep__result}{thousands\_sep\_result<char>}};}
\DoxyCodeLine{04142\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keyword}{auto}\ thousands\_sep\_impl<wchar\_t>(\mbox{\hyperlink{classlocale__ref}{locale\_ref}})}
\DoxyCodeLine{04143\ \ \ \ \ -\/>\ \mbox{\hyperlink{structthousands__sep__result}{thousands\_sep\_result<wchar\_t>}};}
\DoxyCodeLine{04144\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keyword}{auto}\ decimal\_point\_impl(\mbox{\hyperlink{classlocale__ref}{locale\_ref}})\ -\/>\ char;}
\DoxyCodeLine{04145\ \textcolor{keyword}{extern}\ \textcolor{keyword}{template}\ FMT\_API\ \textcolor{keyword}{auto}\ decimal\_point\_impl(\mbox{\hyperlink{classlocale__ref}{locale\_ref}})\ -\/>\ wchar\_t;}
\DoxyCodeLine{04146\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_HEADER\_ONLY}}
\DoxyCodeLine{04147\ }
\DoxyCodeLine{04148\ FMT\_END\_DETAIL\_NAMESPACE}
\DoxyCodeLine{04149\ }
\DoxyCodeLine{04150\ \textcolor{preprocessor}{\#if\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{04151\ \textcolor{keyword}{inline}\ \textcolor{keyword}{namespace\ }literals\ \{}
\DoxyCodeLine{04162\ \textcolor{preprocessor}{\#\ \ if\ FMT\_USE\_NONTYPE\_TEMPLATE\_ARGS}}
\DoxyCodeLine{04163\ \textcolor{keyword}{template}\ <detail\_exported::fixed\_\textcolor{keywordtype}{string}\ Str>\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \textcolor{keyword}{operator}\textcolor{stringliteral}{"{}"{}}\_a()\ \{}
\DoxyCodeLine{04164\ \ \ \textcolor{keyword}{using\ }char\_t\ =\ remove\_cvref\_t<\textcolor{keyword}{decltype}(Str.data[0])>;}
\DoxyCodeLine{04165\ \ \ \textcolor{keywordflow}{return}\ detail::udl\_arg<char\_t,\ \textcolor{keyword}{sizeof}(Str.data)\ /\ \textcolor{keyword}{sizeof}(char\_t),\ Str>();}
\DoxyCodeLine{04166\ \}}
\DoxyCodeLine{04167\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{04168\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \textcolor{keyword}{operator}\textcolor{stringliteral}{"{}"{}}\ \_a(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s,\ \textcolor{keywordtype}{size\_t})\ -\/>\ detail::udl\_arg<char>\ \{}
\DoxyCodeLine{04169\ \ \ \textcolor{keywordflow}{return}\ \{s\};}
\DoxyCodeLine{04170\ \}}
\DoxyCodeLine{04171\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{04172\ \}\ \ \textcolor{comment}{//\ namespace\ literals}}
\DoxyCodeLine{04173\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_USE\_USER\_DEFINED\_LITERALS}}
\DoxyCodeLine{04174\ }
\DoxyCodeLine{04175\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Locale,\ FMT\_ENABLE\_IF(detail::is\_locale<Locale>::value)>}
\DoxyCodeLine{04176\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ vformat(\textcolor{keyword}{const}\ Locale\&\ loc,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ fmt,\ \mbox{\hyperlink{classbasic__format__args}{format\_args}}\ args)}
\DoxyCodeLine{04177\ \ \ \ \ -\/>\ std::string\ \{}
\DoxyCodeLine{04178\ \ \ \textcolor{keywordflow}{return}\ detail::vformat(loc,\ fmt,\ args);}
\DoxyCodeLine{04179\ \}}
\DoxyCodeLine{04180\ }
\DoxyCodeLine{04181\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Locale,\ \textcolor{keyword}{typename}...\ T,}
\DoxyCodeLine{04182\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(detail::is\_locale<Locale>::value)>}
\DoxyCodeLine{04183\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ format(\textcolor{keyword}{const}\ Locale\&\ loc,\ \mbox{\hyperlink{classbasic__format__string}{format\_string<T...>}}\ fmt,\ T\&\&...\ args)}
\DoxyCodeLine{04184\ \ \ \ \ -\/>\ std::string\ \{}
\DoxyCodeLine{04185\ \ \ \textcolor{keywordflow}{return}\ vformat(loc,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}(fmt),\ fmt::make\_format\_args(args...));}
\DoxyCodeLine{04186\ \}}
\DoxyCodeLine{04187\ }
\DoxyCodeLine{04188\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Locale,}
\DoxyCodeLine{04189\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(detail::is\_output\_iterator<OutputIt,\ char>::value\&\&}
\DoxyCodeLine{04190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::is\_locale<Locale>::value)>}
\DoxyCodeLine{04191\ \textcolor{keyword}{auto}\ vformat\_to(OutputIt\ out,\ \textcolor{keyword}{const}\ Locale\&\ loc,\ \mbox{\hyperlink{classbasic__string__view}{string\_view}}\ fmt,}
\DoxyCodeLine{04192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__args}{format\_args}}\ args)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{04193\ \ \ \textcolor{keyword}{using\ }detail::get\_buffer;}
\DoxyCodeLine{04194\ \ \ \textcolor{keyword}{auto}\&\&\ \mbox{\hyperlink{structbuf}{buf}}\ =\ get\_buffer<char>(out);}
\DoxyCodeLine{04195\ \ \ detail::vformat\_to(\mbox{\hyperlink{structbuf}{buf}},\ fmt,\ args,\ detail::locale\_ref(loc));}
\DoxyCodeLine{04196\ \ \ \textcolor{keywordflow}{return}\ detail::get\_iterator(\mbox{\hyperlink{structbuf}{buf}});}
\DoxyCodeLine{04197\ \}}
\DoxyCodeLine{04198\ }
\DoxyCodeLine{04199\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutputIt,\ \textcolor{keyword}{typename}\ Locale,\ \textcolor{keyword}{typename}...\ T,}
\DoxyCodeLine{04200\ \ \ \ \ \ \ \ \ \ \ FMT\_ENABLE\_IF(detail::is\_output\_iterator<OutputIt,\ char>::value\&\&}
\DoxyCodeLine{04201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ detail::is\_locale<Locale>::value)>}
\DoxyCodeLine{04202\ FMT\_INLINE\ \textcolor{keyword}{auto}\ format\_to(OutputIt\ out,\ \textcolor{keyword}{const}\ Locale\&\ loc,}
\DoxyCodeLine{04203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbasic__format__string}{format\_string<T...>}}\ fmt,\ T\&\&...\ args)\ -\/>\ OutputIt\ \{}
\DoxyCodeLine{04204\ \ \ \textcolor{keywordflow}{return}\ vformat\_to(out,\ loc,\ fmt,\ fmt::make\_format\_args(args...));}
\DoxyCodeLine{04205\ \}}
\DoxyCodeLine{04206\ }
\DoxyCodeLine{04207\ FMT\_MODULE\_EXPORT\_END}
\DoxyCodeLine{04208\ FMT\_END\_NAMESPACE}
\DoxyCodeLine{04209\ }
\DoxyCodeLine{04210\ \textcolor{preprocessor}{\#ifdef\ FMT\_HEADER\_ONLY}}
\DoxyCodeLine{04211\ \textcolor{preprocessor}{\#\ \ define\ FMT\_FUNC\ inline}}
\DoxyCodeLine{04212\ \textcolor{preprocessor}{\#\ \ include\ "{}format-\/inl.h"{}}}
\DoxyCodeLine{04213\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{04214\ \textcolor{preprocessor}{\#\ \ define\ FMT\_FUNC}}
\DoxyCodeLine{04215\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{04216\ }
\DoxyCodeLine{04217\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ FMT\_FORMAT\_H\_}}

\end{DoxyCode}
