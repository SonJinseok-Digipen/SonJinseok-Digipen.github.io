\hypertarget{llimits_8h_source}{}\doxysection{llimits.\+h}
\label{llimits_8h_source}\index{AseSprite/aseprite/third\_party/lua/llimits.h@{AseSprite/aseprite/third\_party/lua/llimits.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{**\ \$Id:\ llimits.h\ \$}}
\DoxyCodeLine{00003\ \textcolor{comment}{**\ Limits,\ basic\ types,\ and\ some\ other\ 'installation-\/dependent'\ definitions}}
\DoxyCodeLine{00004\ \textcolor{comment}{**\ See\ Copyright\ Notice\ in\ lua.h}}
\DoxyCodeLine{00005\ \textcolor{comment}{*/}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#ifndef\ llimits\_h}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#define\ llimits\_h}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <limits.h>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}lua.h"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{comment}{/*}}
\DoxyCodeLine{00019\ \textcolor{comment}{**\ 'lu\_mem'\ and\ 'l\_mem'\ are\ unsigned/signed\ integers\ big\ enough\ to\ count}}
\DoxyCodeLine{00020\ \textcolor{comment}{**\ the\ total\ memory\ used\ by\ Lua\ (in\ bytes).\ Usually,\ 'size\_t'\ and}}
\DoxyCodeLine{00021\ \textcolor{comment}{**\ 'ptrdiff\_t'\ should\ work,\ but\ we\ use\ 'long'\ for\ 16-\/bit\ machines.}}
\DoxyCodeLine{00022\ \textcolor{comment}{*/}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#if\ defined(LUAI\_MEM)\ \ \ \ \ \ \ }\textcolor{comment}{/*\ \{\ external\ definitions?\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00024\ \textcolor{keyword}{typedef}\ LUAI\_UMEM\ lu\_mem;}
\DoxyCodeLine{00025\ \textcolor{keyword}{typedef}\ LUAI\_MEM\ l\_mem;}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#elif\ LUAI\_IS32INT\ \ }\textcolor{comment}{/*\ \}\{\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00027\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{size\_t}\ lu\_mem;}
\DoxyCodeLine{00028\ \textcolor{keyword}{typedef}\ ptrdiff\_t\ l\_mem;}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{/*\ 16-\/bit\ ints\ */}\textcolor{preprocessor}{\ \ \ \ }\textcolor{comment}{/*\ \}\{\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00030\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ lu\_mem;}
\DoxyCodeLine{00031\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{long}\ l\_mem;}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#endif\ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{comment}{/*\ \}\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{comment}{/*\ chars\ used\ as\ small\ naturals\ (so\ that\ 'char'\ is\ reserved\ for\ characters)\ */}}
\DoxyCodeLine{00036\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ lu\_byte;}
\DoxyCodeLine{00037\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{signed}\ \textcolor{keywordtype}{char}\ ls\_byte;}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{comment}{/*\ maximum\ value\ for\ size\_t\ */}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#define\ MAX\_SIZET\ \ \ ((size\_t)(\string~(size\_t)0))}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{comment}{/*\ maximum\ size\ visible\ for\ Lua\ (must\ be\ representable\ in\ a\ lua\_Integer)\ */}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#define\ MAX\_SIZE\ \ \ \ (sizeof(size\_t)\ <\ sizeof(lua\_Integer)\ ?\ MAX\_SIZET\ \(\backslash\)}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ (size\_t)(LUA\_MAXINTEGER))}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#define\ MAX\_LUMEM\ \ \ ((lu\_mem)(\string~(lu\_mem)0))}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#define\ MAX\_LMEM\ \ \ \ ((l\_mem)(MAX\_LUMEM\ >>\ 1))}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#define\ MAX\_INT\ \ \ \ \ INT\_MAX\ \ }\textcolor{comment}{/*\ maximum\ value\ of\ an\ int\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{comment}{/*}}
\DoxyCodeLine{00057\ \textcolor{comment}{**\ floor\ of\ the\ log2\ of\ the\ maximum\ signed\ value\ for\ integral\ type\ 't'.}}
\DoxyCodeLine{00058\ \textcolor{comment}{**\ (That\ is,\ maximum\ 'n'\ such\ that\ '2\string^n'\ fits\ in\ the\ given\ signed\ type.)}}
\DoxyCodeLine{00059\ \textcolor{comment}{*/}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#define\ log2maxs(t)\ (sizeof(t)\ *\ 8\ -\/\ 2)}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{comment}{/*}}
\DoxyCodeLine{00064\ \textcolor{comment}{**\ test\ whether\ an\ unsigned\ value\ is\ a\ power\ of\ 2\ (or\ zero)}}
\DoxyCodeLine{00065\ \textcolor{comment}{*/}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#define\ ispow2(x)\ \ \ (((x)\ \&\ ((x)\ -\/\ 1))\ ==\ 0)}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{comment}{/*\ number\ of\ chars\ of\ a\ literal\ string\ without\ the\ ending\ \(\backslash\)0\ */}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ LL(x)\ \ \ (sizeof(x)/sizeof(char)\ -\/\ 1)}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{comment}{/*}}
\DoxyCodeLine{00074\ \textcolor{comment}{**\ conversion\ of\ pointer\ to\ unsigned\ integer:}}
\DoxyCodeLine{00075\ \textcolor{comment}{**\ this\ is\ for\ hashing\ only;\ there\ is\ no\ problem\ if\ the\ integer}}
\DoxyCodeLine{00076\ \textcolor{comment}{**\ cannot\ hold\ the\ whole\ pointer\ value}}
\DoxyCodeLine{00077\ \textcolor{comment}{*/}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#define\ point2uint(p)\ \ \ ((unsigned\ int)((size\_t)(p)\ \&\ UINT\_MAX))}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \textcolor{comment}{/*\ types\ of\ 'usual\ argument\ conversions'\ for\ lua\_Number\ and\ lua\_Integer\ */}}
\DoxyCodeLine{00083\ \textcolor{keyword}{typedef}\ LUAI\_UACNUMBER\ l\_uacNumber;}
\DoxyCodeLine{00084\ \textcolor{keyword}{typedef}\ LUAI\_UACINT\ l\_uacInt;}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{comment}{/*}}
\DoxyCodeLine{00088\ \textcolor{comment}{**\ Internal\ assertions\ for\ in-\/house\ debugging}}
\DoxyCodeLine{00089\ \textcolor{comment}{*/}}
\DoxyCodeLine{00090\ \textcolor{preprocessor}{\#if\ defined\ LUAI\_ASSERT}}
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\#undef\ NDEBUG}}
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#include\ <assert.h>}}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\#define\ lua\_assert(c)\ \ \ \ \ \ \ \ \ \ \ assert(c)}}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\#if\ defined(lua\_assert)}}
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\#define\ check\_exp(c,e)\ \ \ \ \ \ (lua\_assert(c),\ (e))}}
\DoxyCodeLine{00098\ \textcolor{comment}{/*\ to\ avoid\ problems\ with\ conditions\ too\ long\ */}}
\DoxyCodeLine{00099\ \textcolor{preprocessor}{\#define\ lua\_longassert(c)\ \ \ ((c)\ ?\ (void)0\ :\ lua\_assert(0))}}
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\#define\ lua\_assert(c)\ \ \ \ \ \ \ ((void)0)}}
\DoxyCodeLine{00102\ \textcolor{preprocessor}{\#define\ check\_exp(c,e)\ \ \ \ \ \ (e)}}
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\#define\ lua\_longassert(c)\ \ \ ((void)0)}}
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \textcolor{comment}{/*}}
\DoxyCodeLine{00107\ \textcolor{comment}{**\ assertion\ for\ checking\ API\ calls}}
\DoxyCodeLine{00108\ \textcolor{comment}{*/}}
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#if\ !defined(luai\_apicheck)}}
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#define\ luai\_apicheck(l,e)\ \ ((void)l,\ lua\_assert(e))}}
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#define\ api\_check(l,e,msg)\ \ luai\_apicheck(l,(e)\ \&\&\ msg)}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{comment}{/*\ macro\ to\ avoid\ warnings\ about\ unused\ variables\ */}}
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\#if\ !defined(UNUSED)}}
\DoxyCodeLine{00118\ \textcolor{preprocessor}{\#define\ UNUSED(x)\ \ \ ((void)(x))}}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \textcolor{comment}{/*\ type\ casts\ (a\ macro\ highlights\ casts\ in\ the\ code)\ */}}
\DoxyCodeLine{00123\ \textcolor{preprocessor}{\#define\ cast(t,\ exp)\ \ \ \ ((t)(exp))}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\#define\ cast\_void(i)\ \ \ \ cast(void,\ (i))}}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#define\ cast\_voidp(i)\ \ \ cast(void\ *,\ (i))}}
\DoxyCodeLine{00127\ \textcolor{preprocessor}{\#define\ cast\_num(i)\ cast(lua\_Number,\ (i))}}
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#define\ cast\_int(i)\ cast(int,\ (i))}}
\DoxyCodeLine{00129\ \textcolor{preprocessor}{\#define\ cast\_uint(i)\ \ \ \ cast(unsigned\ int,\ (i))}}
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\#define\ cast\_byte(i)\ \ \ \ cast(lu\_byte,\ (i))}}
\DoxyCodeLine{00131\ \textcolor{preprocessor}{\#define\ cast\_uchar(i)\ \ \ cast(unsigned\ char,\ (i))}}
\DoxyCodeLine{00132\ \textcolor{preprocessor}{\#define\ cast\_char(i)\ \ \ \ cast(char,\ (i))}}
\DoxyCodeLine{00133\ \textcolor{preprocessor}{\#define\ cast\_charp(i)\ \ \ cast(char\ *,\ (i))}}
\DoxyCodeLine{00134\ \textcolor{preprocessor}{\#define\ cast\_sizet(i)\ \ \ cast(size\_t,\ (i))}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \textcolor{comment}{/*\ cast\ a\ signed\ lua\_Integer\ to\ lua\_Unsigned\ */}}
\DoxyCodeLine{00138\ \textcolor{preprocessor}{\#if\ !defined(l\_castS2U)}}
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#define\ l\_castS2U(i)\ \ \ \ ((lua\_Unsigned)(i))}}
\DoxyCodeLine{00140\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \textcolor{comment}{/*}}
\DoxyCodeLine{00143\ \textcolor{comment}{**\ cast\ a\ lua\_Unsigned\ to\ a\ signed\ lua\_Integer;\ this\ cast\ is}}
\DoxyCodeLine{00144\ \textcolor{comment}{**\ not\ strict\ ISO\ C,\ but\ two-\/complement\ architectures\ should}}
\DoxyCodeLine{00145\ \textcolor{comment}{**\ work\ fine.}}
\DoxyCodeLine{00146\ \textcolor{comment}{*/}}
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\#if\ !defined(l\_castU2S)}}
\DoxyCodeLine{00148\ \textcolor{preprocessor}{\#define\ l\_castU2S(i)\ \ \ \ ((lua\_Integer)(i))}}
\DoxyCodeLine{00149\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \textcolor{comment}{/*}}
\DoxyCodeLine{00153\ \textcolor{comment}{**\ non-\/return\ type}}
\DoxyCodeLine{00154\ \textcolor{comment}{*/}}
\DoxyCodeLine{00155\ \textcolor{preprocessor}{\#if\ !defined(l\_noret)}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\#define\ l\_noret\ \ \ \ \ void\ \_\_attribute\_\_((noreturn))}}
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\#elif\ defined(\_MSC\_VER)\ \&\&\ \_MSC\_VER\ >=\ 1200}}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#define\ l\_noret\ \ \ \ \ void\ \_\_declspec(noreturn)}}
\DoxyCodeLine{00161\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00162\ \textcolor{preprocessor}{\#define\ l\_noret\ \ \ \ \ void}}
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \textcolor{comment}{/*}}
\DoxyCodeLine{00169\ \textcolor{comment}{**\ type\ for\ virtual-\/machine\ instructions;}}
\DoxyCodeLine{00170\ \textcolor{comment}{**\ must\ be\ an\ unsigned\ with\ (at\ least)\ 4\ bytes\ (see\ details\ in\ lopcodes.h)}}
\DoxyCodeLine{00171\ \textcolor{comment}{*/}}
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\#if\ LUAI\_IS32INT}}
\DoxyCodeLine{00173\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ l\_uint32;}
\DoxyCodeLine{00174\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00175\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ l\_uint32;}
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \textcolor{keyword}{typedef}\ l\_uint32\ Instruction;}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \textcolor{comment}{/*}}
\DoxyCodeLine{00183\ \textcolor{comment}{**\ Maximum\ length\ for\ short\ strings,\ that\ is,\ strings\ that\ are}}
\DoxyCodeLine{00184\ \textcolor{comment}{**\ internalized.\ (Cannot\ be\ smaller\ than\ reserved\ words\ or\ tags\ for}}
\DoxyCodeLine{00185\ \textcolor{comment}{**\ metamethods,\ as\ these\ strings\ must\ be\ internalized;}}
\DoxyCodeLine{00186\ \textcolor{comment}{**\ \#("{}function"{})\ =\ 8,\ \#("{}\_\_newindex"{})\ =\ 10.)}}
\DoxyCodeLine{00187\ \textcolor{comment}{*/}}
\DoxyCodeLine{00188\ \textcolor{preprocessor}{\#if\ !defined(LUAI\_MAXSHORTLEN)}}
\DoxyCodeLine{00189\ \textcolor{preprocessor}{\#define\ LUAI\_MAXSHORTLEN\ \ \ \ 40}}
\DoxyCodeLine{00190\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \textcolor{comment}{/*}}
\DoxyCodeLine{00194\ \textcolor{comment}{**\ Initial\ size\ for\ the\ string\ table\ (must\ be\ power\ of\ 2).}}
\DoxyCodeLine{00195\ \textcolor{comment}{**\ The\ Lua\ core\ alone\ registers\ \string~50\ strings\ (reserved\ words\ +}}
\DoxyCodeLine{00196\ \textcolor{comment}{**\ metaevent\ keys\ +\ a\ few\ others).\ Libraries\ would\ typically\ add}}
\DoxyCodeLine{00197\ \textcolor{comment}{**\ a\ few\ dozens\ more.}}
\DoxyCodeLine{00198\ \textcolor{comment}{*/}}
\DoxyCodeLine{00199\ \textcolor{preprocessor}{\#if\ !defined(MINSTRTABSIZE)}}
\DoxyCodeLine{00200\ \textcolor{preprocessor}{\#define\ MINSTRTABSIZE\ \ \ 128}}
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \textcolor{comment}{/*}}
\DoxyCodeLine{00205\ \textcolor{comment}{**\ Size\ of\ cache\ for\ strings\ in\ the\ API.\ 'N'\ is\ the\ number\ of}}
\DoxyCodeLine{00206\ \textcolor{comment}{**\ sets\ (better\ be\ a\ prime)\ and\ "{}M"{}\ is\ the\ size\ of\ each\ set\ (M\ ==\ 1}}
\DoxyCodeLine{00207\ \textcolor{comment}{**\ makes\ a\ direct\ cache.)}}
\DoxyCodeLine{00208\ \textcolor{comment}{*/}}
\DoxyCodeLine{00209\ \textcolor{preprocessor}{\#if\ !defined(STRCACHE\_N)}}
\DoxyCodeLine{00210\ \textcolor{preprocessor}{\#define\ STRCACHE\_N\ \ \ \ \ \ 53}}
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#define\ STRCACHE\_M\ \ \ \ \ \ 2}}
\DoxyCodeLine{00212\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \textcolor{comment}{/*\ minimum\ size\ for\ string\ buffer\ */}}
\DoxyCodeLine{00216\ \textcolor{preprocessor}{\#if\ !defined(LUA\_MINBUFFER)}}
\DoxyCodeLine{00217\ \textcolor{preprocessor}{\#define\ LUA\_MINBUFFER\ \ \ 32}}
\DoxyCodeLine{00218\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \textcolor{comment}{/*}}
\DoxyCodeLine{00222\ \textcolor{comment}{**\ Maximum\ depth\ for\ nested\ C\ calls,\ syntactical\ nested\ non-\/terminals,}}
\DoxyCodeLine{00223\ \textcolor{comment}{**\ and\ other\ features\ implemented\ through\ recursion\ in\ C.\ (Value\ must}}
\DoxyCodeLine{00224\ \textcolor{comment}{**\ fit\ in\ a\ 16-\/bit\ unsigned\ integer.\ It\ must\ also\ be\ compatible\ with}}
\DoxyCodeLine{00225\ \textcolor{comment}{**\ the\ size\ of\ the\ C\ stack.)}}
\DoxyCodeLine{00226\ \textcolor{comment}{*/}}
\DoxyCodeLine{00227\ \textcolor{preprocessor}{\#if\ !defined(LUAI\_MAXCCALLS)}}
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#define\ LUAI\_MAXCCALLS\ \ \ \ \ \ 200}}
\DoxyCodeLine{00229\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \textcolor{comment}{/*}}
\DoxyCodeLine{00233\ \textcolor{comment}{**\ macros\ that\ are\ executed\ whenever\ program\ enters\ the\ Lua\ core}}
\DoxyCodeLine{00234\ \textcolor{comment}{**\ ('lua\_lock')\ and\ leaves\ the\ core\ ('lua\_unlock')}}
\DoxyCodeLine{00235\ \textcolor{comment}{*/}}
\DoxyCodeLine{00236\ \textcolor{preprocessor}{\#if\ !defined(lua\_lock)}}
\DoxyCodeLine{00237\ \textcolor{preprocessor}{\#define\ lua\_lock(L)\ ((void)\ 0)}}
\DoxyCodeLine{00238\ \textcolor{preprocessor}{\#define\ lua\_unlock(L)\ \ \ ((void)\ 0)}}
\DoxyCodeLine{00239\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \textcolor{comment}{/*}}
\DoxyCodeLine{00242\ \textcolor{comment}{**\ macro\ executed\ during\ Lua\ functions\ at\ points\ where\ the}}
\DoxyCodeLine{00243\ \textcolor{comment}{**\ function\ can\ yield.}}
\DoxyCodeLine{00244\ \textcolor{comment}{*/}}
\DoxyCodeLine{00245\ \textcolor{preprocessor}{\#if\ !defined(luai\_threadyield)}}
\DoxyCodeLine{00246\ \textcolor{preprocessor}{\#define\ luai\_threadyield(L)\ \{lua\_unlock(L);\ lua\_lock(L);\}}}
\DoxyCodeLine{00247\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \textcolor{comment}{/*}}
\DoxyCodeLine{00251\ \textcolor{comment}{**\ these\ macros\ allow\ user-\/specific\ actions\ when\ a\ thread\ is}}
\DoxyCodeLine{00252\ \textcolor{comment}{**\ created/deleted/resumed/yielded.}}
\DoxyCodeLine{00253\ \textcolor{comment}{*/}}
\DoxyCodeLine{00254\ \textcolor{preprocessor}{\#if\ !defined(luai\_userstateopen)}}
\DoxyCodeLine{00255\ \textcolor{preprocessor}{\#define\ luai\_userstateopen(L)\ \ \ \ \ \ \ ((void)L)}}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \textcolor{preprocessor}{\#if\ !defined(luai\_userstateclose)}}
\DoxyCodeLine{00259\ \textcolor{preprocessor}{\#define\ luai\_userstateclose(L)\ \ \ \ \ \ ((void)L)}}
\DoxyCodeLine{00260\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \textcolor{preprocessor}{\#if\ !defined(luai\_userstatethread)}}
\DoxyCodeLine{00263\ \textcolor{preprocessor}{\#define\ luai\_userstatethread(L,L1)\ \ ((void)L)}}
\DoxyCodeLine{00264\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \textcolor{preprocessor}{\#if\ !defined(luai\_userstatefree)}}
\DoxyCodeLine{00267\ \textcolor{preprocessor}{\#define\ luai\_userstatefree(L,L1)\ \ \ \ ((void)L)}}
\DoxyCodeLine{00268\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \textcolor{preprocessor}{\#if\ !defined(luai\_userstateresume)}}
\DoxyCodeLine{00271\ \textcolor{preprocessor}{\#define\ luai\_userstateresume(L,n)\ \ \ ((void)L)}}
\DoxyCodeLine{00272\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \textcolor{preprocessor}{\#if\ !defined(luai\_userstateyield)}}
\DoxyCodeLine{00275\ \textcolor{preprocessor}{\#define\ luai\_userstateyield(L,n)\ \ \ \ ((void)L)}}
\DoxyCodeLine{00276\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \textcolor{comment}{/*}}
\DoxyCodeLine{00281\ \textcolor{comment}{**\ The\ luai\_num*\ macros\ define\ the\ primitive\ operations\ over\ numbers.}}
\DoxyCodeLine{00282\ \textcolor{comment}{*/}}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \textcolor{comment}{/*\ floor\ division\ (defined\ as\ 'floor(a/b)')\ */}}
\DoxyCodeLine{00285\ \textcolor{preprocessor}{\#if\ !defined(luai\_numidiv)}}
\DoxyCodeLine{00286\ \textcolor{preprocessor}{\#define\ luai\_numidiv(L,a,b)\ \ \ \ \ ((void)L,\ l\_floor(luai\_numdiv(L,a,b)))}}
\DoxyCodeLine{00287\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \textcolor{comment}{/*\ float\ division\ */}}
\DoxyCodeLine{00290\ \textcolor{preprocessor}{\#if\ !defined(luai\_numdiv)}}
\DoxyCodeLine{00291\ \textcolor{preprocessor}{\#define\ luai\_numdiv(L,a,b)\ \ \ \ \ \ ((a)/(b))}}
\DoxyCodeLine{00292\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \textcolor{comment}{/*}}
\DoxyCodeLine{00295\ \textcolor{comment}{**\ modulo:\ defined\ as\ 'a\ -\/\ floor(a/b)*b';\ the\ direct\ computation}}
\DoxyCodeLine{00296\ \textcolor{comment}{**\ using\ this\ definition\ has\ several\ problems\ with\ rounding\ errors,}}
\DoxyCodeLine{00297\ \textcolor{comment}{**\ so\ it\ is\ better\ to\ use\ 'fmod'.\ 'fmod'\ gives\ the\ result\ of}}
\DoxyCodeLine{00298\ \textcolor{comment}{**\ 'a\ -\/\ trunc(a/b)*b',\ and\ therefore\ must\ be\ corrected\ when}}
\DoxyCodeLine{00299\ \textcolor{comment}{**\ 'trunc(a/b)\ \string~=\ floor(a/b)'.\ That\ happens\ when\ the\ division\ has\ a}}
\DoxyCodeLine{00300\ \textcolor{comment}{**\ non-\/integer\ negative\ result:\ non-\/integer\ result\ is\ equivalent\ to}}
\DoxyCodeLine{00301\ \textcolor{comment}{**\ a\ non-\/zero\ remainder\ 'm';\ negative\ result\ is\ equivalent\ to\ 'a'\ and}}
\DoxyCodeLine{00302\ \textcolor{comment}{**\ 'b'\ with\ different\ signs,\ or\ 'm'\ and\ 'b'\ with\ different\ signs}}
\DoxyCodeLine{00303\ \textcolor{comment}{**\ (as\ the\ result\ 'm'\ of\ 'fmod'\ has\ the\ same\ sign\ of\ 'a').}}
\DoxyCodeLine{00304\ \textcolor{comment}{*/}}
\DoxyCodeLine{00305\ \textcolor{preprocessor}{\#if\ !defined(luai\_nummod)}}
\DoxyCodeLine{00306\ \textcolor{preprocessor}{\#define\ luai\_nummod(L,a,b,m)\ \ \(\backslash\)}}
\DoxyCodeLine{00307\ \textcolor{preprocessor}{\ \ \{\ (void)L;\ (m)\ =\ l\_mathop(fmod)(a,b);\ \(\backslash\)}}
\DoxyCodeLine{00308\ \textcolor{preprocessor}{\ \ \ \ if\ (((m)\ >\ 0)\ ?\ (b)\ <\ 0\ :\ ((m)\ <\ 0\ \&\&\ (b)\ >\ 0))\ (m)\ +=\ (b);\ \}}}
\DoxyCodeLine{00309\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \textcolor{comment}{/*\ exponentiation\ */}}
\DoxyCodeLine{00312\ \textcolor{preprocessor}{\#if\ !defined(luai\_numpow)}}
\DoxyCodeLine{00313\ \textcolor{preprocessor}{\#define\ luai\_numpow(L,a,b)\ \ \(\backslash\)}}
\DoxyCodeLine{00314\ \textcolor{preprocessor}{\ \ ((void)L,\ (b\ ==\ 2)\ ?\ (a)*(a)\ :\ l\_mathop(pow)(a,b))}}
\DoxyCodeLine{00315\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \textcolor{comment}{/*\ the\ others\ are\ quite\ standard\ operations\ */}}
\DoxyCodeLine{00318\ \textcolor{preprocessor}{\#if\ !defined(luai\_numadd)}}
\DoxyCodeLine{00319\ \textcolor{preprocessor}{\#define\ luai\_numadd(L,a,b)\ \ \ \ \ \ ((a)+(b))}}
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#define\ luai\_numsub(L,a,b)\ \ \ \ \ \ ((a)-\/(b))}}
\DoxyCodeLine{00321\ \textcolor{preprocessor}{\#define\ luai\_nummul(L,a,b)\ \ \ \ \ \ ((a)*(b))}}
\DoxyCodeLine{00322\ \textcolor{preprocessor}{\#define\ luai\_numunm(L,a)\ \ \ \ \ \ \ \ (-\/(a))}}
\DoxyCodeLine{00323\ \textcolor{preprocessor}{\#define\ luai\_numeq(a,b)\ \ \ \ \ \ \ \ \ ((a)==(b))}}
\DoxyCodeLine{00324\ \textcolor{preprocessor}{\#define\ luai\_numlt(a,b)\ \ \ \ \ \ \ \ \ ((a)<(b))}}
\DoxyCodeLine{00325\ \textcolor{preprocessor}{\#define\ luai\_numle(a,b)\ \ \ \ \ \ \ \ \ ((a)<=(b))}}
\DoxyCodeLine{00326\ \textcolor{preprocessor}{\#define\ luai\_numgt(a,b)\ \ \ \ \ \ \ \ \ ((a)>(b))}}
\DoxyCodeLine{00327\ \textcolor{preprocessor}{\#define\ luai\_numge(a,b)\ \ \ \ \ \ \ \ \ ((a)>=(b))}}
\DoxyCodeLine{00328\ \textcolor{preprocessor}{\#define\ luai\_numisnan(a)\ \ \ \ \ \ \ \ (!luai\_numeq((a),\ (a)))}}
\DoxyCodeLine{00329\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \textcolor{comment}{/*}}
\DoxyCodeLine{00336\ \textcolor{comment}{**\ macro\ to\ control\ inclusion\ of\ some\ hard\ tests\ on\ stack\ reallocation}}
\DoxyCodeLine{00337\ \textcolor{comment}{*/}}
\DoxyCodeLine{00338\ \textcolor{preprocessor}{\#if\ !defined(HARDSTACKTESTS)}}
\DoxyCodeLine{00339\ \textcolor{preprocessor}{\#define\ condmovestack(L,pre,pos)\ \ \ \ ((void)0)}}
\DoxyCodeLine{00340\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00341\ \textcolor{comment}{/*\ realloc\ stack\ keeping\ its\ size\ */}}
\DoxyCodeLine{00342\ \textcolor{preprocessor}{\#define\ condmovestack(L,pre,pos)\ \ \(\backslash\)}}
\DoxyCodeLine{00343\ \textcolor{preprocessor}{\ \ \{\ int\ sz\_\ =\ stacksize(L);\ pre;\ luaD\_reallocstack((L),\ sz\_,\ 0);\ pos;\ \}}}
\DoxyCodeLine{00344\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \textcolor{preprocessor}{\#if\ !defined(HARDMEMTESTS)}}
\DoxyCodeLine{00347\ \textcolor{preprocessor}{\#define\ condchangemem(L,pre,pos)\ \ \ \ ((void)0)}}
\DoxyCodeLine{00348\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00349\ \textcolor{preprocessor}{\#define\ condchangemem(L,pre,pos)\ \ \(\backslash\)}}
\DoxyCodeLine{00350\ \textcolor{preprocessor}{\ \ \ \ \{\ if\ (G(L)-\/>gcrunning)\ \{\ pre;\ luaC\_fullgc(L,\ 0);\ pos;\ \}\ \}}}
\DoxyCodeLine{00351\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
