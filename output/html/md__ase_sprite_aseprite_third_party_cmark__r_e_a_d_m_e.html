<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: cmark</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project<span id="projectnumber">&#160;Version 0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">cmark </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/commonmark/cmark/actions"><img src="https://github.com/commonmark/cmark/workflows/CI%20tests/badge.svg" alt="CI tests" style="pointer-events: none;" class="inline"/></a></p>
<p><code>cmark</code> is the C reference implementation of <a href="http://commonmark.org">CommonMark</a>, a rationalized version of Markdown syntax with a <a href="http://spec.commonmark.org">spec</a>. (For the JavaScript reference implementation, see <a href="https://github.com/commonmark/commonmark.js">commonmark.js</a>.)</p>
<p>It provides a shared library (<code>libcmark</code>) with functions for parsing CommonMark documents to an abstract syntax tree (AST), manipulating the AST, and rendering the document to HTML, groff man, LaTeX, CommonMark, or an XML representation of the AST. It also provides a command-line program (<code>cmark</code>) for parsing and rendering CommonMark documents.</p>
<p>Advantages of this library:</p>
<ul>
<li><b>Portable.</b> The library and program are written in standard C99 and have no external dependencies. They have been tested with MSVC, gcc, tcc, and clang.</li>
<li><b>Fast.</b> cmark can render a Markdown version of <em>War and Peace</em> in the blink of an eye (127 milliseconds on a ten year old laptop, vs. 100-400 milliseconds for an eye blink). In our <a class="el" href="md__ase_sprite_aseprite_third_party_cmark_benchmarks.html">benchmarks</a>, cmark is 10,000 times faster than the original <code>Markdown.pl</code>, and on par with the very fastest available Markdown processors.</li>
<li><b>Accurate.</b> The library passes all CommonMark conformance tests.</li>
<li><b>Standardized.</b> The library can be expected to parse CommonMark the same way as any other conforming parser. So, for example, you can use <code>commonmark.js</code> on the client to preview content that will be rendered on the server using <code>cmark</code>.</li>
<li><b>Robust.</b> The library has been extensively fuzz-tested using <a href="http://lcamtuf.coredump.cx/afl/">american fuzzy lop</a>. The test suite includes pathological cases that bring many other Markdown parsers to a crawl (for example, thousands-deep nested bracketed text or block quotes).</li>
<li><b>Flexible.</b> CommonMark input is parsed to an AST which can be manipulated programmatically prior to rendering.</li>
<li><b>Multiple renderers.</b> Output in HTML, groff man, LaTeX, CommonMark, and a custom XML format is supported. And it is easy to write new renderers to support other formats.</li>
<li><b>Free.</b> BSD2-licensed.</li>
</ul>
<p>It is easy to use <code>libcmark</code> in python, lua, ruby, and other dynamic languages: see the <code>wrappers/</code> subdirectory for some simple examples.</p>
<p>There are also libraries that wrap <code>libcmark</code> for <a href="https://github.com/rhinoman/go-commonmark">Go</a>, <a href="https://hackage.haskell.org/package/cmark">Haskell</a>, <a href="https://github.com/gjtorikian/commonmarker">Ruby</a>, <a href="https://github.com/jgm/cmark-lua">Lua</a>, <a href="https://metacpan.org/release/CommonMark">Perl</a>, <a href="https://pypi.python.org/pypi/paka.cmark">Python</a>, <a href="https://cran.r-project.org/package=commonmark">R</a> and <a href="https://github.com/sparsetech/cmark-scala">Scala</a>.</p>
<h1><a class="anchor" id="autotoc_md632"></a>
Installing</h1>
<p>Building the C program (<code>cmark</code>) and shared library (<code>libcmark</code>) requires <a href="http://www.cmake.org/download/">cmake</a>. If you modify <code>scanners.re</code>, then you will also need <a href="http://re2c.org">re2c</a> (&gt;= 0.14.2), which is used to generate <code>scanners.c</code> from <code>scanners.re</code>. We have included a pre-generated <code>scanners.c</code> in the repository to reduce build dependencies.</p>
<p>If you have GNU make, you can simply <code>make</code>, <code>make test</code>, and <code>make install</code>. This calls <a href="http://www.cmake.org/download/">cmake</a> to create a <code>Makefile</code> in the <code>build</code> directory, then uses that <code>Makefile</code> to create the executable and library. The binaries can be found in <code>build/src</code>. The default installation prefix is <code>/usr/local</code>. To change the installation prefix, pass the <code>INSTALL_PREFIX</code> variable if you run <code>make</code> for the first time: <code>make INSTALL_PREFIX=path</code>.</p>
<p>For a more portable method, you can use <a href="http://www.cmake.org/download/">cmake</a> manually. <a href="http://www.cmake.org/download/">cmake</a> knows how to create build environments for many build systems. For example, on FreeBSD: </p><pre class="fragment">mkdir build
cd build
cmake ..  # optionally: -DCMAKE_INSTALL_PREFIX=path
make      # executable will be created as build/src/cmark
make test
make install
</pre><p> Or, to create Xcode project files on OSX: </p><pre class="fragment">mkdir build
cd build
cmake -G Xcode ..
open cmark.xcodeproj
</pre><p> The GNU Makefile also provides a few other targets for developers. To run a benchmark: </p><pre class="fragment">make bench
</pre><p> For more detailed benchmarks: </p><pre class="fragment">make newbench
</pre><p> To run a test for memory leaks using <code>valgrind</code>: </p><pre class="fragment">make leakcheck
</pre><p> To reformat source code using <code>clang-format</code>: </p><pre class="fragment">make format
</pre><p> To run a "fuzz test" against ten long randomly generated inputs: </p><pre class="fragment">make fuzztest
</pre><p> To do a more systematic fuzz test with [american fuzzy lop]: </p><pre class="fragment">AFL_PATH=/path/to/afl_directory make afl
</pre><p> Fuzzing with <a href="http://llvm.org/docs/LibFuzzer.html">libFuzzer</a> is also supported but, because libFuzzer is still under active development, may not work with your system-installed version of clang. Assuming LLVM has been built in <code>$HOME/src/llvm/build</code> the fuzzer can be run with: </p><pre class="fragment">CC="$HOME/src/llvm/build/bin/clang" LIB_FUZZER_PATH="$HOME/src/llvm/lib/Fuzzer/libFuzzer.a" make libFuzzer
</pre><p> To make a release tarball and zip archive: </p><pre class="fragment">make archive
</pre> <h1><a class="anchor" id="autotoc_md633"></a>
Installing (Windows)</h1>
<p>To compile with MSVC and NMAKE: </p><pre class="fragment">nmake
</pre><p> You can cross-compile a Windows binary and dll on linux if you have the <code>mingw32</code> compiler: </p><pre class="fragment">make mingw
</pre><p> The binaries will be in <code>build-mingw/windows/bin</code>.</p>
<h1><a class="anchor" id="autotoc_md634"></a>
Usage</h1>
<p>Instructions for the use of the command line program and library can be found in the man pages in the <code>man</code> subdirectory.</p>
<h1><a class="anchor" id="autotoc_md635"></a>
Security</h1>
<p>By default, the library will scrub raw HTML and potentially dangerous links (<code>javascript:</code>, <code>vbscript:</code>, <code>data:</code>, <code>file:</code>).</p>
<p>To allow these, use the option <code>CMARK_OPT_UNSAFE</code> (or <code>--unsafe</code>) with the command line program. If doing so, we recommend you use a HTML sanitizer specific to your needs to protect against <a href="http://en.wikipedia.org/wiki/Cross-site_scripting">XSS attacks</a>.</p>
<h1><a class="anchor" id="autotoc_md636"></a>
Contributing</h1>
<p>There is a <a href="http://talk.commonmark.org">forum for discussing CommonMark</a>; you should use it instead of github issues for questions and possibly open-ended discussions. Use the <a href="http://github.com/commonmark/CommonMark/issues">github issue tracker</a> only for simple, clear, actionable issues.</p>
<h1><a class="anchor" id="autotoc_md637"></a>
Authors</h1>
<p>John MacFarlane wrote the original library and program. The block parsing algorithm was worked out together with David Greenspan. Vicent Marti optimized the C implementation for performance, increasing its speed tenfold. Kārlis Gaņģis helped work out a better parsing algorithm for links and emphasis, eliminating several worst-case performance issues. Nick Wellnhofer contributed many improvements, including most of the C library's API and its test harness. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
