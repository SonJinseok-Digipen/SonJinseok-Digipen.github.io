<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Table of contents</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project<span id="projectnumber">&#160;Version 0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="struct_table.html">Table</a> of contents </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>Platforms</li>
<li>Get the source code</li>
<li>Dependencies<ul>
<li>Windows dependencies</li>
<li>macOS dependencies</li>
<li>Linux dependencies</li>
</ul>
</li>
<li>Compiling<ul>
<li>Windows details<ul>
<li>MinGW</li>
</ul>
</li>
<li>macOS details<ul>
<li>Issues with Retina displays</li>
</ul>
</li>
<li>Linux details</li>
</ul>
</li>
<li>Using shared third party libraries</li>
</ul>
<h1><a class="anchor" id="autotoc_md69"></a>
Platforms</h1>
<p>You should be able to compile Aseprite successfully on the following platforms:</p>
<ul>
<li>Windows 11 + <a href="https://imgur.com/a/7zs51IT">Visual Studio Community 2022 + Windows 10.0 SDK (the latest version available)</a> (we don't support MinGW)</li>
<li>macOS 13.0.1 Ventura + Xcode 14.1 + macOS 11.3 SDK (older version might work)</li>
<li>Linux Ubuntu Bionic 18.04 + clang 10.0</li>
</ul>
<h1><a class="anchor" id="autotoc_md70"></a>
Get the source code</h1>
<p>You can get the source code downloading a <code>Aseprite-v1.x-Source.zip</code> file from the latest Aseprite release (<em>in that case please follow the compilation instructions inside the <code>.zip</code> file</em>):</p>
<p><a href="https://github.com/aseprite/aseprite/releases">https://github.com/aseprite/aseprite/releases</a></p>
<p>Or you can clone the repository and all its submodules using the following command: </p><pre class="fragment">git clone --recursive https://github.com/aseprite/aseprite.git
</pre><p> To update an existing clone you can use the following commands: </p><pre class="fragment">cd aseprite
git pull
git submodule update --init --recursive
</pre><p> You can use <a href="https://git-for-windows.github.io/">Git for Windows</a> to clone the repository on Windows.</p>
<h1><a class="anchor" id="autotoc_md71"></a>
Dependencies</h1>
<p>To compile Aseprite you will need:</p>
<ul>
<li>The latest version of <a href="https://cmake.org">CMake</a> (3.16 or greater)</li>
<li><a href="https://ninja-build.org">Ninja</a> build system</li>
<li>And a compiled version of the <code>aseprite-m102</code> branch of the <a href="https://github.com/aseprite/skia#readme">Skia library</a>. There are <a href="https://github.com/aseprite/skia/releases">pre-built packages available</a>. You can get some extra information in the <a href="https://github.com/aseprite/laf#dependencies"><em>laf</em> dependencies</a> page.</li>
</ul>
<h2><a class="anchor" id="autotoc_md72"></a>
Windows dependencies</h2>
<ul>
<li>Windows 10 (we don't support cross-compiling)</li>
<li><a href="https://visualstudio.microsoft.com/downloads/">Visual Studio Community 2022</a> (we don't support MinGW)</li>
<li>The <a href="https://imgur.com/a/7zs51IT">Desktop development with C++ item + Windows 10.0.18362.0 SDK</a> from the Visual Studio installer</li>
</ul>
<h2><a class="anchor" id="autotoc_md73"></a>
macOS dependencies</h2>
<p>On macOS you will need macOS 11.3 SDK and Xcode 13.1 (older versions might work).</p>
<h2><a class="anchor" id="autotoc_md74"></a>
Linux dependencies</h2>
<p>You will need the following dependencies on Ubuntu/Debian: </p><pre class="fragment">sudo apt-get install -y g++ clang libc++-dev libc++abi-dev cmake ninja-build libx11-dev libxcursor-dev libxi-dev libgl1-mesa-dev libfontconfig1-dev
</pre><p> Or use clang-10 packages (or newer) in case that clang in your distribution is older than clang 10.0: </p><pre class="fragment">sudo apt-get install -y clang-10 libc++-10-dev libc++abi-10-dev
</pre><p> On Fedora: </p><pre class="fragment">sudo dnf install -y gcc-c++ clang libcxx-devel cmake ninja-build libX11-devel libXcursor-devel libXi-devel mesa-libGL-devel fontconfig-devel
</pre><p> On Arch: </p><pre class="fragment">sudo pacman -S gcc clang libc++ cmake ninja libx11 libxcursor mesa-libgl fontconfig
</pre><p> On SUSE: </p><pre class="fragment">sudo zypper install gcc-c++ clang libc++-devel libc++abi-devel cmake ninja libX11-devel libXcursor-devel libXi-devel Mesa-libGL-devel fontconfig-devel
</pre> <h1><a class="anchor" id="autotoc_md75"></a>
Compiling</h1>
<ol type="1">
<li>Get Aseprite code, put it in a folder like <code>C:\aseprite</code>, and create a <code>build</code> directory inside to leave all the files that are result of the compilation process (<code>.exe</code>, <code>.lib</code>, <code>.obj</code>, <code>.a</code>, <code>.o</code>, etc). <pre class="fragment"> cd C:\aseprite
 mkdir build
</pre> In this way, if you want to start with a fresh copy of Aseprite source code, you can remove the <code>build</code> directory and start again.</li>
<li>Enter in the new directory and execute <code>cmake</code>: <pre class="fragment"> cd C:\aseprite\build
 cmake -G Ninja -DLAF_BACKEND=skia ..
</pre> Here <code>cmake</code> needs different options depending on your platform. You must check the details for Windows, macOS, and Linux. Some <code>cmake</code> options can be modified using tools like <a href="https://cmake.org/cmake/help/latest/manual/ccmake.1.html"><code>ccmake</code></a> or <a href="https://cmake.org/cmake/help/latest/manual/cmake-gui.1.html"><code>cmake-gui</code></a>.</li>
<li>After you have executed and configured <code>cmake</code>, you have to compile the project: <pre class="fragment"> cd C:\aseprite\build
 ninja aseprite
</pre></li>
<li>When <code>ninja</code> finishes the compilation, you can find the executable inside <code>C:\aseprite\build\bin\aseprite.exe</code>.</li>
</ol>
<h2><a class="anchor" id="autotoc_md76"></a>
Windows details</h2>
<p>Open a <a href="https://docs.microsoft.com/en-us/dotnet/framework/tools/developer-command-prompt-for-vs">developer command prompt</a> or in the command line (<code>cmd.exe</code>) call: </p><pre class="fragment">call "C:\Program Files\Microsoft Visual Studio\2022\Community\Common7\Tools\VsDevCmd.bat" -arch=x64
</pre><p> And then </p><pre class="fragment">cd aseprite
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo -DLAF_BACKEND=skia -DSKIA_DIR=C:\deps\skia -DSKIA_LIBRARY_DIR=C:\deps\skia\out\Release-x64 -DSKIA_LIBRARY=C:\deps\skia\out\Release-x64\skia.lib -G Ninja ..
ninja aseprite
</pre><p> In this case, <code>C:\deps\skia</code> is the directory where Skia was compiled or uncompressed.</p>
<h3><a class="anchor" id="autotoc_md77"></a>
MinGW</h3>
<p>We don't support MinGW compiler and it might bring some problems into the compilation process. If you see that the detected C++ compiler by cmake is <code>C:\MinGW\bin\c++.exe</code> or something similar, you have to get rid of MinGW path (<code>C:\MinGW\bin</code>) from the <code>PATH</code> environment variable and run cmake again from scratch, so the Visual Studio C++ compiler (<code>cl.exe</code>) is used instead.</p>
<p>You can define the <code>CMAKE_IGNORE_PATH</code> variable when running cmake for the first time in case that you don't know or don't want to modify the <code>PATH</code> variable, e.g.: </p><pre class="fragment">cmake -DCMAKE_IGNORE_PATH=C:\MinGW\bin ...
</pre><p> More information in <a href="https://github.com/aseprite/aseprite/issues/2449">issue #2449</a></p>
<h2><a class="anchor" id="autotoc_md78"></a>
macOS details</h2>
<p>Run <code>cmake</code> with the following parameters and then <code>ninja</code>: </p><pre class="fragment">cd aseprite
mkdir build
cd build
cmake \
  -DCMAKE_BUILD_TYPE=RelWithDebInfo \
  -DCMAKE_OSX_ARCHITECTURES=x86_64 \
  -DCMAKE_OSX_DEPLOYMENT_TARGET=10.9 \
  -DCMAKE_OSX_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk \
  -DLAF_BACKEND=skia \
  -DSKIA_DIR=$HOME/deps/skia \
  -DSKIA_LIBRARY_DIR=$HOME/deps/skia/out/Release-x64 \
  -DSKIA_LIBRARY=$HOME/deps/skia/out/Release-x64/libskia.a \
  -G Ninja \
  ..
ninja aseprite
</pre><p> In this case, <code>$HOME/deps/skia</code> is the directory where Skia was compiled or downloaded. Make sure that <code>CMAKE_OSX_SYSROOT</code> is pointing to the correct SDK directory (in this case <code>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk</code>), but it could be different in your Mac.</p>
<h3><a class="anchor" id="autotoc_md79"></a>
Apple Silicon</h3>
<p>If you running macOS on an ARM64/AArch64/Apple Silicon Mac (e.g. M1), you can compile a native ARM64 version of Aseprite following the same steps as above but when we call <code>cmake</code>, we have some differences: </p><pre class="fragment">cmake \
  -DCMAKE_BUILD_TYPE=RelWithDebInfo \
  -DCMAKE_OSX_ARCHITECTURES=arm64 \
  -DCMAKE_OSX_DEPLOYMENT_TARGET=11.0 \
  -DCMAKE_OSX_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk \
  -DLAF_BACKEND=skia \
  -DSKIA_DIR=$HOME/deps/skia \
  -DSKIA_LIBRARY_DIR=$HOME/deps/skia/out/Release-arm64 \
  -DSKIA_LIBRARY=$HOME/deps/skia/out/Release-arm64/libskia.a \
  -DPNG_ARM_NEON:STRING=on \
  -G Ninja \
  ..
</pre> <h3><a class="anchor" id="autotoc_md80"></a>
Issues with Retina displays</h3>
<p>If you have a Retina display, check the following issue:</p>
<p><a href="https://github.com/aseprite/aseprite/issues/589">https://github.com/aseprite/aseprite/issues/589</a></p>
<h2><a class="anchor" id="autotoc_md81"></a>
Linux details</h2>
<p>You need to use clang and libc++ to compile Aseprite: </p><pre class="fragment">cd aseprite
mkdir build
cd build
export CC=clang
export CXX=clang++
cmake \
  -DCMAKE_BUILD_TYPE=RelWithDebInfo \
  -DCMAKE_CXX_FLAGS:STRING=-stdlib=libc++ \
  -DCMAKE_EXE_LINKER_FLAGS:STRING=-stdlib=libc++ \
  -DLAF_BACKEND=skia \
  -DSKIA_DIR=$HOME/deps/skia \
  -DSKIA_LIBRARY_DIR=$HOME/deps/skia/out/Release-x64 \
  -DSKIA_LIBRARY=$HOME/deps/skia/out/Release-x64/libskia.a \
  -G Ninja \
  ..
ninja aseprite
</pre><p> In this case, <code>$HOME/deps/skia</code> is the directory where Skia was compiled or uncompressed.</p>
<h3><a class="anchor" id="autotoc_md82"></a>
GCC compiler</h3>
<p>In case that you are using the pre-compiled Skia version, you must use the clang compiler and libc++ to compile Aseprite. Only if you compile Skia with GCC, you will be able to compile Aseprite with GCC, and this is not recommended as you will have a performance penalty doing so.</p>
<h1><a class="anchor" id="autotoc_md83"></a>
Using shared third party libraries</h1>
<p>If you don't want to use the embedded code of third party libraries (i.e. to use your installed versions), you can disable static linking configuring each <code>USE_SHARED_</code> option.</p>
<p>After running <code>cmake -G</code>, you can edit <code>build/CMakeCache.txt</code> file, and enable the <code>USE_SHARED_</code> flag (set its value to <code>ON</code>) of the library that you want to be linked dynamically. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
