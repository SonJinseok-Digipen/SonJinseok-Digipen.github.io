<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Build</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project<span id="projectnumber">&#160;Version 0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Build </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md1440"></a>
CMake</h2>
<p>CMakefiles for the library and the examples are available. This library has few dependencies, so it is possible to just add the source files into your project. Otherwise the usual way will suffice.</p>
<div class="fragment"><div class="line">mkdir build # make a build dir so that you can build out of tree.</div>
<div class="line">cd build</div>
<div class="line">cmake -DUSE_TLS=1 ..</div>
<div class="line">make -j</div>
<div class="line">make install # will install to /usr/local on Unix, on macOS it is a good idea to sudo chown -R `whoami`:staff /usr/local</div>
</div><!-- fragment --><p>Headers and a static library will be installed to the target dir. There is a unittest which can be executed by typing <code>make test</code>.</p>
<p>Options for building:</p>
<ul>
<li><code>-DBUILD_SHARED_LIBS=ON</code> will build the unittest as a shared libary instead of a static library, which is the default</li>
<li><code>-DUSE_ZLIB=1</code> will enable zlib support, required for http client + server + websocket per message deflate extension</li>
<li><code>-DUSE_TLS=1</code> will enable TLS support</li>
<li><code>-DUSE_OPEN_SSL=1</code> will use <a href="https://www.openssl.org/">openssl</a> for the TLS support (default on Linux and Windows). When using a custom version of openssl (say a prebuilt version, odd runtime problems can happens, as in #319, and special cmake trickery will be required (see this <a href="https://github.com/machinezone/IXWebSocket/issues/175#issuecomment-620231032">comment</a>)</li>
<li><code>-DUSE_MBED_TLS=1</code> will use <a href="https://tls.mbed.org/">mbedlts</a> for the TLS support</li>
<li><code>-DUSE_WS=1</code> will build the ws interactive command line tool</li>
<li><code>-DUSE_TEST=1</code> will build the unittest</li>
</ul>
<p>If you are on Windows, look at the <a href="https://github.com/machinezone/IXWebSocket/blob/master/appveyor.yml">appveyor</a> file (not maintained much though) or rather the <a href="https://github.com/machinezone/IXWebSocket/blob/master/.github/workflows/unittest_windows.yml">github actions</a> which have instructions for building dependencies.</p>
<p>It is also possible to externally include the project, so that everything is fetched over the wire when you build like so:</p>
<div class="fragment"><div class="line">ExternalProject_Add(</div>
<div class="line">    IXWebSocket</div>
<div class="line">    GIT_REPOSITORY https://github.com/machinezone/IXWebSocket.git</div>
<div class="line">    ...</div>
<div class="line">)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1441"></a>
vcpkg</h2>
<p>It is possible to get IXWebSocket through Microsoft <a href="https://github.com/microsoft/vcpkg">vcpkg</a>.</p>
<div class="fragment"><div class="line">vcpkg install ixwebsocket</div>
</div><!-- fragment --><p> To use the installed package within a cmake project, use the following: </p><div class="fragment"><div class="line">set(CMAKE_TOOLCHAIN_FILE &quot;$ENV{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake&quot; CACHE STRING &quot;&quot;) # this is super important in order for cmake to include the vcpkg search/lib paths!</div>
<div class="line"> </div>
<div class="line"># find library and its headers</div>
<div class="line">find_path(IXWEBSOCKET_INCLUDE_DIR ixwebsocket/IXWebSocket.h)</div>
<div class="line">find_library(IXWEBSOCKET_LIBRARY ixwebsocket)</div>
<div class="line"># include headers</div>
<div class="line">include_directories(${IXWEBSOCKET_INCLUDE_DIR})</div>
<div class="line"># ...</div>
<div class="line">target_link_libraries(${PROJECT_NAME} ... ${IXWEBSOCKET_LIBRARY}) # Cmake will automatically fail the generation if the lib was not found, i.e is set to NOTFOUNS</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1442"></a>
Conan</h2>
<p><a href="https://bintray.com/conan/conan-center/ixwebsocket%3A_/_latestVersion"><img src="https://api.bintray.com/packages/conan/conan-center/ixwebsocket%3A_/images/download.svg" alt="Download" style="pointer-events: none;" class="inline"/></a></p>
<p>Conan is currently supported through a recipe in <a href="https://github.com/conan-io/conan-center-index/tree/master/recipes/ixwebsocket">Conan Center</a> (<a href="https://bintray.com/conan/conan-center/ixwebsocket%3A_">Bintray entry</a>).</p>
<p>Package reference</p>
<ul>
<li>Conan 1.21.0 and up: <code>ixwebsocket/7.9.2</code></li>
<li>Earlier versions: <code>ixwebsocket/7.9.2@_/_</code></li>
</ul>
<p>Note that the version listed here might not be the latest one. See Bintray or the recipe itself for the latest version. If you're migrating from the previous, custom Bintray remote, note that the package reference <em>has</em> to be lower-case.</p>
<h2><a class="anchor" id="autotoc_md1443"></a>
Docker</h2>
<p>There is a Dockerfile for running the unittest on Linux, and to run the <code>ws</code> tool. It is also available on the docker registry.</p>
<div class="fragment"><div class="line">docker run docker.pkg.github.com/machinezone/ixwebsocket/ws:latest --help</div>
</div><!-- fragment --><p>To use docker-compose you must make a docker container first.</p>
<div class="fragment"><div class="line">$ make docker</div>
<div class="line">...</div>
<div class="line">$ docker compose up &amp;</div>
<div class="line">...</div>
<div class="line">$ docker exec -it ixwebsocket_ws_1 bash</div>
<div class="line">app@ca2340eb9106:~$ ws --help</div>
<div class="line">ws is a websocket tool</div>
<div class="line">...</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
